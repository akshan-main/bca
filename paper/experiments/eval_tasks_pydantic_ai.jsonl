{"task_id": "usage-total-tokens-math", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "UsageBase.total_tokens subtracts output tokens instead of adding them, making the total_tokens property return wrong values.", "vague_description": "Token usage tracking seems off. The total token count is always lower than expected, even lower than the input tokens alone.", "test_cmd": "python -m pytest tests/test_usage_limits.py::test_total_token_limit -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/usage.py", "original": "return self.input_tokens + self.output_tokens", "mutated": "return self.input_tokens - self.output_tokens", "line_num": 66}, "source": "handcrafted", "category": "usage"}
{"task_id": "usage-request-limit-off-by-one", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "UsageLimits.check_before_request uses > instead of >= for the request limit check, allowing one extra request beyond the limit.", "vague_description": "Setting request_limit=1 still allows 2 requests before stopping. The limit is off by one.", "test_cmd": "python -m pytest tests/test_usage_limits.py::test_retry_limit -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/usage.py", "original": "if request_limit is not None and usage.requests >= request_limit:", "mutated": "if request_limit is not None and usage.requests > request_limit:", "line_num": 369}, "source": "handcrafted", "category": "usage"}
{"task_id": "usage-check-tokens-output-inverted", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "check_tokens uses 'is None' instead of 'is not None' for output_tokens_limit, so the limit is never enforced.", "vague_description": "Output token limits are completely ignored. The agent generates unlimited output tokens even with output_tokens_limit set.", "test_cmd": "python -m pytest tests/test_usage_limits.py::test_response_token_limit -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/usage.py", "original": "if self.output_tokens_limit is not None and output_tokens > self.output_tokens_limit:", "mutated": "if self.output_tokens_limit is None and output_tokens > self.output_tokens_limit:", "line_num": 391}, "source": "handcrafted", "category": "usage"}
{"task_id": "usage-incr-tokens-wrong-op", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "_incr_usage_tokens subtracts input_tokens instead of adding, causing RunUsage.incr() to produce negative token counts.", "vague_description": "After multiple agent runs, the cumulative usage stats show negative input token counts. Something is wrong with the usage accumulation.", "test_cmd": "python -m pytest tests/test_usage_limits.py::test_add_usages -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/usage.py", "original": "slf.input_tokens += incr_usage.input_tokens", "mutated": "slf.input_tokens -= incr_usage.input_tokens", "line_num": 231}, "source": "handcrafted", "category": "usage"}
{"task_id": "usage-tool-calls-limit-comparison", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "check_before_tool_call raises UsageLimitExceeded when tool calls are BELOW the limit instead of above it, blocking tools prematurely.", "vague_description": "Tool calls are being rejected immediately even though the tool call limit hasn't been reached. The limit enforcement seems inverted.", "test_cmd": "python -m pytest tests/test_usage_limits.py::test_tool_call_limit -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/usage.py", "original": "if tool_calls_limit is not None and tool_calls > tool_calls_limit:", "mutated": "if tool_calls_limit is not None and tool_calls < tool_calls_limit:", "line_num": 404}, "source": "handcrafted", "category": "usage"}
{"task_id": "ssrf-cloud-metadata-inverted", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "is_cloud_metadata_ip returns True for non-metadata IPs and False for actual cloud metadata endpoints \u2014 the check is inverted.", "vague_description": "URL downloads to public websites are being blocked as 'cloud metadata', but requests to 169.254.169.254 go through unchecked.", "test_cmd": "python -m pytest tests/test_ssrf.py::TestIsCloudMetadataIp -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_ssrf.py", "original": "return ip_str in _CLOUD_METADATA_IPS", "mutated": "return ip_str not in _CLOUD_METADATA_IPS", "line_num": 79}, "source": "handcrafted", "category": "ssrf"}
{"task_id": "ssrf-protocol-validation", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "validate_url_protocol rejects HTTPS URLs, only allowing plain HTTP \u2014 breaking all secure downloads.", "vague_description": "All HTTPS URL downloads fail with a protocol error. Only plain HTTP URLs work, which defeats the security purpose.", "test_cmd": "python -m pytest tests/test_ssrf.py::TestValidateUrlProtocol -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_ssrf.py", "original": "if scheme not in ('http', 'https'):", "mutated": "if scheme not in ('http',):", "line_num": 145}, "source": "handcrafted", "category": "ssrf"}
{"task_id": "ssrf-default-port-swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "extract_host_and_port swaps default ports \u2014 HTTPS gets port 80 and HTTP gets port 443, breaking URL resolution.", "vague_description": "URL downloads fail silently. HTTPS connections seem to be going to the wrong port.", "test_cmd": "python -m pytest tests/test_ssrf.py::TestExtractHostAndPort -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_ssrf.py", "original": "default_port = 443 if is_https else 80", "mutated": "default_port = 80 if is_https else 443", "line_num": 169}, "source": "handcrafted", "category": "ssrf"}
{"task_id": "ssrf-private-ip-allow-local-inverted", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "The allow_local guard is inverted \u2014 private IPs are blocked when allow_local=True and allowed when allow_local=False.", "vague_description": "Setting allow_local=True blocks local network requests, and removing it allows them. The flag seems to do the opposite of what it should.", "test_cmd": "python -m pytest tests/test_ssrf.py::TestValidateAndResolveUrl::test_private_ip_blocked_by_default -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_ssrf.py", "original": "if not allow_local and is_private_ip(ip):", "mutated": "if allow_local and is_private_ip(ip):", "line_num": 241}, "source": "handcrafted", "category": "ssrf"}
{"task_id": "tool-retry-isinstance-inverted", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "ToolRetryError._format_error_details inverts the isinstance check, passing string content to dict-processing code and crashing.", "vague_description": "Tool retry errors crash with a TypeError when the tool returns a simple string error message. Only structured errors work.", "test_cmd": "python -m pytest tests/test_exceptions.py::test_tool_retry_error_str_with_string_content -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/exceptions.py", "original": "if isinstance(tool_retry.content, str)", "mutated": "if not isinstance(tool_retry.content, str)", "line_num": 205}, "source": "handcrafted", "category": "exceptions"}
{"task_id": "tool-retry-error-format", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "ToolRetryError pluralization is inverted \u2014 says 'errors' for 1 error and 'error' for multiple.", "vague_description": "Tool retry error messages have wrong grammar. A single validation error says 'errors' plural.", "test_cmd": "python -m pytest tests/test_exceptions.py::test_tool_retry_error_str_with_error_details -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/exceptions.py", "original": "f'{error_count} validation error{\"\" if error_count == 1 else \"s\"}{f\" for {tool_name!r}\" if tool_name else \"\"}'", "mutated": "f'{error_count} validation error{\"s\" if error_count == 1 else \"\"}{f\" for {tool_name!r}\" if tool_name else \"\"}'", "line_num": 221}, "source": "handcrafted", "category": "exceptions"}
{"task_id": "settings-merge-priority", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "merge_model_settings gives base settings priority over overrides instead of the other way around, ignoring per-run settings.", "vague_description": "Model settings passed to agent.run() are silently ignored. The agent always uses the settings from initialization.", "test_cmd": "python -m pytest tests/test_agent.py::test_model_settings_override -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/settings.py", "original": "return base | overrides", "mutated": "return overrides | base", "line_num": 192}, "source": "handcrafted", "category": "settings"}
{"task_id": "ssrf-ipv4-mapped-ipv6-skip", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "is_private_ip skips IPv4-mapped IPv6 unwrapping for actual mapped addresses, failing to detect private IPs in IPv6 form.", "vague_description": "Private IP addresses wrapped in IPv6 notation bypass the SSRF protection. For example ::ffff:192.168.1.1 is not blocked.", "test_cmd": "python -m pytest tests/test_ssrf.py::TestIsPrivateIp::test_ipv4_mapped_ipv6_private -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_ssrf.py", "original": "if isinstance(ip, ipaddress.IPv6Address) and ip.ipv4_mapped:", "mutated": "if isinstance(ip, ipaddress.IPv6Address) and not ip.ipv4_mapped:", "line_num": 91}, "source": "handcrafted", "category": "ssrf"}
{"task_id": "ssrf-max-redirects-zero", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "_MAX_REDIRECTS is set to 0, preventing any HTTP redirects from being followed during safe downloads.", "vague_description": "URL downloads that involve redirects always fail. The downloader seems unable to follow even a single redirect.", "test_cmd": "python -m pytest tests/test_ssrf.py::TestSafeDownload::test_redirect_followed -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_ssrf.py", "original": "_MAX_REDIRECTS = 10", "mutated": "_MAX_REDIRECTS = 0", "line_num": 50}, "source": "handcrafted", "category": "ssrf"}
{"task_id": "d-abstract-L140-membership_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In abstract.py:140, a membership test was inverted: 'for return_type in return_types:' became 'for return_type not in return_types:'. This reverses which values pass the check.", "vague_description": "An inclusion check is backwards. Items that should be accepted are rejected, and items that should be rejected pass through.", "test_cmd": "python -m pytest tests/test_logfire.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/agent/abstract.py", "original": "for return_type in return_types:", "mutated": "for return_type not in return_types:", "line_num": 140}, "source": "discovered", "category": "agent", "mutation_type": "membership_swap"}
{"task_id": "d-builtin_tools-L74-condition_inversion", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In builtin_tools.py:74, a condition was inverted: 'if cls is not AbstractBuiltinTool:' became 'if cls is AbstractBuiltinTool:'. The branch now triggers in the opposite case.", "vague_description": "A guard clause or check does the opposite of what it should. The happy path and error path are swapped.", "test_cmd": "python -m pytest tests/test_builtin_tools.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/builtin_tools.py", "original": "if cls is not AbstractBuiltinTool:", "mutated": "if cls is AbstractBuiltinTool:", "line_num": 74}, "source": "discovered", "category": "builtin_tools", "mutation_type": "condition_inversion"}
{"task_id": "d-concurrency-L290-none_check_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In concurrency.py:290, a None check was inverted: 'if limit is None:' became 'if limit is not None:'. This reverses when the value is considered present vs absent.", "vague_description": "Setting a value to None should disable something, but it has no effect. Or leaving it unset activates behavior that shouldn't be there.", "test_cmd": "python -m pytest tests/test_concurrency.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/concurrency.py", "original": "if limit is None:", "mutated": "if limit is not None:", "line_num": 290}, "source": "discovered", "category": "concurrency", "mutation_type": "none_check_swap"}
{"task_id": "d-direct-L316-value_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In direct.py:316, a value was swapped: 'while True:' became 'while False:'.", "vague_description": "Two related values are mixed up. The system applies the wrong one of two options depending on context.", "test_cmd": "python -m pytest tests/test_direct.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/direct.py", "original": "while True:", "mutated": "while False:", "line_num": 316}, "source": "discovered", "category": "direct_api", "mutation_type": "value_swap"}
{"task_id": "d-exceptions-L224-membership_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In exceptions.py:224, a membership test was inverted: 'loc = '.'.join(str(x) for x in e['loc']) if e['loc'] else '__root__'' became 'loc = '.'.join(str(x) for x not in e['loc']) if e['loc'] else '__root__''. This reverses which values pass the check.", "vague_description": "A set membership or list containment test is inverted. The code includes what it should exclude and excludes what it should include.", "test_cmd": "python -m pytest tests/test_exceptions.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/exceptions.py", "original": "loc = '.'.join(str(x) for x in e['loc']) if e['loc'] else '__root__'", "mutated": "loc = '.'.join(str(x) for x not in e['loc']) if e['loc'] else '__root__'", "line_num": 224}, "source": "discovered", "category": "exceptions", "mutation_type": "membership_swap"}
{"task_id": "d-json_schema-L128-none_check_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _json_schema.py:128, a None check was inverted: 'if (additional_properties := schema.get('additionalProperties')) is not None:' became 'if (additional_properties := schema.get('additionalProperties')) is None:'. This reverses when the value is considered present vs absent.", "vague_description": "Setting a value to None should disable something, but it has no effect. Or leaving it unset activates behavior that shouldn't be there.", "test_cmd": "python -m pytest tests/test_json_schema.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_json_schema.py", "original": "if (additional_properties := schema.get('additionalProperties')) is not None:", "mutated": "if (additional_properties := schema.get('additionalProperties')) is None:", "line_num": 128}, "source": "discovered", "category": "json_schema", "mutation_type": "none_check_swap"}
{"task_id": "d-messages-L389-comparison_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In messages.py:389, the comparison operator was changed: ') -> None: ...  # pragma: no cover' became ') ->= None: ...  # pragma: no cover'. This alters the boundary condition.", "vague_description": "A numeric check is behaving unexpectedly at the boundary. Values exactly at the threshold are handled incorrectly.", "test_cmd": "python -m pytest tests/test_messages.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/messages.py", "original": ") -> None: ...  # pragma: no cover", "mutated": ") ->= None: ...  # pragma: no cover", "line_num": 389}, "source": "discovered", "category": "messages", "mutation_type": "comparison_swap"}
{"task_id": "d-instrumented-L68-boolean_flip", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In instrumented.py:68, a boolean operator was swapped: 'if instrument and not isinstance(model, InstrumentedModel):' became 'if instrument or not isinstance(model, InstrumentedModel):'. This changes the logical condition.", "vague_description": "A feature flag or boolean check seems inverted. Enabling something disables it, or the logic short-circuits in the wrong direction.", "test_cmd": "python -m pytest tests/test_direct.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/models/instrumented.py", "original": "if instrument and not isinstance(model, InstrumentedModel):", "mutated": "if instrument or not isinstance(model, InstrumentedModel):", "line_num": 68}, "source": "discovered", "category": "models", "mutation_type": "boolean_flip"}
{"task_id": "d-parts_manager-L211-none_check_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _parts_manager.py:211, a None check was inverted: 'if vendor_part_id is None:' became 'if vendor_part_id is not None:'. This reverses when the value is considered present vs absent.", "vague_description": "Optional configuration is being ignored. When I explicitly set a value, the system behaves as if it's not set, and when I don't set it, the system acts like it is.", "test_cmd": "python -m pytest tests/test_parts_manager.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_parts_manager.py", "original": "if vendor_part_id is None:", "mutated": "if vendor_part_id is not None:", "line_num": 211}, "source": "discovered", "category": "parts_manager", "mutation_type": "none_check_swap"}
{"task_id": "d-result-L133-membership_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In result.py:133, a membership test was inverted: 'async for text in self._stream_response_text(delta=False, debounce_by=debounce_by):' became 'async for text not in self._stream_response_text(delta=False, debounce_by=debounce_by):'. This reverses which values pass the check.", "vague_description": "A filter or validation check accepts the wrong set of values. Things that should match don't, and things that shouldn't match do.", "test_cmd": "python -m pytest tests/test_deps.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/result.py", "original": "async for text in self._stream_response_text(delta=False, debounce_by=debounce_by):", "mutated": "async for text not in self._stream_response_text(delta=False, debounce_by=debounce_by):", "line_num": 133}, "source": "discovered", "category": "result", "mutation_type": "membership_swap"}
{"task_id": "d-retries-L369-condition_inversion", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In retries.py:369, a condition was inverted: 'assert isinstance(retry_time, datetime)' became 'assert not isinstance(retry_time, datetime)'. The branch now triggers in the opposite case.", "vague_description": "Logic seems backwards. An operation that should run only in certain cases runs in the opposite cases instead.", "test_cmd": "python -m pytest tests/test_tenacity.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/retries.py", "original": "assert isinstance(retry_time, datetime)", "mutated": "assert not isinstance(retry_time, datetime)", "line_num": 369}, "source": "discovered", "category": "retries", "mutation_type": "condition_inversion"}
{"task_id": "d-run-L337-membership_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In run.py:337, a membership test was inverted: 'for idx, part in enumerate(last_message.parts):' became 'for idx, part not in enumerate(last_message.parts):'. This reverses which values pass the check.", "vague_description": "A filter or validation check accepts the wrong set of values. Things that should match don't, and things that shouldn't match do.", "test_cmd": "python -m pytest tests/test_builtin_tools.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/run.py", "original": "for idx, part in enumerate(last_message.parts):", "mutated": "for idx, part not in enumerate(last_message.parts):", "line_num": 337}, "source": "discovered", "category": "run", "mutation_type": "membership_swap"}
{"task_id": "d-ssrf-L201-comparison_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _ssrf.py:201, the comparison operator was changed: 'if resolved.port != default_port:' became 'if resolved.port == default_port:'. This alters the boundary condition.", "vague_description": "A threshold or limit check seems to trigger at the wrong value. The boundary is off by one or uses the wrong comparison direction.", "test_cmd": "python -m pytest tests/test_ssrf.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_ssrf.py", "original": "if resolved.port != default_port:", "mutated": "if resolved.port == default_port:", "line_num": 201}, "source": "discovered", "category": "ssrf", "mutation_type": "comparison_swap"}
{"task_id": "d-thinking_part-L22-arithmetic_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _thinking_part.py:22, an arithmetic operator was changed: 'think_content, content = content[:end_index], content[end_index + len(end_tag) :]' became 'think_content, content = content[:end_index], content[end_index - len(end_tag) :]'. This produces wrong numeric results.", "vague_description": "Computed values are consistently wrong. The computation seems to use subtraction where it should add, or vice versa.", "test_cmd": "python -m pytest tests/test_thinking_part.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_thinking_part.py", "original": "think_content, content = content[:end_index], content[end_index + len(end_tag) :]", "mutated": "think_content, content = content[:end_index], content[end_index - len(end_tag) :]", "line_num": 22}, "source": "discovered", "category": "thinking", "mutation_type": "arithmetic_swap"}
{"task_id": "d-tools-L251-value_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In tools.py:251, a value was swapped: 'json_schema['additionalProperties'] = False' became 'json_schema['additionalProperties'] = True'.", "vague_description": "An assignment or return value is wrong \u2014 it returns the first argument where it should return the second, or similar.", "test_cmd": "python -m pytest tests/test_tools.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/tools.py", "original": "json_schema['additionalProperties'] = False", "mutated": "json_schema['additionalProperties'] = True", "line_num": 251}, "source": "discovered", "category": "tools", "mutation_type": "value_swap"}
{"task_id": "d-abstract-L31-comparison_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In abstract.py:31, the comparison operator was changed: ') -> Any: ...' became ') ->= Any: ...'. This alters the boundary condition.", "vague_description": "Something that should be caught at an exact limit slips through, or triggers too early. The comparison logic seems wrong.", "test_cmd": "python -m pytest tests/test_logfire.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/toolsets/abstract.py", "original": ") -> Any: ...", "mutated": ") ->= Any: ...", "line_num": 31}, "source": "discovered", "category": "toolsets", "mutation_type": "comparison_swap"}
{"task_id": "d-app-L89-constant_mutation", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In app.py:89, a constant was changed: 'url_hash = hashlib.sha256(html_source.encode()).hexdigest()[:16]' became 'url_hash = hashlib.sha256(html_source.encode()).hexdigest()[:17]'. This shifts a boundary or default.", "vague_description": "A numeric constant or default parameter has the wrong value. The system behaves as if configured with a different setting than intended.", "test_cmd": "python -m pytest tests/test_ui_web.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/ui/_web/app.py", "original": "url_hash = hashlib.sha256(html_source.encode()).hexdigest()[:16]", "mutated": "url_hash = hashlib.sha256(html_source.encode()).hexdigest()[:17]", "line_num": 89}, "source": "discovered", "category": "ui", "mutation_type": "constant_mutation"}
{"task_id": "d-usage-L240-condition_inversion", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In usage.py:240, a condition was inverted: 'if isinstance(value, (int, float)):' became 'if not isinstance(value, (int, float)):'. The branch now triggers in the opposite case.", "vague_description": "A conditional branch is inverted. The code takes the 'if' path when it should take the 'else' path, and vice versa.", "test_cmd": "python -m pytest tests/test_usage_limits.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/usage.py", "original": "if isinstance(value, (int, float)):", "mutated": "if not isinstance(value, (int, float)):", "line_num": 240}, "source": "discovered", "category": "usage", "mutation_type": "condition_inversion"}
{"task_id": "d-utils-L243-none_check_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _utils.py:243, a None check was inverted: 'if group_start_time is None:' became 'if group_start_time is not None:'. This reverses when the value is considered present vs absent.", "vague_description": "Setting a value to None should disable something, but it has no effect. Or leaving it unset activates behavior that shouldn't be there.", "test_cmd": "python -m pytest tests/test_utils.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_utils.py", "original": "if group_start_time is None:", "mutated": "if group_start_time is not None:", "line_num": 243}, "source": "discovered", "category": "utils", "mutation_type": "none_check_swap"}
{"task_id": "d-abstract-L446-comparison_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In abstract.py:446, the comparison operator was changed: ') -> AbstractAsyncContextManager[result.StreamedRunResult[AgentDepsT, RunOutputDataT]]: ...' became ') ->= AbstractAsyncContextManager[result.StreamedRunResult[AgentDepsT, RunOutputDataT]]: ...'. This alters the boundary condition.", "vague_description": "Something that should be caught at an exact limit slips through, or triggers too early. The comparison logic seems wrong.", "test_cmd": "python -m pytest tests/test_logfire.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/agent/abstract.py", "original": ") -> AbstractAsyncContextManager[result.StreamedRunResult[AgentDepsT, RunOutputDataT]]: ...", "mutated": ") ->= AbstractAsyncContextManager[result.StreamedRunResult[AgentDepsT, RunOutputDataT]]: ...", "line_num": 446}, "source": "discovered", "category": "agent", "mutation_type": "comparison_swap"}
{"task_id": "d-builtin_tools-L469-condition_inversion", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In builtin_tools.py:469, a condition was inverted: 'if isinstance(tool_data, dict):' became 'if not isinstance(tool_data, dict):'. The branch now triggers in the opposite case.", "vague_description": "A guard clause or check does the opposite of what it should. The happy path and error path are swapped.", "test_cmd": "python -m pytest tests/test_builtin_tools.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/builtin_tools.py", "original": "if isinstance(tool_data, dict):", "mutated": "if not isinstance(tool_data, dict):", "line_num": 469}, "source": "discovered", "category": "builtin_tools", "mutation_type": "condition_inversion"}
{"task_id": "d-concurrency-L130-condition_inversion", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In concurrency.py:130, a condition was inverted: 'if isinstance(limit, int):' became 'if not isinstance(limit, int):'. The branch now triggers in the opposite case.", "vague_description": "A guard clause or check does the opposite of what it should. The happy path and error path are swapped.", "test_cmd": "python -m pytest tests/test_concurrency.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/concurrency.py", "original": "if isinstance(limit, int):", "mutated": "if not isinstance(limit, int):", "line_num": 130}, "source": "discovered", "category": "concurrency", "mutation_type": "condition_inversion"}
{"task_id": "d-direct-L343-none_check_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In direct.py:343, a None check was inverted: 'if self._stream_response is None:' became 'if self._stream_response is not None:'. This reverses when the value is considered present vs absent.", "vague_description": "Optional configuration is being ignored. When I explicitly set a value, the system behaves as if it's not set, and when I don't set it, the system acts like it is.", "test_cmd": "python -m pytest tests/test_direct.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/direct.py", "original": "if self._stream_response is None:", "mutated": "if self._stream_response is not None:", "line_num": 343}, "source": "discovered", "category": "direct_api", "mutation_type": "none_check_swap"}
{"task_id": "d-exceptions-L223-membership_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In exceptions.py:223, a membership test was inverted: 'for e in errors:' became 'for e not in errors:'. This reverses which values pass the check.", "vague_description": "A set membership or list containment test is inverted. The code includes what it should exclude and excludes what it should include.", "test_cmd": "python -m pytest tests/test_exceptions.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/exceptions.py", "original": "for e in errors:", "mutated": "for e not in errors:", "line_num": 223}, "source": "discovered", "category": "exceptions", "mutation_type": "membership_swap"}
{"task_id": "d-json_schema-L144-membership_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _json_schema.py:144, a membership test was inverted: 'schema['prefixItems'] = [self._handle(item) for item in prefix_items]' became 'schema['prefixItems'] = [self._handle(item) for item not in prefix_items]'. This reverses which values pass the check.", "vague_description": "An inclusion check is backwards. Items that should be accepted are rejected, and items that should be rejected pass through.", "test_cmd": "python -m pytest tests/test_json_schema.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_json_schema.py", "original": "schema['prefixItems'] = [self._handle(item) for item in prefix_items]", "mutated": "schema['prefixItems'] = [self._handle(item) for item not in prefix_items]", "line_num": 144}, "source": "discovered", "category": "json_schema", "mutation_type": "membership_swap"}
{"task_id": "d-messages-L342-comparison_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In messages.py:342, the comparison operator was changed: ') -> None: ...  # pragma: no cover' became ') ->= None: ...  # pragma: no cover'. This alters the boundary condition.", "vague_description": "Something that should be caught at an exact limit slips through, or triggers too early. The comparison logic seems wrong.", "test_cmd": "python -m pytest tests/test_messages.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/messages.py", "original": ") -> None: ...  # pragma: no cover", "mutated": ") ->= None: ...  # pragma: no cover", "line_num": 342}, "source": "discovered", "category": "messages", "mutation_type": "comparison_swap"}
{"task_id": "d-instrumented-L211-membership_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In instrumented.py:211, a membership test was inverted: 'for event in message_events:' became 'for event not in message_events:'. This reverses which values pass the check.", "vague_description": "A filter or validation check accepts the wrong set of values. Things that should match don't, and things that shouldn't match do.", "test_cmd": "python -m pytest tests/test_direct.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/models/instrumented.py", "original": "for event in message_events:", "mutated": "for event not in message_events:", "line_num": 211}, "source": "discovered", "category": "models", "mutation_type": "membership_swap"}
{"task_id": "d-parts_manager-L223-none_check_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _parts_manager.py:223, a None check was inverted: 'if existing_thinking_part_and_index is None:' became 'if existing_thinking_part_and_index is not None:'. This reverses when the value is considered present vs absent.", "vague_description": "A feature that should be disabled when not configured is always active, or vice versa. The None/not-None check seems inverted.", "test_cmd": "python -m pytest tests/test_parts_manager.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_parts_manager.py", "original": "if existing_thinking_part_and_index is None:", "mutated": "if existing_thinking_part_and_index is not None:", "line_num": 223}, "source": "discovered", "category": "parts_manager", "mutation_type": "none_check_swap"}
{"task_id": "d-result-L97-membership_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In result.py:97, a membership test was inverted: 'for part in msg.parts:' became 'for part not in msg.parts:'. This reverses which values pass the check.", "vague_description": "A set membership or list containment test is inverted. The code includes what it should exclude and excludes what it should include.", "test_cmd": "python -m pytest tests/test_deps.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/result.py", "original": "for part in msg.parts:", "mutated": "for part not in msg.parts:", "line_num": 97}, "source": "discovered", "category": "result", "mutation_type": "membership_swap"}
{"task_id": "d-retries-L354-constant_mutation", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In retries.py:354, a constant was changed: 'fallback_strategy = wait_exponential(multiplier=1, max=60)' became 'fallback_strategy = wait_exponential(multiplier=0, max=60)'. This shifts a boundary or default.", "vague_description": "A hardcoded value is slightly off. Behavior at specific boundaries doesn't match expectations \u2014 like an off-by-one in a limit.", "test_cmd": "python -m pytest tests/test_tenacity.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/retries.py", "original": "fallback_strategy = wait_exponential(multiplier=1, max=60)", "mutated": "fallback_strategy = wait_exponential(multiplier=0, max=60)", "line_num": 354}, "source": "discovered", "category": "retries", "mutation_type": "constant_mutation"}
{"task_id": "d-ssrf-L166-condition_inversion", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _ssrf.py:166, a condition was inverted: 'if not hostname:' became 'if hostname:'. The branch now triggers in the opposite case.", "vague_description": "A conditional branch is inverted. The code takes the 'if' path when it should take the 'else' path, and vice versa.", "test_cmd": "python -m pytest tests/test_ssrf.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_ssrf.py", "original": "if not hostname:", "mutated": "if hostname:", "line_num": 166}, "source": "discovered", "category": "ssrf", "mutation_type": "condition_inversion"}
{"task_id": "d-thinking_part-L17-arithmetic_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _thinking_part.py:17, an arithmetic operator was changed: 'before_think, content = content[:start_index], content[start_index + len(start_tag) :]' became 'before_think, content = content[:start_index], content[start_index - len(start_tag) :]'. This produces wrong numeric results.", "vague_description": "An accumulator or counter is going in the wrong direction. Values that should increase are decreasing, or the formula uses the wrong operator.", "test_cmd": "python -m pytest tests/test_thinking_part.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_thinking_part.py", "original": "before_think, content = content[:start_index], content[start_index + len(start_tag) :]", "mutated": "before_think, content = content[:start_index], content[start_index - len(start_tag) :]", "line_num": 17}, "source": "discovered", "category": "thinking", "mutation_type": "arithmetic_swap"}
{"task_id": "d-tools-L377-boolean_flip", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In tools.py:377, a boolean operator was swapped: 'self.name = name or function.__name__' became 'self.name = name and function.__name__'. This changes the logical condition.", "vague_description": "A logical condition evaluates to the opposite of what it should. The system does the wrong thing when a condition is true vs false.", "test_cmd": "python -m pytest tests/test_tools.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/tools.py", "original": "self.name = name or function.__name__", "mutated": "self.name = name and function.__name__", "line_num": 377}, "source": "discovered", "category": "tools", "mutation_type": "boolean_flip"}
{"task_id": "d-abstract-L35-comparison_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In abstract.py:35, the comparison operator was changed: ') -> Any: ...' became ') ->= Any: ...'. This alters the boundary condition.", "vague_description": "A numeric check is behaving unexpectedly at the boundary. Values exactly at the threshold are handled incorrectly.", "test_cmd": "python -m pytest tests/test_logfire.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/toolsets/abstract.py", "original": ") -> Any: ...", "mutated": ") ->= Any: ...", "line_num": 35}, "source": "discovered", "category": "toolsets", "mutation_type": "comparison_swap"}
{"task_id": "d-app-L80-condition_inversion", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In app.py:80, a condition was inverted: 'if isinstance(html_source, Path):' became 'if not isinstance(html_source, Path):'. The branch now triggers in the opposite case.", "vague_description": "A guard clause or check does the opposite of what it should. The happy path and error path are swapped.", "test_cmd": "python -m pytest tests/test_ui_web.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/ui/_web/app.py", "original": "if isinstance(html_source, Path):", "mutated": "if not isinstance(html_source, Path):", "line_num": 80}, "source": "discovered", "category": "ui", "mutation_type": "condition_inversion"}
{"task_id": "d-usage-L373-none_check_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In usage.py:373, a None check was inverted: 'if self.input_tokens_limit is not None and input_tokens > self.input_tokens_limit:' became 'if self.input_tokens_limit is None and input_tokens > self.input_tokens_limit:'. This reverses when the value is considered present vs absent.", "vague_description": "Setting a value to None should disable something, but it has no effect. Or leaving it unset activates behavior that shouldn't be there.", "test_cmd": "python -m pytest tests/test_usage_limits.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/usage.py", "original": "if self.input_tokens_limit is not None and input_tokens > self.input_tokens_limit:", "mutated": "if self.input_tokens_limit is None and input_tokens > self.input_tokens_limit:", "line_num": 373}, "source": "discovered", "category": "usage", "mutation_type": "none_check_swap"}
{"task_id": "d-utils-L212-none_check_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _utils.py:212, a None check was inverted: 'if group_start_time is None:' became 'if group_start_time is not None:'. This reverses when the value is considered present vs absent.", "vague_description": "Optional configuration is being ignored. When I explicitly set a value, the system behaves as if it's not set, and when I don't set it, the system acts like it is.", "test_cmd": "python -m pytest tests/test_utils.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_utils.py", "original": "if group_start_time is None:", "mutated": "if group_start_time is not None:", "line_num": 212}, "source": "discovered", "category": "utils", "mutation_type": "none_check_swap"}
{"task_id": "d-wrapper-L93-comparison_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In wrapper.py:93, the comparison operator was changed: ') -> AbstractAsyncContextManager[AgentRun[AgentDepsT, OutputDataT]]: ...' became ') ->= AbstractAsyncContextManager[AgentRun[AgentDepsT, OutputDataT]]: ...'. This alters the boundary condition.", "vague_description": "A threshold or limit check seems to trigger at the wrong value. The boundary is off by one or uses the wrong comparison direction.", "test_cmd": "python -m pytest tests/test_logfire.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/agent/wrapper.py", "original": ") -> AbstractAsyncContextManager[AgentRun[AgentDepsT, OutputDataT]]: ...", "mutated": ") ->= AbstractAsyncContextManager[AgentRun[AgentDepsT, OutputDataT]]: ...", "line_num": 93}, "source": "discovered", "category": "agent", "mutation_type": "comparison_swap"}
{"task_id": "d-builtin_tools-L81-membership_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In builtin_tools.py:81, a membership test was inverted: 'tools_annotated = [Annotated[tool, pydantic.Tag(tool.kind)] for tool in tools]' became 'tools_annotated = [Annotated[tool, pydantic.Tag(tool.kind)] for tool not in tools]'. This reverses which values pass the check.", "vague_description": "An inclusion check is backwards. Items that should be accepted are rejected, and items that should be rejected pass through.", "test_cmd": "python -m pytest tests/test_builtin_tools.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/builtin_tools.py", "original": "tools_annotated = [Annotated[tool, pydantic.Tag(tool.kind)] for tool in tools]", "mutated": "tools_annotated = [Annotated[tool, pydantic.Tag(tool.kind)] for tool not in tools]", "line_num": 81}, "source": "discovered", "category": "builtin_tools", "mutation_type": "membership_swap"}
{"task_id": "d-concurrency-L222-constant_mutation", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In concurrency.py:222, a constant was changed: 'self._waiting_count -= 1' became 'self._waiting_count -= 0'. This shifts a boundary or default.", "vague_description": "A hardcoded value is slightly off. Behavior at specific boundaries doesn't match expectations \u2014 like an off-by-one in a limit.", "test_cmd": "python -m pytest tests/test_concurrency.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/concurrency.py", "original": "self._waiting_count -= 1", "mutated": "self._waiting_count -= 0", "line_num": 222}, "source": "discovered", "category": "concurrency", "mutation_type": "constant_mutation"}
{"task_id": "d-direct-L320-condition_inversion", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In direct.py:320, a condition was inverted: 'elif isinstance(item, Exception):' became 'elif not isinstance(item, Exception):'. The branch now triggers in the opposite case.", "vague_description": "A conditional branch is inverted. The code takes the 'if' path when it should take the 'else' path, and vice versa.", "test_cmd": "python -m pytest tests/test_direct.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/direct.py", "original": "elif isinstance(item, Exception):", "mutated": "elif not isinstance(item, Exception):", "line_num": 320}, "source": "discovered", "category": "direct_api", "mutation_type": "condition_inversion"}
{"task_id": "d-exceptions-L147-none_check_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In exceptions.py:147, a None check was inverted: 'if body is None:' became 'if body is not None:'. This reverses when the value is considered present vs absent.", "vague_description": "Setting a value to None should disable something, but it has no effect. Or leaving it unset activates behavior that shouldn't be there.", "test_cmd": "python -m pytest tests/test_exceptions.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/exceptions.py", "original": "if body is None:", "mutated": "if body is not None:", "line_num": 147}, "source": "discovered", "category": "exceptions", "mutation_type": "none_check_swap"}
{"task_id": "d-json_schema-L109-none_check_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _json_schema.py:109, a None check was inverted: 'elif type_ is None:' became 'elif type_ is not None:'. This reverses when the value is considered present vs absent.", "vague_description": "A feature that should be disabled when not configured is always active, or vice versa. The None/not-None check seems inverted.", "test_cmd": "python -m pytest tests/test_json_schema.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_json_schema.py", "original": "elif type_ is None:", "mutated": "elif type_ is not None:", "line_num": 109}, "source": "discovered", "category": "json_schema", "mutation_type": "none_check_swap"}
{"task_id": "d-messages-L165-condition_inversion", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In messages.py:165, a condition was inverted: 'if isinstance(identifier, str):' became 'if not isinstance(identifier, str):'. The branch now triggers in the opposite case.", "vague_description": "Logic seems backwards. An operation that should run only in certain cases runs in the opposite cases instead.", "test_cmd": "python -m pytest tests/test_messages.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/messages.py", "original": "if isinstance(identifier, str):", "mutated": "if not isinstance(identifier, str):", "line_num": 165}, "source": "discovered", "category": "messages", "mutation_type": "condition_inversion"}
{"task_id": "d-instrumented-L224-membership_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In instrumented.py:224, a membership test was inverted: 'for message in messages:' became 'for message not in messages:'. This reverses which values pass the check.", "vague_description": "A set membership or list containment test is inverted. The code includes what it should exclude and excludes what it should include.", "test_cmd": "python -m pytest tests/test_direct.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/models/instrumented.py", "original": "for message in messages:", "mutated": "for message not in messages:", "line_num": 224}, "source": "discovered", "category": "models", "mutation_type": "membership_swap"}
{"task_id": "d-parts_manager-L135-comparison_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _parts_manager.py:135, the comparison operator was changed: 'if content == thinking_tags[1]:' became 'if content != thinking_tags[1]:'. This alters the boundary condition.", "vague_description": "Something that should be caught at an exact limit slips through, or triggers too early. The comparison logic seems wrong.", "test_cmd": "python -m pytest tests/test_parts_manager.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_parts_manager.py", "original": "if content == thinking_tags[1]:", "mutated": "if content != thinking_tags[1]:", "line_num": 135}, "source": "discovered", "category": "parts_manager", "mutation_type": "comparison_swap"}
{"task_id": "d-result-L130-membership_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In result.py:130, a membership test was inverted: 'async for text in self._stream_response_text(delta=True, debounce_by=debounce_by):' became 'async for text not in self._stream_response_text(delta=True, debounce_by=debounce_by):'. This reverses which values pass the check.", "vague_description": "A set membership or list containment test is inverted. The code includes what it should exclude and excludes what it should include.", "test_cmd": "python -m pytest tests/test_deps.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/result.py", "original": "async for text in self._stream_response_text(delta=True, debounce_by=debounce_by):", "mutated": "async for text not in self._stream_response_text(delta=True, debounce_by=debounce_by):", "line_num": 130}, "source": "discovered", "category": "result", "mutation_type": "membership_swap"}
{"task_id": "d-retries-L165-boolean_flip", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In retries.py:165, a boolean operator was swapped: 'self.wrapped = wrapped or HTTPTransport()' became 'self.wrapped = wrapped and HTTPTransport()'. This changes the logical condition.", "vague_description": "A logical condition evaluates to the opposite of what it should. The system does the wrong thing when a condition is true vs false.", "test_cmd": "python -m pytest tests/test_tenacity.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/retries.py", "original": "self.wrapped = wrapped or HTTPTransport()", "mutated": "self.wrapped = wrapped and HTTPTransport()", "line_num": 165}, "source": "discovered", "category": "retries", "mutation_type": "boolean_flip"}
{"task_id": "d-ssrf-L94-membership_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _ssrf.py:94, a membership test was inverted: 'return any(ip in network for network in _PRIVATE_NETWORKS)' became 'return any(ip not in network for network in _PRIVATE_NETWORKS)'. This reverses which values pass the check.", "vague_description": "A filter or validation check accepts the wrong set of values. Things that should match don't, and things that shouldn't match do.", "test_cmd": "python -m pytest tests/test_ssrf.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_ssrf.py", "original": "return any(ip in network for network in _PRIVATE_NETWORKS)", "mutated": "return any(ip not in network for network in _PRIVATE_NETWORKS)", "line_num": 94}, "source": "discovered", "category": "ssrf", "mutation_type": "membership_swap"}
{"task_id": "d-tools-L247-boolean_flip", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In tools.py:247, a boolean operator was swapped: 'json_schema['additionalProperties'] = self.generate_inner(extras_schema) or True' became 'json_schema['additionalProperties'] = self.generate_inner(extras_schema) and True'. This changes the logical condition.", "vague_description": "An 'or' that should be 'and' (or vice versa) is causing wrong behavior. The boolean logic combines conditions incorrectly.", "test_cmd": "python -m pytest tests/test_tools.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/tools.py", "original": "json_schema['additionalProperties'] = self.generate_inner(extras_schema) or True", "mutated": "json_schema['additionalProperties'] = self.generate_inner(extras_schema) and True", "line_num": 247}, "source": "discovered", "category": "tools", "mutation_type": "boolean_flip"}
{"task_id": "d-app-L158-comparison_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In app.py:158, the comparison operator was changed: 'async def index(request: Request) -> Response:' became 'async def index(request: Request) ->= Response:'. This alters the boundary condition.", "vague_description": "Something that should be caught at an exact limit slips through, or triggers too early. The comparison logic seems wrong.", "test_cmd": "python -m pytest tests/test_ui_web.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/ui/_web/app.py", "original": "async def index(request: Request) -> Response:", "mutated": "async def index(request: Request) ->= Response:", "line_num": 158}, "source": "discovered", "category": "ui", "mutation_type": "comparison_swap"}
{"task_id": "d-usage-L96-membership_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In usage.py:96, a membership test was inverted: 'kv_pairs = (f'{f.name}={value!r}' for f in fields(self) if (value := getattr(self, f.name)))' became 'kv_pairs = (f'{f.name}={value!r}' for f not in fields(self) if (value := getattr(self, f.name)))'. This reverses which values pass the check.", "vague_description": "An inclusion check is backwards. Items that should be accepted are rejected, and items that should be rejected pass through.", "test_cmd": "python -m pytest tests/test_usage_limits.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/usage.py", "original": "kv_pairs = (f'{f.name}={value!r}' for f in fields(self) if (value := getattr(self, f.name)))", "mutated": "kv_pairs = (f'{f.name}={value!r}' for f not in fields(self) if (value := getattr(self, f.name)))", "line_num": 96}, "source": "discovered", "category": "usage", "mutation_type": "membership_swap"}
{"task_id": "d-utils-L133-boolean_flip", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _utils.py:133, a boolean operator was swapped: 'return any(isinstance(item, dict | list) and _contains_ref(item) for item in items)  # pyright: ignore[reportUnknownArgumentType]' became 'return any(isinstance(item, dict | list) or _contains_ref(item) for item in items)  # pyright: ignore[reportUnknownArgumentType]'. This changes the logical condition.", "vague_description": "A logical condition evaluates to the opposite of what it should. The system does the wrong thing when a condition is true vs false.", "test_cmd": "python -m pytest tests/test_utils.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_utils.py", "original": "return any(isinstance(item, dict | list) and _contains_ref(item) for item in items)  # pyright: ignore[reportUnknownArgumentType]", "mutated": "return any(isinstance(item, dict | list) or _contains_ref(item) for item in items)  # pyright: ignore[reportUnknownArgumentType]", "line_num": 133}, "source": "discovered", "category": "utils", "mutation_type": "boolean_flip"}
{"task_id": "d-wrapper-L113-comparison_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In wrapper.py:113, the comparison operator was changed: ') -> AbstractAsyncContextManager[AgentRun[AgentDepsT, RunOutputDataT]]: ...' became ') ->= AbstractAsyncContextManager[AgentRun[AgentDepsT, RunOutputDataT]]: ...'. This alters the boundary condition.", "vague_description": "A threshold or limit check seems to trigger at the wrong value. The boundary is off by one or uses the wrong comparison direction.", "test_cmd": "python -m pytest tests/test_logfire.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/agent/wrapper.py", "original": ") -> AbstractAsyncContextManager[AgentRun[AgentDepsT, RunOutputDataT]]: ...", "mutated": ") ->= AbstractAsyncContextManager[AgentRun[AgentDepsT, RunOutputDataT]]: ...", "line_num": 113}, "source": "discovered", "category": "agent", "mutation_type": "comparison_swap"}
{"task_id": "d-builtin_tools-L78-comparison_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In builtin_tools.py:78, the comparison operator was changed: 'if len(tools) == 1:  # pragma: no cover' became 'if len(tools) != 1:  # pragma: no cover'. This alters the boundary condition.", "vague_description": "A numeric check is behaving unexpectedly at the boundary. Values exactly at the threshold are handled incorrectly.", "test_cmd": "python -m pytest tests/test_builtin_tools.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/builtin_tools.py", "original": "if len(tools) == 1:  # pragma: no cover", "mutated": "if len(tools) != 1:  # pragma: no cover", "line_num": 78}, "source": "discovered", "category": "builtin_tools", "mutation_type": "comparison_swap"}
{"task_id": "d-concurrency-L73-condition_inversion", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In concurrency.py:73, a condition was inverted: 'if isinstance(limiter, AbstractConcurrencyLimiter):' became 'if not isinstance(limiter, AbstractConcurrencyLimiter):'. The branch now triggers in the opposite case.", "vague_description": "A conditional branch is inverted. The code takes the 'if' path when it should take the 'else' path, and vice versa.", "test_cmd": "python -m pytest tests/test_concurrency.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/models/concurrency.py", "original": "if isinstance(limiter, AbstractConcurrencyLimiter):", "mutated": "if not isinstance(limiter, AbstractConcurrencyLimiter):", "line_num": 73}, "source": "discovered", "category": "concurrency", "mutation_type": "condition_inversion"}
{"task_id": "d-direct-L300-value_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In direct.py:300, a value was swapped: 'self._context_entered = True' became 'self._context_entered = False'.", "vague_description": "Two values appear to be swapped. The system uses value A where it should use value B, and value B where it should use value A.", "test_cmd": "python -m pytest tests/test_direct.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/direct.py", "original": "self._context_entered = True", "mutated": "self._context_entered = False", "line_num": 300}, "source": "discovered", "category": "direct_api", "mutation_type": "value_swap"}
{"task_id": "d-json_schema-L124-membership_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _json_schema.py:124, a membership test was inverted: 'for key, value in properties.items():' became 'for key, value not in properties.items():'. This reverses which values pass the check.", "vague_description": "An inclusion check is backwards. Items that should be accepted are rejected, and items that should be rejected pass through.", "test_cmd": "python -m pytest tests/test_json_schema.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_json_schema.py", "original": "for key, value in properties.items():", "mutated": "for key, value not in properties.items():", "line_num": 124}, "source": "discovered", "category": "json_schema", "mutation_type": "membership_swap"}
{"task_id": "d-messages-L508-comparison_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In messages.py:508, the comparison operator was changed: ') -> None: ...  # pragma: no cover' became ') ->= None: ...  # pragma: no cover'. This alters the boundary condition.", "vague_description": "Something that should be caught at an exact limit slips through, or triggers too early. The comparison logic seems wrong.", "test_cmd": "python -m pytest tests/test_messages.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/messages.py", "original": ") -> None: ...  # pragma: no cover", "mutated": ") ->= None: ...  # pragma: no cover", "line_num": 508}, "source": "discovered", "category": "messages", "mutation_type": "comparison_swap"}
{"task_id": "d-instrumented-L203-membership_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In instrumented.py:203, a membership test was inverted: 'for message_index, message in enumerate(messages):' became 'for message_index, message not in enumerate(messages):'. This reverses which values pass the check.", "vague_description": "An inclusion check is backwards. Items that should be accepted are rejected, and items that should be rejected pass through.", "test_cmd": "python -m pytest tests/test_direct.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/models/instrumented.py", "original": "for message_index, message in enumerate(messages):", "mutated": "for message_index, message not in enumerate(messages):", "line_num": 203}, "source": "discovered", "category": "models", "mutation_type": "membership_swap"}
{"task_id": "d-parts_manager-L83-none_check_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _parts_manager.py:83, a None check was inverted: 'if part_index is not None:' became 'if part_index is None:'. This reverses when the value is considered present vs absent.", "vague_description": "Optional configuration is being ignored. When I explicitly set a value, the system behaves as if it's not set, and when I don't set it, the system acts like it is.", "test_cmd": "python -m pytest tests/test_parts_manager.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_parts_manager.py", "original": "if part_index is not None:", "mutated": "if part_index is None:", "line_num": 83}, "source": "discovered", "category": "parts_manager", "mutation_type": "none_check_swap"}
{"task_id": "d-result-L103-membership_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In result.py:103, a membership test was inverted: 'async for _items in group_iter:' became 'async for _items not in group_iter:'. This reverses which values pass the check.", "vague_description": "A set membership or list containment test is inverted. The code includes what it should exclude and excludes what it should include.", "test_cmd": "python -m pytest tests/test_deps.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/result.py", "original": "async for _items in group_iter:", "mutated": "async for _items not in group_iter:", "line_num": 103}, "source": "discovered", "category": "result", "mutation_type": "membership_swap"}
{"task_id": "d-retries-L358-condition_inversion", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In retries.py:358, a condition was inverted: 'if isinstance(exc, HTTPStatusError):' became 'if not isinstance(exc, HTTPStatusError):'. The branch now triggers in the opposite case.", "vague_description": "A guard clause or check does the opposite of what it should. The happy path and error path are swapped.", "test_cmd": "python -m pytest tests/test_tenacity.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/retries.py", "original": "if isinstance(exc, HTTPStatusError):", "mutated": "if not isinstance(exc, HTTPStatusError):", "line_num": 358}, "source": "discovered", "category": "retries", "mutation_type": "condition_inversion"}
{"task_id": "d-ssrf-L193-condition_inversion", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _ssrf.py:193, a condition was inverted: 'if isinstance(ip_obj, ipaddress.IPv6Address):' became 'if not isinstance(ip_obj, ipaddress.IPv6Address):'. The branch now triggers in the opposite case.", "vague_description": "A guard clause or check does the opposite of what it should. The happy path and error path are swapped.", "test_cmd": "python -m pytest tests/test_ssrf.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_ssrf.py", "original": "if isinstance(ip_obj, ipaddress.IPv6Address):", "mutated": "if not isinstance(ip_obj, ipaddress.IPv6Address):", "line_num": 193}, "source": "discovered", "category": "ssrf", "mutation_type": "condition_inversion"}
{"task_id": "d-tools-L190-condition_inversion", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In tools.py:190, a condition was inverted: 'if isinstance(x, dict):' became 'if not isinstance(x, dict):'. The branch now triggers in the opposite case.", "vague_description": "A guard clause or check does the opposite of what it should. The happy path and error path are swapped.", "test_cmd": "python -m pytest tests/test_tools.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/tools.py", "original": "if isinstance(x, dict):", "mutated": "if not isinstance(x, dict):", "line_num": 190}, "source": "discovered", "category": "tools", "mutation_type": "condition_inversion"}
{"task_id": "d-app-L64-none_check_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In app.py:64, a None check was inverted: 'if html_source is None:' became 'if html_source is not None:'. This reverses when the value is considered present vs absent.", "vague_description": "A feature that should be disabled when not configured is always active, or vice versa. The None/not-None check seems inverted.", "test_cmd": "python -m pytest tests/test_ui_web.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/ui/_web/app.py", "original": "if html_source is None:", "mutated": "if html_source is not None:", "line_num": 64}, "source": "discovered", "category": "ui", "mutation_type": "none_check_swap"}
{"task_id": "d-usage-L238-membership_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In usage.py:238, a membership test was inverted: 'for key, value in incr_usage.details.items():' became 'for key, value not in incr_usage.details.items():'. This reverses which values pass the check.", "vague_description": "A filter or validation check accepts the wrong set of values. Things that should match don't, and things that shouldn't match do.", "test_cmd": "python -m pytest tests/test_usage_limits.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/usage.py", "original": "for key, value in incr_usage.details.items():", "mutated": "for key, value not in incr_usage.details.items():", "line_num": 238}, "source": "discovered", "category": "usage", "mutation_type": "membership_swap"}
{"task_id": "d-utils-L115-comparison_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _utils.py:115, the comparison operator was changed: 'and resolved.get('type') == 'object'' became 'and resolved.get('type') != 'object''. This alters the boundary condition.", "vague_description": "Something that should be caught at an exact limit slips through, or triggers too early. The comparison logic seems wrong.", "test_cmd": "python -m pytest tests/test_utils.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_utils.py", "original": "and resolved.get('type') == 'object'", "mutated": "and resolved.get('type') != 'object'", "line_num": 115}, "source": "discovered", "category": "utils", "mutation_type": "comparison_swap"}
{"task_id": "d-abstract-L194-comparison_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In abstract.py:194, the comparison operator was changed: ') -> AgentRunResult[RunOutputDataT]: ...' became ') ->= AgentRunResult[RunOutputDataT]: ...'. This alters the boundary condition.", "vague_description": "A numeric check is behaving unexpectedly at the boundary. Values exactly at the threshold are handled incorrectly.", "test_cmd": "python -m pytest tests/test_logfire.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/agent/abstract.py", "original": ") -> AgentRunResult[RunOutputDataT]: ...", "mutated": ") ->= AgentRunResult[RunOutputDataT]: ...", "line_num": 194}, "source": "discovered", "category": "agent", "mutation_type": "comparison_swap"}
{"task_id": "d-concurrency-L271-none_check_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In concurrency.py:271, a None check was inverted: 'if limiter is None:' became 'if limiter is not None:'. This reverses when the value is considered present vs absent.", "vague_description": "Setting a value to None should disable something, but it has no effect. Or leaving it unset activates behavior that shouldn't be there.", "test_cmd": "python -m pytest tests/test_concurrency.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/concurrency.py", "original": "if limiter is None:", "mutated": "if limiter is not None:", "line_num": 271}, "source": "discovered", "category": "concurrency", "mutation_type": "none_check_swap"}
{"task_id": "d-direct-L276-none_check_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In direct.py:276, a None check was inverted: 'if instrument is None:' became 'if instrument is not None:'. This reverses when the value is considered present vs absent.", "vague_description": "Setting a value to None should disable something, but it has no effect. Or leaving it unset activates behavior that shouldn't be there.", "test_cmd": "python -m pytest tests/test_direct.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/direct.py", "original": "if instrument is None:", "mutated": "if instrument is not None:", "line_num": 276}, "source": "discovered", "category": "direct_api", "mutation_type": "none_check_swap"}
{"task_id": "d-json_schema-L177-comparison_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _json_schema.py:177, the comparison operator was changed: '(item for item in cases if item != {'type': 'null'}),' became '(item for item in cases if item == {'type': 'null'}),'. This alters the boundary condition.", "vague_description": "A numeric check is behaving unexpectedly at the boundary. Values exactly at the threshold are handled incorrectly.", "test_cmd": "python -m pytest tests/test_json_schema.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_json_schema.py", "original": "(item for item in cases if item != {'type': 'null'}),", "mutated": "(item for item in cases if item == {'type': 'null'}),", "line_num": 177}, "source": "discovered", "category": "json_schema", "mutation_type": "comparison_swap"}
{"task_id": "d-messages-L283-comparison_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In messages.py:283, the comparison operator was changed: ') -> None: ...  # pragma: no cover' became ') ->= None: ...  # pragma: no cover'. This alters the boundary condition.", "vague_description": "A threshold or limit check seems to trigger at the wrong value. The boundary is off by one or uses the wrong comparison direction.", "test_cmd": "python -m pytest tests/test_messages.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/messages.py", "original": ") -> None: ...  # pragma: no cover", "mutated": ") ->= None: ...  # pragma: no cover", "line_num": 283}, "source": "discovered", "category": "messages", "mutation_type": "comparison_swap"}
{"task_id": "d-instrumented-L149-comparison_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In instrumented.py:149, the comparison operator was changed: 'if event_mode == 'logs' and version != 1:' became 'if event_mode != 'logs' and version != 1:'. This alters the boundary condition.", "vague_description": "A numeric check is behaving unexpectedly at the boundary. Values exactly at the threshold are handled incorrectly.", "test_cmd": "python -m pytest tests/test_direct.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/models/instrumented.py", "original": "if event_mode == 'logs' and version != 1:", "mutated": "if event_mode != 'logs' and version != 1:", "line_num": 149}, "source": "discovered", "category": "models", "mutation_type": "comparison_swap"}
{"task_id": "d-parts_manager-L246-none_check_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _parts_manager.py:246, a None check was inverted: 'if content is None and signature is None and provider_name is None and provider_details is None:' became 'if content is not None and signature is None and provider_name is None and provider_details is None:'. This reverses when the value is considered present vs absent.", "vague_description": "Setting a value to None should disable something, but it has no effect. Or leaving it unset activates behavior that shouldn't be there.", "test_cmd": "python -m pytest tests/test_parts_manager.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_parts_manager.py", "original": "if content is None and signature is None and provider_name is None and provider_details is None:", "mutated": "if content is not None and signature is None and provider_name is None and provider_details is None:", "line_num": 246}, "source": "discovered", "category": "parts_manager", "mutation_type": "none_check_swap"}
{"task_id": "d-result-L220-membership_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In result.py:220, a membership test was inverted: 'for part in message.parts:' became 'for part not in message.parts:'. This reverses which values pass the check.", "vague_description": "A set membership or list containment test is inverted. The code includes what it should exclude and excludes what it should include.", "test_cmd": "python -m pytest tests/test_deps.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/result.py", "original": "for part in message.parts:", "mutated": "for part not in message.parts:", "line_num": 220}, "source": "discovered", "category": "result", "mutation_type": "membership_swap"}
{"task_id": "d-retries-L371-arithmetic_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In retries.py:371, an arithmetic operator was changed: 'wait_seconds = (retry_time - now).total_seconds()' became 'wait_seconds = (retry_time + now).total_seconds()'. This produces wrong numeric results.", "vague_description": "Computed values are consistently wrong. The computation seems to use subtraction where it should add, or vice versa.", "test_cmd": "python -m pytest tests/test_tenacity.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/retries.py", "original": "wait_seconds = (retry_time - now).total_seconds()", "mutated": "wait_seconds = (retry_time + now).total_seconds()", "line_num": 371}, "source": "discovered", "category": "retries", "mutation_type": "arithmetic_swap"}
{"task_id": "d-ssrf-L249-constant_mutation", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _ssrf.py:249, a constant was changed: 'resolved_ip=ips[0],' became 'resolved_ip=ips[1],'. This shifts a boundary or default.", "vague_description": "A numeric constant or default parameter has the wrong value. The system behaves as if configured with a different setting than intended.", "test_cmd": "python -m pytest tests/test_ssrf.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_ssrf.py", "original": "resolved_ip=ips[0],", "mutated": "resolved_ip=ips[1],", "line_num": 249}, "source": "discovered", "category": "ssrf", "mutation_type": "constant_mutation"}
{"task_id": "d-tools-L250-comparison_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In tools.py:250, the comparison operator was changed: 'elif extra == 'forbid':' became 'elif extra != 'forbid':'. This alters the boundary condition.", "vague_description": "A threshold or limit check seems to trigger at the wrong value. The boundary is off by one or uses the wrong comparison direction.", "test_cmd": "python -m pytest tests/test_tools.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/tools.py", "original": "elif extra == 'forbid':", "mutated": "elif extra != 'forbid':", "line_num": 250}, "source": "discovered", "category": "tools", "mutation_type": "comparison_swap"}
{"task_id": "d-usage-L241-arithmetic_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In usage.py:241, an arithmetic operator was changed: 'slf.details[key] = slf.details.get(key, 0) + value' became 'slf.details[key] = slf.details.get(key, 0) - value'. This produces wrong numeric results.", "vague_description": "Computed values are consistently wrong. The computation seems to use subtraction where it should add, or vice versa.", "test_cmd": "python -m pytest tests/test_usage_limits.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/usage.py", "original": "slf.details[key] = slf.details.get(key, 0) + value", "mutated": "slf.details[key] = slf.details.get(key, 0) - value", "line_num": 241}, "source": "discovered", "category": "usage", "mutation_type": "arithmetic_swap"}
{"task_id": "d-utils-L191-none_check_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _utils.py:191, a None check was inverted: 'if soft_max_interval is None:' became 'if soft_max_interval is not None:'. This reverses when the value is considered present vs absent.", "vague_description": "Optional configuration is being ignored. When I explicitly set a value, the system behaves as if it's not set, and when I don't set it, the system acts like it is.", "test_cmd": "python -m pytest tests/test_utils.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_utils.py", "original": "if soft_max_interval is None:", "mutated": "if soft_max_interval is not None:", "line_num": 191}, "source": "discovered", "category": "utils", "mutation_type": "none_check_swap"}
{"task_id": "d-abstract-L324-comparison_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In abstract.py:324, the comparison operator was changed: ') -> AgentRunResult[RunOutputDataT]: ...' became ') ->= AgentRunResult[RunOutputDataT]: ...'. This alters the boundary condition.", "vague_description": "A numeric check is behaving unexpectedly at the boundary. Values exactly at the threshold are handled incorrectly.", "test_cmd": "python -m pytest tests/test_logfire.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/agent/abstract.py", "original": ") -> AgentRunResult[RunOutputDataT]: ...", "mutated": ") ->= AgentRunResult[RunOutputDataT]: ...", "line_num": 324}, "source": "discovered", "category": "agent", "mutation_type": "comparison_swap"}
{"task_id": "d-concurrency-L292-condition_inversion", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In concurrency.py:292, a condition was inverted: 'elif isinstance(limit, AbstractConcurrencyLimiter):' became 'elif not isinstance(limit, AbstractConcurrencyLimiter):'. The branch now triggers in the opposite case.", "vague_description": "A conditional branch is inverted. The code takes the 'if' path when it should take the 'else' path, and vice versa.", "test_cmd": "python -m pytest tests/test_concurrency.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/concurrency.py", "original": "elif isinstance(limit, AbstractConcurrencyLimiter):", "mutated": "elif not isinstance(limit, AbstractConcurrencyLimiter):", "line_num": 292}, "source": "discovered", "category": "concurrency", "mutation_type": "condition_inversion"}
{"task_id": "d-direct-L334-condition_inversion", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In direct.py:334, a condition was inverted: 'if not self._context_entered:' became 'if self._context_entered:'. The branch now triggers in the opposite case.", "vague_description": "Logic seems backwards. An operation that should run only in certain cases runs in the opposite cases instead.", "test_cmd": "python -m pytest tests/test_direct.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/direct.py", "original": "if not self._context_entered:", "mutated": "if self._context_entered:", "line_num": 334}, "source": "discovered", "category": "direct_api", "mutation_type": "condition_inversion"}
{"task_id": "d-json_schema-L174-comparison_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _json_schema.py:174, the comparison operator was changed: 'if len(cases) == 2 and {'type': 'null'} in cases:' became 'if len(cases) != 2 and {'type': 'null'} in cases:'. This alters the boundary condition.", "vague_description": "A numeric check is behaving unexpectedly at the boundary. Values exactly at the threshold are handled incorrectly.", "test_cmd": "python -m pytest tests/test_json_schema.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_json_schema.py", "original": "if len(cases) == 2 and {'type': 'null'} in cases:", "mutated": "if len(cases) != 2 and {'type': 'null'} in cases:", "line_num": 174}, "source": "discovered", "category": "json_schema", "mutation_type": "comparison_swap"}
{"task_id": "d-messages-L167-constant_mutation", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In messages.py:167, a constant was changed: 'return hashlib.sha1(identifier).hexdigest()[:6]' became 'return hashlib.sha1(identifier).hexdigest()[:7]'. This shifts a boundary or default.", "vague_description": "A numeric constant or default parameter has the wrong value. The system behaves as if configured with a different setting than intended.", "test_cmd": "python -m pytest tests/test_messages.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/messages.py", "original": "return hashlib.sha1(identifier).hexdigest()[:6]", "mutated": "return hashlib.sha1(identifier).hexdigest()[:7]", "line_num": 167}, "source": "discovered", "category": "messages", "mutation_type": "constant_mutation"}
{"task_id": "d-instrumented-L218-membership_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In instrumented.py:218, a membership test was inverted: 'for event in events:' became 'for event not in events:'. This reverses which values pass the check.", "vague_description": "An inclusion check is backwards. Items that should be accepted are rejected, and items that should be rejected pass through.", "test_cmd": "python -m pytest tests/test_direct.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/models/instrumented.py", "original": "for event in events:", "mutated": "for event not in events:", "line_num": 218}, "source": "discovered", "category": "models", "mutation_type": "membership_swap"}
{"task_id": "d-parts_manager-L124-none_check_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _parts_manager.py:124, a None check was inverted: 'if vendor_part_id is None:' became 'if vendor_part_id is not None:'. This reverses when the value is considered present vs absent.", "vague_description": "Optional configuration is being ignored. When I explicitly set a value, the system behaves as if it's not set, and when I don't set it, the system acts like it is.", "test_cmd": "python -m pytest tests/test_parts_manager.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_parts_manager.py", "original": "if vendor_part_id is None:", "mutated": "if vendor_part_id is not None:", "line_num": 124}, "source": "discovered", "category": "parts_manager", "mutation_type": "none_check_swap"}
{"task_id": "d-result-L181-membership_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In result.py:181, a membership test was inverted: 'async for _ in self:' became 'async for _ not in self:'. This reverses which values pass the check.", "vague_description": "An inclusion check is backwards. Items that should be accepted are rejected, and items that should be rejected pass through.", "test_cmd": "python -m pytest tests/test_deps.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/result.py", "original": "async for _ in self:", "mutated": "async for _ not in self:", "line_num": 181}, "source": "discovered", "category": "result", "mutation_type": "membership_swap"}
{"task_id": "d-retries-L353-none_check_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In retries.py:353, a None check was inverted: 'if fallback_strategy is None:' became 'if fallback_strategy is not None:'. This reverses when the value is considered present vs absent.", "vague_description": "Optional configuration is being ignored. When I explicitly set a value, the system behaves as if it's not set, and when I don't set it, the system acts like it is.", "test_cmd": "python -m pytest tests/test_tenacity.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/retries.py", "original": "if fallback_strategy is None:", "mutated": "if fallback_strategy is not None:", "line_num": 353}, "source": "discovered", "category": "retries", "mutation_type": "none_check_swap"}
{"task_id": "d-ssrf-L170-boolean_flip", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _ssrf.py:170, a boolean operator was swapped: 'port = parsed.port or default_port' became 'port = parsed.port and default_port'. This changes the logical condition.", "vague_description": "An 'or' that should be 'and' (or vice versa) is causing wrong behavior. The boolean logic combines conditions incorrectly.", "test_cmd": "python -m pytest tests/test_ssrf.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_ssrf.py", "original": "port = parsed.port or default_port", "mutated": "port = parsed.port and default_port", "line_num": 170}, "source": "discovered", "category": "ssrf", "mutation_type": "boolean_flip"}
{"task_id": "d-tools-L378-boolean_flip", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In tools.py:378, a boolean operator was swapped: 'self.description = description or self.function_schema.description' became 'self.description = description and self.function_schema.description'. This changes the logical condition.", "vague_description": "A logical condition evaluates to the opposite of what it should. The system does the wrong thing when a condition is true vs false.", "test_cmd": "python -m pytest tests/test_tools.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/tools.py", "original": "self.description = description or self.function_schema.description", "mutated": "self.description = description and self.function_schema.description", "line_num": 378}, "source": "discovered", "category": "tools", "mutation_type": "boolean_flip"}
{"task_id": "d-usage-L209-condition_inversion", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In usage.py:209, a condition was inverted: 'if isinstance(incr_usage, RunUsage):' became 'if not isinstance(incr_usage, RunUsage):'. The branch now triggers in the opposite case.", "vague_description": "A guard clause or check does the opposite of what it should. The happy path and error path are swapped.", "test_cmd": "python -m pytest tests/test_usage_limits.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/usage.py", "original": "if isinstance(incr_usage, RunUsage):", "mutated": "if not isinstance(incr_usage, RunUsage):", "line_num": 209}, "source": "discovered", "category": "usage", "mutation_type": "condition_inversion"}
{"task_id": "d-utils-L206-none_check_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _utils.py:206, a None check was inverted: 'assert soft_max_interval is not None and soft_max_interval >= 0, 'soft_max_interval must be a positive number'' became 'assert soft_max_interval is None and soft_max_interval >= 0, 'soft_max_interval must be a positive number''. This reverses when the value is considered present vs absent.", "vague_description": "Optional configuration is being ignored. When I explicitly set a value, the system behaves as if it's not set, and when I don't set it, the system acts like it is.", "test_cmd": "python -m pytest tests/test_utils.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_utils.py", "original": "assert soft_max_interval is not None and soft_max_interval >= 0, 'soft_max_interval must be a positive number'", "mutated": "assert soft_max_interval is None and soft_max_interval >= 0, 'soft_max_interval must be a positive number'", "line_num": 206}, "source": "discovered", "category": "utils", "mutation_type": "none_check_swap"}
{"task_id": "d-abstract-L274-membership_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In abstract.py:274, a membership test was inverted: 'async for node in agent_run:' became 'async for node not in agent_run:'. This reverses which values pass the check.", "vague_description": "An inclusion check is backwards. Items that should be accepted are rejected, and items that should be rejected pass through.", "test_cmd": "python -m pytest tests/test_logfire.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/agent/abstract.py", "original": "async for node in agent_run:", "mutated": "async for node not in agent_run:", "line_num": 274}, "source": "discovered", "category": "agent", "mutation_type": "membership_swap"}
{"task_id": "d-concurrency-L138-none_check_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In concurrency.py:138, a None check was inverted: 'if normalized_limiter is None:' became 'if normalized_limiter is not None:'. This reverses when the value is considered present vs absent.", "vague_description": "Optional configuration is being ignored. When I explicitly set a value, the system behaves as if it's not set, and when I don't set it, the system acts like it is.", "test_cmd": "python -m pytest tests/test_concurrency.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/models/concurrency.py", "original": "if normalized_limiter is None:", "mutated": "if normalized_limiter is not None:", "line_num": 138}, "source": "discovered", "category": "concurrency", "mutation_type": "none_check_swap"}
{"task_id": "d-direct-L202-boolean_flip", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In direct.py:202, a boolean operator was swapped: 'model_request_parameters or models.ModelRequestParameters(),' became 'model_request_parameters and models.ModelRequestParameters(),'. This changes the logical condition.", "vague_description": "A logical condition evaluates to the opposite of what it should. The system does the wrong thing when a condition is true vs false.", "test_cmd": "python -m pytest tests/test_direct.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/direct.py", "original": "model_request_parameters or models.ModelRequestParameters(),", "mutated": "model_request_parameters and models.ModelRequestParameters(),", "line_num": 202}, "source": "discovered", "category": "direct_api", "mutation_type": "boolean_flip"}
{"task_id": "d-json_schema-L164-constant_mutation", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _json_schema.py:164, a constant was changed: 'return handled[0] | schema' became 'return handled[1] | schema'. This shifts a boundary or default.", "vague_description": "A numeric constant or default parameter has the wrong value. The system behaves as if configured with a different setting than intended.", "test_cmd": "python -m pytest tests/test_json_schema.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_json_schema.py", "original": "return handled[0] | schema", "mutated": "return handled[1] | schema", "line_num": 164}, "source": "discovered", "category": "json_schema", "mutation_type": "constant_mutation"}
{"task_id": "d-messages-L596-membership_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In messages.py:596, a membership test was inverted: 'return self.media_type in _document_format_lookup' became 'return self.media_type not in _document_format_lookup'. This reverses which values pass the check.", "vague_description": "A filter or validation check accepts the wrong set of values. Things that should match don't, and things that shouldn't match do.", "test_cmd": "python -m pytest tests/test_messages.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/messages.py", "original": "return self.media_type in _document_format_lookup", "mutated": "return self.media_type not in _document_format_lookup", "line_num": 596}, "source": "discovered", "category": "messages", "mutation_type": "membership_swap"}
{"task_id": "d-instrumented-L140-boolean_flip", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In instrumented.py:140, a boolean operator was swapped: 'logger_provider = logger_provider or get_logger_provider()' became 'logger_provider = logger_provider and get_logger_provider()'. This changes the logical condition.", "vague_description": "An 'or' that should be 'and' (or vice versa) is causing wrong behavior. The boolean logic combines conditions incorrectly.", "test_cmd": "python -m pytest tests/test_direct.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/models/instrumented.py", "original": "logger_provider = logger_provider or get_logger_provider()", "mutated": "logger_provider = logger_provider and get_logger_provider()", "line_num": 140}, "source": "discovered", "category": "models", "mutation_type": "boolean_flip"}
{"task_id": "d-parts_manager-L133-boolean_flip", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _parts_manager.py:133, a boolean operator was swapped: 'if thinking_tags and isinstance(existing_part, ThinkingPart):' became 'if thinking_tags or isinstance(existing_part, ThinkingPart):'. This changes the logical condition.", "vague_description": "A feature flag or boolean check seems inverted. Enabling something disables it, or the logic short-circuits in the wrong direction.", "test_cmd": "python -m pytest tests/test_parts_manager.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_parts_manager.py", "original": "if thinking_tags and isinstance(existing_part, ThinkingPart):", "mutated": "if thinking_tags or isinstance(existing_part, ThinkingPart):", "line_num": 133}, "source": "discovered", "category": "parts_manager", "mutation_type": "boolean_flip"}
{"task_id": "d-result-L134-membership_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In result.py:134, a membership test was inverted: 'for validator in self._output_validators:' became 'for validator not in self._output_validators:'. This reverses which values pass the check.", "vague_description": "An inclusion check is backwards. Items that should be accepted are rejected, and items that should be rejected pass through.", "test_cmd": "python -m pytest tests/test_deps.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/result.py", "original": "for validator in self._output_validators:", "mutated": "for validator not in self._output_validators:", "line_num": 134}, "source": "discovered", "category": "result", "mutation_type": "membership_swap"}
{"task_id": "d-retries-L280-comparison_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In retries.py:280, the comparison operator was changed: 'async def handle_async_request(req: Request) -> Response:' became 'async def handle_async_request(req: Request) ->= Response:'. This alters the boundary condition.", "vague_description": "A threshold or limit check seems to trigger at the wrong value. The boundary is off by one or uses the wrong comparison direction.", "test_cmd": "python -m pytest tests/test_tenacity.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/retries.py", "original": "async def handle_async_request(req: Request) -> Response:", "mutated": "async def handle_async_request(req: Request) ->= Response:", "line_num": 280}, "source": "discovered", "category": "retries", "mutation_type": "comparison_swap"}
{"task_id": "d-ssrf-L235-membership_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _ssrf.py:235, a membership test was inverted: 'for ip in ips:' became 'for ip not in ips:'. This reverses which values pass the check.", "vague_description": "A set membership or list containment test is inverted. The code includes what it should exclude and excludes what it should include.", "test_cmd": "python -m pytest tests/test_ssrf.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_ssrf.py", "original": "for ip in ips:", "mutated": "for ip not in ips:", "line_num": 235}, "source": "discovered", "category": "ssrf", "mutation_type": "membership_swap"}
{"task_id": "d-tools-L368-boolean_flip", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In tools.py:368, a boolean operator was swapped: 'self.function_schema = function_schema or _function_schema.function_schema(' became 'self.function_schema = function_schema and _function_schema.function_schema('. This changes the logical condition.", "vague_description": "An 'or' that should be 'and' (or vice versa) is causing wrong behavior. The boolean logic combines conditions incorrectly.", "test_cmd": "python -m pytest tests/test_tools.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/tools.py", "original": "self.function_schema = function_schema or _function_schema.function_schema(", "mutated": "self.function_schema = function_schema and _function_schema.function_schema(", "line_num": 368}, "source": "discovered", "category": "tools", "mutation_type": "boolean_flip"}
{"task_id": "d-usage-L349-none_check_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In usage.py:349, a None check was inverted: 'self.input_tokens_limit = input_tokens_limit if input_tokens_limit is not None else request_tokens_limit' became 'self.input_tokens_limit = input_tokens_limit if input_tokens_limit is None else request_tokens_limit'. This reverses when the value is considered present vs absent.", "vague_description": "Setting a value to None should disable something, but it has no effect. Or leaving it unset activates behavior that shouldn't be there.", "test_cmd": "python -m pytest tests/test_usage_limits.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/usage.py", "original": "self.input_tokens_limit = input_tokens_limit if input_tokens_limit is not None else request_tokens_limit", "mutated": "self.input_tokens_limit = input_tokens_limit if input_tokens_limit is None else request_tokens_limit", "line_num": 349}, "source": "discovered", "category": "usage", "mutation_type": "none_check_swap"}
{"task_id": "d-utils-L107-comparison_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _utils.py:107, the comparison operator was changed: 'if schema.get('type') == 'object':' became 'if schema.get('type') != 'object':'. This alters the boundary condition.", "vague_description": "A numeric check is behaving unexpectedly at the boundary. Values exactly at the threshold are handled incorrectly.", "test_cmd": "python -m pytest tests/test_utils.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_utils.py", "original": "if schema.get('type') == 'object':", "mutated": "if schema.get('type') != 'object':", "line_num": 107}, "source": "discovered", "category": "utils", "mutation_type": "comparison_swap"}
{"task_id": "d-abstract-L303-comparison_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In abstract.py:303, the comparison operator was changed: ') -> AgentRunResult[OutputDataT]: ...' became ') ->= AgentRunResult[OutputDataT]: ...'. This alters the boundary condition.", "vague_description": "Something that should be caught at an exact limit slips through, or triggers too early. The comparison logic seems wrong.", "test_cmd": "python -m pytest tests/test_logfire.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/agent/abstract.py", "original": ") -> AgentRunResult[OutputDataT]: ...", "mutated": ") ->= AgentRunResult[OutputDataT]: ...", "line_num": 303}, "source": "discovered", "category": "agent", "mutation_type": "comparison_swap"}
{"task_id": "d-concurrency-L198-constant_mutation", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In concurrency.py:198, a constant was changed: 'self._waiting_count += 1' became 'self._waiting_count += 0'. This shifts a boundary or default.", "vague_description": "A numeric constant or default parameter has the wrong value. The system behaves as if configured with a different setting than intended.", "test_cmd": "python -m pytest tests/test_concurrency.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/concurrency.py", "original": "self._waiting_count += 1", "mutated": "self._waiting_count += 0", "line_num": 198}, "source": "discovered", "category": "concurrency", "mutation_type": "constant_mutation"}
{"task_id": "d-direct-L84-boolean_flip", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In direct.py:84, a boolean operator was swapped: 'model_request_parameters or models.ModelRequestParameters(),' became 'model_request_parameters and models.ModelRequestParameters(),'. This changes the logical condition.", "vague_description": "An 'or' that should be 'and' (or vice versa) is causing wrong behavior. The boolean logic combines conditions incorrectly.", "test_cmd": "python -m pytest tests/test_direct.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/direct.py", "original": "model_request_parameters or models.ModelRequestParameters(),", "mutated": "model_request_parameters and models.ModelRequestParameters(),", "line_num": 84}, "source": "discovered", "category": "direct_api", "mutation_type": "boolean_flip"}
{"task_id": "d-json_schema-L136-membership_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _json_schema.py:136, a membership test was inverted: 'for key, value in pattern_properties.items():' became 'for key, value not in pattern_properties.items():'. This reverses which values pass the check.", "vague_description": "A filter or validation check accepts the wrong set of values. Things that should match don't, and things that shouldn't match do.", "test_cmd": "python -m pytest tests/test_json_schema.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_json_schema.py", "original": "for key, value in pattern_properties.items():", "mutated": "for key, value not in pattern_properties.items():", "line_num": 136}, "source": "discovered", "category": "json_schema", "mutation_type": "membership_swap"}
{"task_id": "d-messages-L394-none_check_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In messages.py:394, a None check was inverted: 'if mime_type is None:' became 'if mime_type is not None:'. This reverses when the value is considered present vs absent.", "vague_description": "Setting a value to None should disable something, but it has no effect. Or leaving it unset activates behavior that shouldn't be there.", "test_cmd": "python -m pytest tests/test_messages.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/messages.py", "original": "if mime_type is None:", "mutated": "if mime_type is not None:", "line_num": 394}, "source": "discovered", "category": "messages", "mutation_type": "none_check_swap"}
{"task_id": "d-instrumented-L228-membership_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In instrumented.py:228, a membership test was inverted: 'for part in group:' became 'for part not in group:'. This reverses which values pass the check.", "vague_description": "A filter or validation check accepts the wrong set of values. Things that should match don't, and things that shouldn't match do.", "test_cmd": "python -m pytest tests/test_direct.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/models/instrumented.py", "original": "for part in group:", "mutated": "for part not in group:", "line_num": 228}, "source": "discovered", "category": "models", "mutation_type": "membership_swap"}
{"task_id": "d-parts_manager-L299-none_check_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _parts_manager.py:299, a None check was inverted: 'if vendor_part_id is None:' became 'if vendor_part_id is not None:'. This reverses when the value is considered present vs absent.", "vague_description": "A feature that should be disabled when not configured is always active, or vice versa. The None/not-None check seems inverted.", "test_cmd": "python -m pytest tests/test_parts_manager.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_parts_manager.py", "original": "if vendor_part_id is None:", "mutated": "if vendor_part_id is not None:", "line_num": 299}, "source": "discovered", "category": "parts_manager", "mutation_type": "none_check_swap"}
{"task_id": "d-result-L71-membership_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In result.py:71, a membership test was inverted: 'async for response in self.stream_responses(debounce_by=debounce_by):' became 'async for response not in self.stream_responses(debounce_by=debounce_by):'. This reverses which values pass the check.", "vague_description": "An inclusion check is backwards. Items that should be accepted are rejected, and items that should be rejected pass through.", "test_cmd": "python -m pytest tests/test_deps.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/result.py", "original": "async for response in self.stream_responses(debounce_by=debounce_by):", "mutated": "async for response not in self.stream_responses(debounce_by=debounce_by):", "line_num": 71}, "source": "discovered", "category": "result", "mutation_type": "membership_swap"}
{"task_id": "d-retries-L262-boolean_flip", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In retries.py:262, a boolean operator was swapped: 'self.wrapped = wrapped or AsyncHTTPTransport()' became 'self.wrapped = wrapped and AsyncHTTPTransport()'. This changes the logical condition.", "vague_description": "A logical condition evaluates to the opposite of what it should. The system does the wrong thing when a condition is true vs false.", "test_cmd": "python -m pytest tests/test_tenacity.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/retries.py", "original": "self.wrapped = wrapped or AsyncHTTPTransport()", "mutated": "self.wrapped = wrapped and AsyncHTTPTransport()", "line_num": 262}, "source": "discovered", "category": "retries", "mutation_type": "boolean_flip"}
{"task_id": "d-ssrf-L173-boolean_flip", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _ssrf.py:173, a boolean operator was swapped: 'path = parsed.path or '/'' became 'path = parsed.path and '/''. This changes the logical condition.", "vague_description": "A feature flag or boolean check seems inverted. Enabling something disables it, or the logic short-circuits in the wrong direction.", "test_cmd": "python -m pytest tests/test_ssrf.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_ssrf.py", "original": "path = parsed.path or '/'", "mutated": "path = parsed.path and '/'", "line_num": 173}, "source": "discovered", "category": "ssrf", "mutation_type": "boolean_flip"}
{"task_id": "d-tools-L244-comparison_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In tools.py:244, the comparison operator was changed: 'if extra == 'allow':' became 'if extra != 'allow':'. This alters the boundary condition.", "vague_description": "A threshold or limit check seems to trigger at the wrong value. The boundary is off by one or uses the wrong comparison direction.", "test_cmd": "python -m pytest tests/test_tools.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/tools.py", "original": "if extra == 'allow':", "mutated": "if extra != 'allow':", "line_num": 244}, "source": "discovered", "category": "tools", "mutation_type": "comparison_swap"}
{"task_id": "d-usage-L92-arithmetic_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In usage.py:92, an arithmetic operator was changed: 'result[prefix + key] = value' became 'result[prefix - key] = value'. This produces wrong numeric results.", "vague_description": "A numerical calculation gives wrong output. The math is off \u2014 values are larger or smaller than expected by a consistent amount.", "test_cmd": "python -m pytest tests/test_usage_limits.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/usage.py", "original": "result[prefix + key] = value", "mutated": "result[prefix - key] = value", "line_num": 92}, "source": "discovered", "category": "usage", "mutation_type": "arithmetic_swap"}
{"task_id": "d-utils-L220-none_check_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _utils.py:220, a None check was inverted: 'if task is None:' became 'if task is not None:'. This reverses when the value is considered present vs absent.", "vague_description": "A feature that should be disabled when not configured is always active, or vice versa. The None/not-None check seems inverted.", "test_cmd": "python -m pytest tests/test_utils.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_utils.py", "original": "if task is None:", "mutated": "if task is not None:", "line_num": 220}, "source": "discovered", "category": "utils", "mutation_type": "none_check_swap"}
{"task_id": "d-abstract-L425-comparison_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In abstract.py:425, the comparison operator was changed: ') -> AbstractAsyncContextManager[result.StreamedRunResult[AgentDepsT, OutputDataT]]: ...' became ') ->= AbstractAsyncContextManager[result.StreamedRunResult[AgentDepsT, OutputDataT]]: ...'. This alters the boundary condition.", "vague_description": "A numeric check is behaving unexpectedly at the boundary. Values exactly at the threshold are handled incorrectly.", "test_cmd": "python -m pytest tests/test_logfire.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/agent/abstract.py", "original": ") -> AbstractAsyncContextManager[result.StreamedRunResult[AgentDepsT, OutputDataT]]: ...", "mutated": ") ->= AbstractAsyncContextManager[result.StreamedRunResult[AgentDepsT, OutputDataT]]: ...", "line_num": 425}, "source": "discovered", "category": "agent", "mutation_type": "comparison_swap"}
{"task_id": "d-concurrency-L190-none_check_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In concurrency.py:190, a None check was inverted: 'if self._max_queued is not None and self._waiting_count >= self._max_queued:' became 'if self._max_queued is None and self._waiting_count >= self._max_queued:'. This reverses when the value is considered present vs absent.", "vague_description": "A feature that should be disabled when not configured is always active, or vice versa. The None/not-None check seems inverted.", "test_cmd": "python -m pytest tests/test_concurrency.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/concurrency.py", "original": "if self._max_queued is not None and self._waiting_count >= self._max_queued:", "mutated": "if self._max_queued is None and self._waiting_count >= self._max_queued:", "line_num": 190}, "source": "discovered", "category": "concurrency", "mutation_type": "none_check_swap"}
{"task_id": "d-direct-L318-none_check_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In direct.py:318, a None check was inverted: 'if item is None:  # End of stream' became 'if item is not None:  # End of stream'. This reverses when the value is considered present vs absent.", "vague_description": "Optional configuration is being ignored. When I explicitly set a value, the system behaves as if it's not set, and when I don't set it, the system acts like it is.", "test_cmd": "python -m pytest tests/test_direct.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/direct.py", "original": "if item is None:  # End of stream", "mutated": "if item is not None:  # End of stream", "line_num": 318}, "source": "discovered", "category": "direct_api", "mutation_type": "none_check_swap"}
{"task_id": "d-json_schema-L134-none_check_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _json_schema.py:134, a None check was inverted: 'if (pattern_properties := schema.get('patternProperties')) is not None:' became 'if (pattern_properties := schema.get('patternProperties')) is None:'. This reverses when the value is considered present vs absent.", "vague_description": "A feature that should be disabled when not configured is always active, or vice versa. The None/not-None check seems inverted.", "test_cmd": "python -m pytest tests/test_json_schema.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_json_schema.py", "original": "if (pattern_properties := schema.get('patternProperties')) is not None:", "mutated": "if (pattern_properties := schema.get('patternProperties')) is None:", "line_num": 134}, "source": "discovered", "category": "json_schema", "mutation_type": "none_check_swap"}
{"task_id": "d-messages-L764-membership_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In messages.py:764, a membership test was inverted: 'for part in content:' became 'for part not in content:'. This reverses which values pass the check.", "vague_description": "An inclusion check is backwards. Items that should be accepted are rejected, and items that should be rejected pass through.", "test_cmd": "python -m pytest tests/test_messages.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/messages.py", "original": "for part in content:", "mutated": "for part not in content:", "line_num": 764}, "source": "discovered", "category": "messages", "mutation_type": "membership_swap"}
{"task_id": "d-instrumented-L206-membership_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In instrumented.py:206, a membership test was inverted: 'for part in message.parts:' became 'for part not in message.parts:'. This reverses which values pass the check.", "vague_description": "An inclusion check is backwards. Items that should be accepted are rejected, and items that should be rejected pass through.", "test_cmd": "python -m pytest tests/test_direct.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/models/instrumented.py", "original": "for part in message.parts:", "mutated": "for part not in message.parts:", "line_num": 206}, "source": "discovered", "category": "models", "mutation_type": "membership_swap"}
{"task_id": "d-parts_manager-L224-none_check_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _parts_manager.py:224, a None check was inverted: 'if content is not None or signature is not None or provider_details is not None:' became 'if content is None or signature is not None or provider_details is not None:'. This reverses when the value is considered present vs absent.", "vague_description": "A feature that should be disabled when not configured is always active, or vice versa. The None/not-None check seems inverted.", "test_cmd": "python -m pytest tests/test_parts_manager.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_parts_manager.py", "original": "if content is not None or signature is not None or provider_details is not None:", "mutated": "if content is None or signature is not None or provider_details is not None:", "line_num": 224}, "source": "discovered", "category": "parts_manager", "mutation_type": "none_check_swap"}
{"task_id": "d-ssrf-L148-comparison_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _ssrf.py:148, the comparison operator was changed: 'return scheme, scheme == 'https'' became 'return scheme, scheme != 'https''. This alters the boundary condition.", "vague_description": "A numeric check is behaving unexpectedly at the boundary. Values exactly at the threshold are handled incorrectly.", "test_cmd": "python -m pytest tests/test_ssrf.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_ssrf.py", "original": "return scheme, scheme == 'https'", "mutated": "return scheme, scheme != 'https'", "line_num": 148}, "source": "discovered", "category": "ssrf", "mutation_type": "comparison_swap"}
{"task_id": "d-tools-L246-none_check_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In tools.py:246, a None check was inverted: 'if extras_schema is not None:' became 'if extras_schema is None:'. This reverses when the value is considered present vs absent.", "vague_description": "A feature that should be disabled when not configured is always active, or vice versa. The None/not-None check seems inverted.", "test_cmd": "python -m pytest tests/test_tools.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/tools.py", "original": "if extras_schema is not None:", "mutated": "if extras_schema is None:", "line_num": 246}, "source": "discovered", "category": "tools", "mutation_type": "none_check_swap"}
{"task_id": "d-usage-L350-none_check_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In usage.py:350, a None check was inverted: 'self.output_tokens_limit = output_tokens_limit if output_tokens_limit is not None else response_tokens_limit' became 'self.output_tokens_limit = output_tokens_limit if output_tokens_limit is None else response_tokens_limit'. This reverses when the value is considered present vs absent.", "vague_description": "Optional configuration is being ignored. When I explicitly set a value, the system behaves as if it's not set, and when I don't set it, the system acts like it is.", "test_cmd": "python -m pytest tests/test_usage_limits.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/usage.py", "original": "self.output_tokens_limit = output_tokens_limit if output_tokens_limit is not None else response_tokens_limit", "mutated": "self.output_tokens_limit = output_tokens_limit if output_tokens_limit is None else response_tokens_limit", "line_num": 350}, "source": "discovered", "category": "usage", "mutation_type": "none_check_swap"}
{"task_id": "d-utils-L116-boolean_flip", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _utils.py:116, a boolean operator was swapped: 'and not _contains_ref(resolved)' became 'or not _contains_ref(resolved)'. This changes the logical condition.", "vague_description": "A logical condition evaluates to the opposite of what it should. The system does the wrong thing when a condition is true vs false.", "test_cmd": "python -m pytest tests/test_utils.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_utils.py", "original": "and not _contains_ref(resolved)", "mutated": "or not _contains_ref(resolved)", "line_num": 116}, "source": "discovered", "category": "utils", "mutation_type": "boolean_flip"}
{"task_id": "d-abstract-L173-comparison_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In abstract.py:173, the comparison operator was changed: ') -> AgentRunResult[OutputDataT]: ...' became ') ->= AgentRunResult[OutputDataT]: ...'. This alters the boundary condition.", "vague_description": "A threshold or limit check seems to trigger at the wrong value. The boundary is off by one or uses the wrong comparison direction.", "test_cmd": "python -m pytest tests/test_logfire.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/agent/abstract.py", "original": ") -> AgentRunResult[OutputDataT]: ...", "mutated": ") ->= AgentRunResult[OutputDataT]: ...", "line_num": 173}, "source": "discovered", "category": "agent", "mutation_type": "comparison_swap"}
{"task_id": "d-json_schema-L65-membership_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _json_schema.py:65, a membership test was inverted: 'handled['$defs'] = {k: self._handle(v) for k, v in self.defs.items()}' became 'handled['$defs'] = {k: self._handle(v) for k, v not in self.defs.items()}'. This reverses which values pass the check.", "vague_description": "An inclusion check is backwards. Items that should be accepted are rejected, and items that should be rejected pass through.", "test_cmd": "python -m pytest tests/test_json_schema.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_json_schema.py", "original": "handled['$defs'] = {k: self._handle(v) for k, v in self.defs.items()}", "mutated": "handled['$defs'] = {k: self._handle(v) for k, v not in self.defs.items()}", "line_num": 65}, "source": "discovered", "category": "json_schema", "mutation_type": "membership_swap"}
{"task_id": "d-messages-L566-boolean_flip", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In messages.py:566, a boolean operator was swapped: 'return self._identifier or _multi_modal_content_identifier(self.data)' became 'return self._identifier and _multi_modal_content_identifier(self.data)'. This changes the logical condition.", "vague_description": "A logical condition evaluates to the opposite of what it should. The system does the wrong thing when a condition is true vs false.", "test_cmd": "python -m pytest tests/test_messages.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/messages.py", "original": "return self._identifier or _multi_modal_content_identifier(self.data)", "mutated": "return self._identifier and _multi_modal_content_identifier(self.data)", "line_num": 566}, "source": "discovered", "category": "messages", "mutation_type": "boolean_flip"}
{"task_id": "d-instrumented-L139-boolean_flip", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In instrumented.py:139, a boolean operator was swapped: 'meter_provider = meter_provider or get_meter_provider()' became 'meter_provider = meter_provider and get_meter_provider()'. This changes the logical condition.", "vague_description": "A logical condition evaluates to the opposite of what it should. The system does the wrong thing when a condition is true vs false.", "test_cmd": "python -m pytest tests/test_direct.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/models/instrumented.py", "original": "meter_provider = meter_provider or get_meter_provider()", "mutated": "meter_provider = meter_provider and get_meter_provider()", "line_num": 139}, "source": "discovered", "category": "models", "mutation_type": "boolean_flip"}
{"task_id": "d-parts_manager-L143-condition_inversion", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _parts_manager.py:143, a condition was inverted: 'elif isinstance(existing_part, TextPart):' became 'elif not isinstance(existing_part, TextPart):'. The branch now triggers in the opposite case.", "vague_description": "Logic seems backwards. An operation that should run only in certain cases runs in the opposite cases instead.", "test_cmd": "python -m pytest tests/test_parts_manager.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_parts_manager.py", "original": "elif isinstance(existing_part, TextPart):", "mutated": "elif not isinstance(existing_part, TextPart):", "line_num": 143}, "source": "discovered", "category": "parts_manager", "mutation_type": "condition_inversion"}
{"task_id": "d-ssrf-L293-constant_mutation", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _ssrf.py:293, a constant was changed: 'base_path = parsed_current.path.rsplit('/', 1)[0]' became 'base_path = parsed_current.path.rsplit('/', 0)[0]'. This shifts a boundary or default.", "vague_description": "A numeric constant or default parameter has the wrong value. The system behaves as if configured with a different setting than intended.", "test_cmd": "python -m pytest tests/test_ssrf.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_ssrf.py", "original": "base_path = parsed_current.path.rsplit('/', 1)[0]", "mutated": "base_path = parsed_current.path.rsplit('/', 0)[0]", "line_num": 293}, "source": "discovered", "category": "ssrf", "mutation_type": "constant_mutation"}
{"task_id": "d-tools-L243-boolean_flip", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In tools.py:243, a boolean operator was swapped: 'extra = schema.get('extra_behavior') or schema.get('config', {}).get('extra_fields_behavior')' became 'extra = schema.get('extra_behavior') and schema.get('config', {}).get('extra_fields_behavior')'. This changes the logical condition.", "vague_description": "A feature flag or boolean check seems inverted. Enabling something disables it, or the logic short-circuits in the wrong direction.", "test_cmd": "python -m pytest tests/test_tools.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/tools.py", "original": "extra = schema.get('extra_behavior') or schema.get('config', {}).get('extra_fields_behavior')", "mutated": "extra = schema.get('extra_behavior') and schema.get('config', {}).get('extra_fields_behavior')", "line_num": 243}, "source": "discovered", "category": "tools", "mutation_type": "boolean_flip"}
{"task_id": "d-usage-L114-constant_mutation", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In usage.py:114, a constant was changed: 'return 1' became 'return 0'. This shifts a boundary or default.", "vague_description": "A default value or configuration constant seems wrong. The system uses a different threshold or limit than what's documented.", "test_cmd": "python -m pytest tests/test_usage_limits.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/usage.py", "original": "return 1", "mutated": "return 0", "line_num": 114}, "source": "discovered", "category": "usage", "mutation_type": "constant_mutation"}
{"task_id": "d-utils-L129-value_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _utils.py:129, a value was swapped: 'return True' became 'return False'.", "vague_description": "Two related values are mixed up. The system applies the wrong one of two options depending on context.", "test_cmd": "python -m pytest tests/test_utils.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_utils.py", "original": "return True", "mutated": "return False", "line_num": 129}, "source": "discovered", "category": "utils", "mutation_type": "value_swap"}
{"task_id": "d-json_schema-L162-comparison_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _json_schema.py:162, the comparison operator was changed: 'if len(handled) == 1:' became 'if len(handled) != 1:'. This alters the boundary condition.", "vague_description": "Something that should be caught at an exact limit slips through, or triggers too early. The comparison logic seems wrong.", "test_cmd": "python -m pytest tests/test_json_schema.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_json_schema.py", "original": "if len(handled) == 1:", "mutated": "if len(handled) != 1:", "line_num": 162}, "source": "discovered", "category": "json_schema", "mutation_type": "comparison_swap"}
{"task_id": "d-messages-L638-comparison_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In messages.py:638, the comparison operator was changed: ') -> None: ...  # pragma: no cover' became ') ->= None: ...  # pragma: no cover'. This alters the boundary condition.", "vague_description": "Something that should be caught at an exact limit slips through, or triggers too early. The comparison logic seems wrong.", "test_cmd": "python -m pytest tests/test_messages.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/messages.py", "original": ") -> None: ...  # pragma: no cover", "mutated": ") ->= None: ...  # pragma: no cover", "line_num": 638}, "source": "discovered", "category": "messages", "mutation_type": "comparison_swap"}
{"task_id": "d-instrumented-L138-boolean_flip", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In instrumented.py:138, a boolean operator was swapped: 'tracer_provider = tracer_provider or get_tracer_provider()' became 'tracer_provider = tracer_provider and get_tracer_provider()'. This changes the logical condition.", "vague_description": "A logical condition evaluates to the opposite of what it should. The system does the wrong thing when a condition is true vs false.", "test_cmd": "python -m pytest tests/test_direct.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/models/instrumented.py", "original": "tracer_provider = tracer_provider or get_tracer_provider()", "mutated": "tracer_provider = tracer_provider and get_tracer_provider()", "line_num": 138}, "source": "discovered", "category": "models", "mutation_type": "boolean_flip"}
{"task_id": "d-parts_manager-L230-boolean_flip", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _parts_manager.py:230, a boolean operator was swapped: 'content=content or '',' became 'content=content and '','. This changes the logical condition.", "vague_description": "A feature flag or boolean check seems inverted. Enabling something disables it, or the logic short-circuits in the wrong direction.", "test_cmd": "python -m pytest tests/test_parts_manager.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_parts_manager.py", "original": "content=content or '',", "mutated": "content=content and '',", "line_num": 230}, "source": "discovered", "category": "parts_manager", "mutation_type": "boolean_flip"}
{"task_id": "d-ssrf-L97-value_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _ssrf.py:97, a value was swapped: 'return True' became 'return False'.", "vague_description": "Two values appear to be swapped. The system uses value A where it should use value B, and value B where it should use value A.", "test_cmd": "python -m pytest tests/test_ssrf.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_ssrf.py", "original": "return True", "mutated": "return False", "line_num": 97}, "source": "discovered", "category": "ssrf", "mutation_type": "value_swap"}
{"task_id": "d-usage-L158-boolean_flip", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In usage.py:158, a boolean operator was swapped: 'details = details or {}' became 'details = details and {}'. This changes the logical condition.", "vague_description": "A feature flag or boolean check seems inverted. Enabling something disables it, or the logic short-circuits in the wrong direction.", "test_cmd": "python -m pytest tests/test_usage_limits.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/usage.py", "original": "details = details or {}", "mutated": "details = details and {}", "line_num": 158}, "source": "discovered", "category": "usage", "mutation_type": "boolean_flip"}
{"task_id": "d-utils-L203-comparison_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _utils.py:203, the comparison operator was changed: 'async def async_iter_groups() -> AsyncIterator[list[T]]:' became 'async def async_iter_groups() ->= AsyncIterator[list[T]]:'. This alters the boundary condition.", "vague_description": "A threshold or limit check seems to trigger at the wrong value. The boundary is off by one or uses the wrong comparison direction.", "test_cmd": "python -m pytest tests/test_utils.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_utils.py", "original": "async def async_iter_groups() -> AsyncIterator[list[T]]:", "mutated": "async def async_iter_groups() ->= AsyncIterator[list[T]]:", "line_num": 203}, "source": "discovered", "category": "utils", "mutation_type": "comparison_swap"}
{"task_id": "d-json_schema-L183-value_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _json_schema.py:183, a value was swapped: 'new_schema['nullable'] = True' became 'new_schema['nullable'] = False'.", "vague_description": "Two values appear to be swapped. The system uses value A where it should use value B, and value B where it should use value A.", "test_cmd": "python -m pytest tests/test_json_schema.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_json_schema.py", "original": "new_schema['nullable'] = True", "mutated": "new_schema['nullable'] = False", "line_num": 183}, "source": "discovered", "category": "json_schema", "mutation_type": "value_swap"}
{"task_id": "d-messages-L641-condition_inversion", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In messages.py:641, a condition was inverted: 'if not self.is_image:' became 'if self.is_image:'. The branch now triggers in the opposite case.", "vague_description": "Logic seems backwards. An operation that should run only in certain cases runs in the opposite cases instead.", "test_cmd": "python -m pytest tests/test_messages.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/messages.py", "original": "if not self.is_image:", "mutated": "if self.is_image:", "line_num": 641}, "source": "discovered", "category": "messages", "mutation_type": "condition_inversion"}
{"task_id": "d-parts_manager-L219-condition_inversion", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _parts_manager.py:219, a condition was inverted: 'if not isinstance(existing_part, ThinkingPart):' became 'if isinstance(existing_part, ThinkingPart):'. The branch now triggers in the opposite case.", "vague_description": "Logic seems backwards. An operation that should run only in certain cases runs in the opposite cases instead.", "test_cmd": "python -m pytest tests/test_parts_manager.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_parts_manager.py", "original": "if not isinstance(existing_part, ThinkingPart):", "mutated": "if isinstance(existing_part, ThinkingPart):", "line_num": 219}, "source": "discovered", "category": "parts_manager", "mutation_type": "condition_inversion"}
{"task_id": "d-ssrf-L123-condition_inversion", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _ssrf.py:123, a condition was inverted: 'if not ips:' became 'if ips:'. The branch now triggers in the opposite case.", "vague_description": "Logic seems backwards. An operation that should run only in certain cases runs in the opposite cases instead.", "test_cmd": "python -m pytest tests/test_ssrf.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_ssrf.py", "original": "if not ips:", "mutated": "if ips:", "line_num": 123}, "source": "discovered", "category": "ssrf", "mutation_type": "condition_inversion"}
{"task_id": "d-utils-L127-condition_inversion", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _utils.py:127, a condition was inverted: 'if isinstance(obj, dict):' became 'if not isinstance(obj, dict):'. The branch now triggers in the opposite case.", "vague_description": "A guard clause or check does the opposite of what it should. The happy path and error path are swapped.", "test_cmd": "python -m pytest tests/test_utils.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_utils.py", "original": "if isinstance(obj, dict):", "mutated": "if not isinstance(obj, dict):", "line_num": 127}, "source": "discovered", "category": "utils", "mutation_type": "condition_inversion"}
{"task_id": "d-json_schema-L64-boolean_flip", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _json_schema.py:64, a boolean operator was swapped: 'if not self.prefer_inlined_defs and self.defs:' became 'if not self.prefer_inlined_defs or self.defs:'. This changes the logical condition.", "vague_description": "A feature flag or boolean check seems inverted. Enabling something disables it, or the logic short-circuits in the wrong direction.", "test_cmd": "python -m pytest tests/test_json_schema.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_json_schema.py", "original": "if not self.prefer_inlined_defs and self.defs:", "mutated": "if not self.prefer_inlined_defs or self.defs:", "line_num": 64}, "source": "discovered", "category": "json_schema", "mutation_type": "boolean_flip"}
{"task_id": "d-messages-L224-boolean_flip", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In messages.py:224, a boolean operator was swapped: 'return self._media_type or self._infer_media_type()' became 'return self._media_type and self._infer_media_type()'. This changes the logical condition.", "vague_description": "An 'or' that should be 'and' (or vice versa) is causing wrong behavior. The boolean logic combines conditions incorrectly.", "test_cmd": "python -m pytest tests/test_messages.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/messages.py", "original": "return self._media_type or self._infer_media_type()", "mutated": "return self._media_type and self._infer_media_type()", "line_num": 224}, "source": "discovered", "category": "messages", "mutation_type": "boolean_flip"}
{"task_id": "d-ssrf-L119-constant_mutation", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _ssrf.py:119, a constant was changed: 'ip = str(result[4][0])' became 'ip = str(result[5][0])'. This shifts a boundary or default.", "vague_description": "A numeric constant or default parameter has the wrong value. The system behaves as if configured with a different setting than intended.", "test_cmd": "python -m pytest tests/test_ssrf.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_ssrf.py", "original": "ip = str(result[4][0])", "mutated": "ip = str(result[5][0])", "line_num": 119}, "source": "discovered", "category": "ssrf", "mutation_type": "constant_mutation"}
{"task_id": "d-utils-L114-boolean_flip", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _utils.py:114, a boolean operator was swapped: 'and (resolved := schema.get('$defs', {}).get(ref[len(prefix) :]))' became 'or (resolved := schema.get('$defs', {}).get(ref[len(prefix) :]))'. This changes the logical condition.", "vague_description": "An 'or' that should be 'and' (or vice versa) is causing wrong behavior. The boolean logic combines conditions incorrectly.", "test_cmd": "python -m pytest tests/test_utils.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_utils.py", "original": "and (resolved := schema.get('$defs', {}).get(ref[len(prefix) :]))", "mutated": "or (resolved := schema.get('$defs', {}).get(ref[len(prefix) :]))", "line_num": 114}, "source": "discovered", "category": "utils", "mutation_type": "boolean_flip"}
{"task_id": "d-messages-L241-boolean_flip", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In messages.py:241, a boolean operator was swapped: 'return self._identifier or _multi_modal_content_identifier(self.url)' became 'return self._identifier and _multi_modal_content_identifier(self.url)'. This changes the logical condition.", "vague_description": "A feature flag or boolean check seems inverted. Enabling something disables it, or the logic short-circuits in the wrong direction.", "test_cmd": "python -m pytest tests/test_messages.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/messages.py", "original": "return self._identifier or _multi_modal_content_identifier(self.url)", "mutated": "return self._identifier and _multi_modal_content_identifier(self.url)", "line_num": 241}, "source": "discovered", "category": "messages", "mutation_type": "boolean_flip"}
{"task_id": "d-ssrf-L188-constant_mutation", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _ssrf.py:188, a constant was changed: 'default_port = 443 if resolved.is_https else 80' became 'default_port = 444 if resolved.is_https else 80'. This shifts a boundary or default.", "vague_description": "A numeric constant or default parameter has the wrong value. The system behaves as if configured with a different setting than intended.", "test_cmd": "python -m pytest tests/test_ssrf.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_ssrf.py", "original": "default_port = 443 if resolved.is_https else 80", "mutated": "default_port = 444 if resolved.is_https else 80", "line_num": 188}, "source": "discovered", "category": "ssrf", "mutation_type": "constant_mutation"}
{"task_id": "d-utils-L211-value_swap", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In _utils.py:211, a value was swapped: 'while True:' became 'while False:'.", "vague_description": "An assignment or return value is wrong \u2014 it returns the first argument where it should return the second, or similar.", "test_cmd": "python -m pytest tests/test_utils.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/_utils.py", "original": "while True:", "mutated": "while False:", "line_num": 211}, "source": "discovered", "category": "utils", "mutation_type": "value_swap"}
{"task_id": "d-messages-L543-condition_inversion", "repo_path": "/Users/akshankrithick/projects/pydantic-ai", "repo_url": "https://github.com/pydantic/pydantic-ai", "commit": "69a578a1e1012e0241d15321e45ab978962ed0d7", "setup_cmd": "pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]'", "description": "In messages.py:543, a condition was inverted: 'if not path.exists():' became 'if path.exists():'. The branch now triggers in the opposite case.", "vague_description": "Logic seems backwards. An operation that should run only in certain cases runs in the opposite cases instead.", "test_cmd": "python -m pytest tests/test_messages.py -x", "in_place": true, "timeout": 60, "mutation": {"file": "pydantic_ai_slim/pydantic_ai/messages.py", "original": "if not path.exists():", "mutated": "if path.exists():", "line_num": 543}, "source": "discovered", "category": "messages", "mutation_type": "condition_inversion"}
