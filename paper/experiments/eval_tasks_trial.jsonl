{"task_id":"usage-total-tokens-math","repo_path":"/Users/akshankrithick/projects/pydantic-ai","repo_url":"https://github.com/pydantic/pydantic-ai","commit":"69a578a1e1012e0241d15321e45ab978962ed0d7","setup_cmd":"pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]' && pip install inline-snapshot","description":"UsageBase.total_tokens subtracts output tokens instead of adding them, making the total_tokens property return wrong values.","vague_description":"Token usage tracking seems off. The total token count is always lower than expected, even lower than the input tokens alone.","test_cmd":"python -m pytest tests/test_usage_limits.py::test_total_token_limit -x","in_place":true,"timeout":60,"mutation":{"file":"pydantic_ai_slim/pydantic_ai/usage.py","original":"return self.input_tokens + self.output_tokens","mutated":"return self.input_tokens - self.output_tokens","line_num":66},"source":"handcrafted","category":"usage"}
{"task_id":"ssrf-cloud-metadata-inverted","repo_path":"/Users/akshankrithick/projects/pydantic-ai","repo_url":"https://github.com/pydantic/pydantic-ai","commit":"69a578a1e1012e0241d15321e45ab978962ed0d7","setup_cmd":"pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]' && pip install inline-snapshot","description":"is_cloud_metadata_ip returns True for non-metadata IPs and False for actual cloud metadata endpoints \u2014 the check is inverted.","vague_description":"URL downloads to public websites are being blocked as 'cloud metadata', but requests to 169.254.169.254 go through unchecked.","test_cmd":"python -m pytest tests/test_ssrf.py::TestIsCloudMetadataIp -x","in_place":true,"timeout":60,"mutation":{"file":"pydantic_ai_slim/pydantic_ai/_ssrf.py","original":"return ip_str in _CLOUD_METADATA_IPS","mutated":"return ip_str not in _CLOUD_METADATA_IPS","line_num":79},"source":"handcrafted","category":"ssrf"}
{"task_id":"tool-retry-isinstance-inverted","repo_path":"/Users/akshankrithick/projects/pydantic-ai","repo_url":"https://github.com/pydantic/pydantic-ai","commit":"69a578a1e1012e0241d15321e45ab978962ed0d7","setup_cmd":"pip install -e pydantic_graph && pip install -e 'pydantic_ai_slim[test]' && pip install inline-snapshot","description":"ToolRetryError._format_error_details inverts the isinstance check, passing string content to dict-processing code and crashing.","vague_description":"Tool retry errors crash with a TypeError when the tool returns a simple string error message. Only structured errors work.","test_cmd":"python -m pytest tests/test_exceptions.py::test_tool_retry_error_str_with_string_content -x","in_place":true,"timeout":60,"mutation":{"file":"pydantic_ai_slim/pydantic_ai/exceptions.py","original":"if isinstance(tool_retry.content, str)","mutated":"if not isinstance(tool_retry.content, str)","line_num":205},"source":"handcrafted","category":"exceptions"}
{"task_id":"httpx-auth-L272-constant_mutation","repo_path":"/Users/akshankrithick/projects/httpx","repo_url":"https://github.com/encode/httpx","commit":"ae1b9f66238f75ced3ced5e4485408435de10768","setup_cmd":"pip install -e '.[brotli,zstd,cli,http2,socks]' && pip install pytest uvicorn trio trustme chardet && pip install inline-snapshot","description":"In _auth.py:272, a constant was changed: 'self._nonce_count += 1' became 'self._nonce_count += 0'. This shifts a boundary or default.","vague_description":"A default value or configuration constant seems wrong. The system uses a different threshold or limit than what's documented.","test_cmd":"python -m pytest tests/test_auth.py -x","in_place":true,"timeout":60,"mutation":{"file":"httpx/_auth.py","original":"self._nonce_count += 1","mutated":"self._nonce_count += 0","line_num":272},"source":"discovered","category":"auth","mutation_type":"constant_mutation"}
{"task_id":"httpx-main-L235-comparison_swap","repo_path":"/Users/akshankrithick/projects/httpx","repo_url":"https://github.com/encode/httpx","commit":"ae1b9f66238f75ced3ced5e4485408435de10768","setup_cmd":"pip install -e '.[brotli,zstd,cli,http2,socks]' && pip install pytest uvicorn trio trustme chardet && pip install inline-snapshot","description":"In _main.py:235, the comparison operator was changed: 'elif name == \"http11.send_request_headers.started\" and verbose:' became 'elif name != \"http11.send_request_headers.started\" and verbose:'. This alters the boundary condition.","vague_description":"A numeric check is behaving unexpectedly at the boundary. Values exactly at the threshold are handled incorrectly.","test_cmd":"python -m pytest tests/test_main.py -x","in_place":true,"timeout":60,"mutation":{"file":"httpx/_main.py","original":"elif name == \"http11.send_request_headers.started\" and verbose:","mutated":"elif name != \"http11.send_request_headers.started\" and verbose:","line_num":235},"source":"discovered","category":"cli","mutation_type":"comparison_swap"}
{"task_id":"httpx-client-L228-comparison_swap","repo_path":"/Users/akshankrithick/projects/httpx","repo_url":"https://github.com/encode/httpx","commit":"ae1b9f66238f75ced3ced5e4485408435de10768","setup_cmd":"pip install -e '.[brotli,zstd,cli,http2,socks]' && pip install pytest uvicorn trio trustme chardet && pip install inline-snapshot","description":"In _client.py:228, the comparison operator was changed: 'return self._state == ClientState.CLOSED' became 'return self._state != ClientState.CLOSED'. This alters the boundary condition.","vague_description":"A numeric check is behaving unexpectedly at the boundary. Values exactly at the threshold are handled incorrectly.","test_cmd":"python -m pytest tests/client/test_client.py -x","in_place":true,"timeout":60,"mutation":{"file":"httpx/_client.py","original":"return self._state == ClientState.CLOSED","mutated":"return self._state != ClientState.CLOSED","line_num":228},"source":"discovered","category":"client","mutation_type":"comparison_swap"}
