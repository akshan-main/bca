```
FILE: pydantic_ai_slim/pydantic_ai/embeddings/google.py
SEARCH:
    total_tokens = 0
REPLACE:
    total_tokens = response.embeddings[0].statistics.token_count if response.embeddings and response.embeddings[0].statistics else 0
```

```
FILE: pydantic_ai_slim/pydantic_ai/embeddings/voyageai.py
SEARCH:
    return RequestUsage(input_tokens=total_tokens)
REPLACE:
    return RequestUsage(input_tokens=total_tokens, output_tokens=total_tokens)  # Assuming output tokens should match input tokens for this provider
```