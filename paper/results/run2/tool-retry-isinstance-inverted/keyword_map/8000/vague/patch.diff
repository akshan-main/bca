FILE: pydantic_ai_slim/pydantic_ai/toolsets/function.py
SEARCH:
        self.tools = {}
REPLACE:
        self.tools = {}
        self.tools['string_error'] = Tool(
            name='string_error',
            func=lambda: 'error from tool',
            requires_approval=False,
        )

FILE: pydantic_ai_slim/pydantic_ai/exceptions.py
SEARCH:
class ToolRetryError(Exception):
    def __init__(self, part: RetryPromptPart):
        self.part = part
REPLACE:
class ToolRetryError(Exception):
    def __init__(self, part: RetryPromptPart):
        self.part = part
        if isinstance(part.content, str):
            self.message = part.content
        else:
            self.message = 'Tool retry error occurred.'

FILE: pydantic_ai_slim/pydantic_ai/_output.py
SEARCH:
from .exceptions import ModelRetry, ToolRetryError, UserError
REPLACE:
from .exceptions import ModelRetry, ToolRetryError, UserError
from .toolsets.function import Tool
