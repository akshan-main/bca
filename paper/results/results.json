[
  {
    "task_id": "find-symbol-partial-match",
    "method": "grep",
    "budget": 2000,
    "tokens_used": 2000,
    "symbols_selected": 0,
    "files_included": 2,
    "assembly_time_ms": 0.2,
    "llm_time_ms": 2066.6,
    "llm_input_tokens": 2102,
    "llm_output_tokens": 108,
    "tests_passed": false,
    "test_output": "file not found: cegraph/graph/query.py",
    "patch": "FILE: cegraph/graph/query.py\nSEARCH:\n    def find_symbol(self, name: str) -> list[int]:\n        \"\"\"Find symbols by name.\"\"\"\n        return [sid for sid, info in self.graph.nodes(data=True) if info['name'] == name]\nREPLACE:\n    def find_symbol(self, name: str) -> list[int]:\n        \"\"\"Find symbols by name, allowing partial matches.\"\"\"\n        return [sid for sid, info in self.graph.nodes(data=True) if name in info['name']]\n",
    "error": ""
  },
  {
    "task_id": "find-symbol-partial-match",
    "method": "bm25",
    "budget": 2000,
    "tokens_used": 2000,
    "symbols_selected": 22,
    "files_included": 15,
    "assembly_time_ms": 8.5,
    "llm_time_ms": 812.7,
    "llm_input_tokens": 2166,
    "llm_output_tokens": 37,
    "tests_passed": true,
    "test_output": "yncio_default_fixture_loop_scope\" is unset.\nThe event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: \"function\", \"class\", \"module\", \"package\", \"session\"\n\n  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))",
    "patch": "FILE: src/cegraph/graph/query.py\nSEARCH:\n                if name.lower() == key.lower():\nREPLACE:\n                if name.lower() in key.lower():\n",
    "error": ""
  },
  {
    "task_id": "find-symbol-partial-match",
    "method": "bca",
    "budget": 2000,
    "tokens_used": 1736,
    "symbols_selected": 22,
    "files_included": 10,
    "assembly_time_ms": 7.8,
    "llm_time_ms": 1377.7,
    "llm_input_tokens": 3316,
    "llm_output_tokens": 45,
    "tests_passed": true,
    "test_output": "yncio_default_fixture_loop_scope\" is unset.\nThe event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: \"function\", \"class\", \"module\", \"package\", \"session\"\n\n  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))",
    "patch": "FILE: src/cegraph/graph/query.py\nSEARCH:\n                if name.lower() == key.lower():\nREPLACE:\n                if name.lower() in key.lower():\n",
    "error": ""
  },
  {
    "task_id": "find-symbol-partial-match",
    "method": "grep",
    "budget": 4000,
    "tokens_used": 4000,
    "symbols_selected": 0,
    "files_included": 3,
    "assembly_time_ms": 0.3,
    "llm_time_ms": 1580.5,
    "llm_input_tokens": 4051,
    "llm_output_tokens": 143,
    "tests_passed": false,
    "test_output": "file not found: cegraph/graph/query.py",
    "patch": "FILE: cegraph/graph/query.py\nSEARCH:\n    def find_symbol(self, name: str) -> list[int]:\n        \"\"\"Find symbols by exact name match.\"\"\"\n        return [\n            node_id for node_id, data in self.graph.nodes(data=True)\n            if data.get(\"type\") == \"symbol\" and data.get(\"name\") == name\n        ]\nREPLACE:\n    def find_symbol(self, name: str) -> list[int]:\n        \"\"\"Find symbols by partial name match.\"\"\"\n        return [\n            node_id for node_id, data in self.graph.nodes(data=True)\n            if data.get(\"type\") == \"symbol\" and name in data.get(\"name\", \"\")\n        ]\n",
    "error": ""
  },
  {
    "task_id": "find-symbol-partial-match",
    "method": "bm25",
    "budget": 4000,
    "tokens_used": 4000,
    "symbols_selected": 35,
    "files_included": 22,
    "assembly_time_ms": 19.4,
    "llm_time_ms": 981.9,
    "llm_input_tokens": 4399,
    "llm_output_tokens": 37,
    "tests_passed": true,
    "test_output": "yncio_default_fixture_loop_scope\" is unset.\nThe event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: \"function\", \"class\", \"module\", \"package\", \"session\"\n\n  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))",
    "patch": "FILE: src/cegraph/graph/query.py\nSEARCH:\n                if name.lower() == key.lower():\nREPLACE:\n                if name.lower() in key.lower():\n",
    "error": ""
  },
  {
    "task_id": "find-symbol-partial-match",
    "method": "bca",
    "budget": 4000,
    "tokens_used": 3656,
    "symbols_selected": 15,
    "files_included": 7,
    "assembly_time_ms": 6.2,
    "llm_time_ms": 1738.0,
    "llm_input_tokens": 5302,
    "llm_output_tokens": 45,
    "tests_passed": true,
    "test_output": "yncio_default_fixture_loop_scope\" is unset.\nThe event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: \"function\", \"class\", \"module\", \"package\", \"session\"\n\n  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))",
    "patch": "FILE: src/cegraph/graph/query.py\nSEARCH:\n                if name.lower() == key.lower():\nREPLACE:\n                if name.lower() in key.lower():\n",
    "error": ""
  },
  {
    "task_id": "who-calls-wrong-edge",
    "method": "grep",
    "budget": 2000,
    "tokens_used": 2000,
    "symbols_selected": 0,
    "files_included": 2,
    "assembly_time_ms": 0.1,
    "llm_time_ms": 2450.7,
    "llm_input_tokens": 2108,
    "llm_output_tokens": 189,
    "tests_passed": false,
    "test_output": "file not found: cegraph/graph/query.py",
    "patch": "FILE: cegraph/graph/query.py\nSEARCH:\n        for node in self.graph.predecessors(symbol_id):\n            edge_data = self.graph.get_edge_data(node, symbol_id)\n            if edge_data and edge_data.get(\"kind\") == \"contains\":\n                callers.append({\n                    \"name\": self.get_symbol_name(node),\n                    \"file_path\": self.get_symbol_file_path(node),\n                    \"line\": self.get_symbol_line(node),\n                    \"depth\": 0,\n                })\nREPLACE:\n        for node in self.graph.predecessors(symbol_id):\n            edge_data = self.graph.get_edge_data(node, symbol_id)\n            if edge_data and edge_data.get(\"kind\") == \"calls\":\n                callers.append({\n                    \"name\": self.get_symbol_name(node),\n                    \"file_path\": self.get_symbol_file_path(node),\n                    \"line\": self.get_symbol_line(node),\n                    \"depth\": 0,\n                })\n",
    "error": ""
  },
  {
    "task_id": "who-calls-wrong-edge",
    "method": "bm25",
    "budget": 2000,
    "tokens_used": 2000,
    "symbols_selected": 20,
    "files_included": 14,
    "assembly_time_ms": 9.3,
    "llm_time_ms": 920.8,
    "llm_input_tokens": 2343,
    "llm_output_tokens": 43,
    "tests_passed": true,
    "test_output": "yncio_default_fixture_loop_scope\" is unset.\nThe event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: \"function\", \"class\", \"module\", \"package\", \"session\"\n\n  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))",
    "patch": "FILE: src/cegraph/graph/query.py\nSEARCH:\n                if edge_data.get(\"kind\") != \"contains\":\nREPLACE:\n                if edge_data.get(\"kind\") != \"calls\":\n",
    "error": ""
  },
  {
    "task_id": "who-calls-wrong-edge",
    "method": "bca",
    "budget": 2000,
    "tokens_used": 1764,
    "symbols_selected": 21,
    "files_included": 11,
    "assembly_time_ms": 7.7,
    "llm_time_ms": 1524.3,
    "llm_input_tokens": 3285,
    "llm_output_tokens": 115,
    "tests_passed": true,
    "test_output": "yncio_default_fixture_loop_scope\" is unset.\nThe event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: \"function\", \"class\", \"module\", \"package\", \"session\"\n\n  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))",
    "patch": "FILE: src/cegraph/graph/query.py\nSEARCH:\n            for pred in self.graph.predecessors(node_id):\n                edge_data = self.graph.edges[pred, node_id]\n                if edge_data.get(\"kind\") != \"contains\":\n                    continue\nREPLACE:\n            for pred in self.graph.predecessors(node_id):\n                edge_data = self.graph.edges[pred, node_id]\n                if edge_data.get(\"kind\") != \"calls\":\n                    continue\n",
    "error": ""
  },
  {
    "task_id": "who-calls-wrong-edge",
    "method": "grep",
    "budget": 4000,
    "tokens_used": 4000,
    "symbols_selected": 0,
    "files_included": 3,
    "assembly_time_ms": 0.3,
    "llm_time_ms": 3270.4,
    "llm_input_tokens": 4057,
    "llm_output_tokens": 219,
    "tests_passed": false,
    "test_output": "yncio_default_fixture_loop_scope\" is unset.\nThe event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: \"function\", \"class\", \"module\", \"package\", \"session\"\n\n  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))",
    "patch": "FILE: paper/experiments/ablation.py\nSEARCH:\n                    for succ in graph.successors(item.symbol_id):\n                        edge_data = graph.edges[item.symbol_id, succ]\n                        if edge_data.get(\"kind\") in (\"inherits\", \"implements\"):\n                            if succ not in selected_ids:\n                                closure_violations += 1\nREPLACE:\n                    for succ in graph.successors(item.symbol_id):\n                        edge_data = graph.edges[item.symbol_id, succ]\n                        if edge_data.get(\"kind\") == \"calls\":\n                            if succ not in selected_ids:\n                                closure_violations += 1\n\nFILE: paper/experiments/baselines.py\nSEARCH:\n        if data.get(\"type\") != \"symbol\":\nREPLACE:\n        if data.get(\"type\") != \"call\":\n\nFILE: examples/demo.py\nSEARCH:\n    callers = query.who_calls(\"parse_file\", max_depth=2)\nREPLACE:\n    callers = query.who_calls(\"parse_file\", relationship=\"calls\", max_depth=2)\n",
    "error": ""
  },
  {
    "task_id": "who-calls-wrong-edge",
    "method": "bm25",
    "budget": 4000,
    "tokens_used": 4000,
    "symbols_selected": 44,
    "files_included": 25,
    "assembly_time_ms": 11.3,
    "llm_time_ms": 1023.2,
    "llm_input_tokens": 4136,
    "llm_output_tokens": 43,
    "tests_passed": true,
    "test_output": "yncio_default_fixture_loop_scope\" is unset.\nThe event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: \"function\", \"class\", \"module\", \"package\", \"session\"\n\n  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))",
    "patch": "FILE: src/cegraph/graph/query.py\nSEARCH:\n                if edge_data.get(\"kind\") != \"contains\":\nREPLACE:\n                if edge_data.get(\"kind\") != \"calls\":\n",
    "error": ""
  },
  {
    "task_id": "who-calls-wrong-edge",
    "method": "bca",
    "budget": 4000,
    "tokens_used": 3676,
    "symbols_selected": 11,
    "files_included": 5,
    "assembly_time_ms": 6.8,
    "llm_time_ms": 6891.1,
    "llm_input_tokens": 5198,
    "llm_output_tokens": 105,
    "tests_passed": true,
    "test_output": "yncio_default_fixture_loop_scope\" is unset.\nThe event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: \"function\", \"class\", \"module\", \"package\", \"session\"\n\n  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))",
    "patch": "FILE: src/cegraph/graph/query.py\nSEARCH:\n            for pred in self.graph.predecessors(node_id):\n                edge_data = self.graph.edges[pred, node_id]\n                if edge_data.get(\"kind\") != \"contains\":\nREPLACE:\n            for pred in self.graph.predecessors(node_id):\n                edge_data = self.graph.edges[pred, node_id]\n                if edge_data.get(\"kind\") != \"calls\":\n",
    "error": ""
  }
]