{
  "task_id": "usage-total-tokens-math",
  "method": "grep",
  "budget": 4000,
  "query_type": "vague",
  "tokens_used": 4000,
  "symbols_selected": 0,
  "files_included": 7,
  "assembly_time_ms": 2.6,
  "llm_time_ms": 4545.4,
  "llm_input_tokens": 4406,
  "llm_output_tokens": 342,
  "tests_passed": false,
  "test_output": "search text not found in docs/.hooks/algolia.py",
  "patch": "FILE: docs/.hooks/algolia.py\nSEARCH:\n    content = record['content']\n    if len(content) > MAX_CONTENT_LENGTH:\n        print(\n            f\"Record with title '{record['title']}' has more than {MAX_CONTENT_LENGTH} characters, {len(content)}.\"\n        )\n        print(content)\n    else:\n        filtered_records.append(record)\nREPLACE:\n    content = record['content']\n    if len(content) > MAX_CONTENT_LENGTH:\n        print(\n            f\"Record with title '{record['title']}' has more than {MAX_CONTENT_LENGTH} characters, {len(content)}.\"\n        )\n        print(content)\n    filtered_records.append(record)\n\nFILE: docs/.hooks/main.py\nSEARCH:\n    markdown = inject_snippets(markdown, relative_path.parent)\n    markdown = replace_uv_python_run(markdown)\n    markdown = render_examples(markdown)\n    markdown = render_video(markdown)\n    markdown = create_gateway_toggle(markdown, relative_path)\nREPLACE:\n    markdown = inject_snippets(markdown, relative_path.parent)\n    markdown = replace_uv_python_run(markdown)\n    markdown = render_examples(markdown)\n    markdown = render_video(markdown)\n    markdown = create_gateway_toggle(markdown, relative_path)\n    markdown = track_token_usage(markdown)\n\nFILE: docs/.hooks/main.py\nSEARCH:\ndef create_gateway_toggle(markdown: str, relative_path: Path) -> str:\nREPLACE:\ndef track_token_usage(markdown: str) -> str:\n    # Logic to track token usage\n    return markdown\n\ndef create_gateway_toggle(markdown: str, relative_path: Path) -> str:\n",
  "error": "",
  "failure_mode": "patch_apply_fail",
  "target_file_hit": false,
  "patch_files_changed": 2,
  "patch_lines_changed": 19
}