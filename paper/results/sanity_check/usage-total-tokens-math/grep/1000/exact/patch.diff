FILE: .github/set_docs_main_preview_url.py
SEARCH:
import json
import os
import re
import typing

import httpx
REPLACE:
import json
import os
import re
import typing

import httpx

FILE: .github/set_docs_pr_preview_url.py
SEARCH:
import os
import re

import httpx
REPLACE:
import os
import re

import httpx

FILE: .github/set_docs_main_preview_url.py
SEARCH:
r = httpx.post(deployment_url, headers=gh_headers, json=deployment_data)
print(f'POST {deployment_url} {r.status_code} {r.text}', flush=True)
r.raise_for_status()
REPLACE:
r = httpx.post(deployment_url, headers=gh_headers, json=deployment_data)
print(f'POST {deployment_url} {r.status_code} {r.text}', flush=True)
r.raise_for_status()

FILE: .github/set_docs_pr_preview_url.py
SEARCH:
r = httpx.get(comments_url, headers=gh_headers)
print(f'{r.request.method} {r.request.url} {r.status_code}', flush=True)
if r.status_code != 200:
    print(f'Failed to get comments, status {r.status_code}, response:\n{r.text}', flush=True)
    exit(1)
REPLACE:
r = httpx.get(comments_url, headers=gh_headers)
print(f'{r.request.method} {r.request.url} {r.status_code}', flush=True)
if r.status_code != 200:
    print(f'Failed to get comments, status {r.status_code}, response:\n{r.text}', flush=True)
    exit(1)

FILE: .github/set_docs_pr_preview_url.py
SEARCH:
r = httpx.patch(comment_update_url, headers=gh_headers, json=comment_data)
else:
    print('Creating new comment...', flush=True)
    r = httpx.post(comments_url, headers=gh_headers, json=comment_data)

print(f'{r.request.method} {r.request.url} {r.status_code}', flush=True)
r.raise_for_status()
REPLACE:
r = httpx.patch(comment_update_url, headers=gh_headers, json=comment_data)
else:
    print('Creating new comment...', flush=True)
    r = httpx.post(comments_url, headers=gh_headers, json=comment_data)

print(f'{r.request.method} {r.request.url} {r.status_code}', flush=True)
r.raise_for_status()
