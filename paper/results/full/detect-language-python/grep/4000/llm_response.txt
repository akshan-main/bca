```
FILE: paper/experiments/baselines.py
SEARCH:
from cegraph.context.models import ContextStrategy, TokenEstimator
REPLACE:
from cegraph.context.models import ContextStrategy, TokenEstimator, detect_language
```

```
FILE: paper/experiments/baselines.py
SEARCH:
    keywords = set(re.findall(r"\b([A-Za-z_]\w{2,})\b", task))
REPLACE:
    keywords = set(re.findall(r"\b([A-Za-z_]\w{2,})\b", task.lower()))
```

```
FILE: paper/experiments/baselines.py
SEARCH:
        if data.get("type") != "file":
            continue
        fp = data.get("path", "")
        full_path = repo_path / fp
        if not full_path.exists():
            continue
        try:
            content = full_path.read_text(encoding="utf-8", errors="replace")
        except OSError:
            continue
        if any(kw.lower() in content.lower() for kw in keywords):
            matched_files.append((fp, content))
REPLACE:
        if data.get("type") == "file":
            fp = data.get("path", "")
            full_path = repo_path / fp
            if not full_path.exists():
                continue
            try:
                content = full_path.read_text(encoding="utf-8", errors="replace")
            except OSError:
                continue
            if any(kw.lower() in content.lower() for kw in keywords):
                matched_files.append((fp, content))
```

```
FILE: paper/experiments/baselines.py
SEARCH:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") != "file":
            continue
        fp = data.get("path", "")
        full_path = repo_path / fp
        if not full_path.exists():
            continue
        try:
            content = full_path.read_text(encoding="utf-8", errors="replace")
        except OSError:
            continue
        if any(kw.lower() in content.lower() for kw in keywords):
            matched_files.append((fp, content))
REPLACE:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") == "file":
            fp = data.get("path", "")
            full_path = repo_path / fp
            if not full_path.exists():
                continue
            try:
                content = full_path.read_text(encoding="utf-8", errors="replace")
            except OSError:
                continue
            if any(kw.lower() in content.lower() for kw in keywords):
                matched_files.append((fp, content))
```

```
FILE: paper/experiments/baselines.py
SEARCH:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") != "symbol":
            continue
        name = data.get("name", "")
        qname = data.get("qualified_name", "")
        doc = data.get("docstring", "")
        text = f"{name} {qname} {doc}".lower()
        symbols.append({"id": node_id, "text": text, "data": data})
REPLACE:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") == "symbol":
            name = data.get("name", "")
            qname = data.get("qualified_name", "")
            doc = data.get("docstring", "")
            text = f"{name} {qname} {doc}".lower()
            symbols.append({"id": node_id, "text": text, "data": data})
```

```
FILE: paper/experiments/baselines.py
SEARCH:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") != "symbol":
            continue
        name = data.get("name", "")
        qname = data.get("qualified_name", "")
        doc = data.get("docstring", "")
        text = f"{name} {qname} {doc}".lower()
        symbols.append({"id": node_id, "text": text, "data": data})
REPLACE:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") == "symbol":
            name = data.get("name", "")
            qname = data.get("qualified_name", "")
            doc = data.get("docstring", "")
            text = f"{name} {qname} {doc}".lower()
            symbols.append({"id": node_id, "text": text, "data": data})
```

```
FILE: paper/experiments/baselines.py
SEARCH:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") != "symbol":
            continue
        name = data.get("name", "")
        qname = data.get("qualified_name", "")
        doc = data.get("docstring", "")
        text = f"{name} {qname} {doc}".lower()
        symbols.append({"id": node_id, "text": text, "data": data})
REPLACE:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") == "symbol":
            name = data.get("name", "")
            qname = data.get("qualified_name", "")
            doc = data.get("docstring", "")
            text = f"{name} {qname} {doc}".lower()
            symbols.append({"id": node_id, "text": text, "data": data})
```

```
FILE: paper/experiments/baselines.py
SEARCH:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") != "symbol":
            continue
        name = data.get("name", "")
        qname = data.get("qualified_name", "")
        doc = data.get("docstring", "")
        text = f"{name} {qname} {doc}".lower()
        symbols.append({"id": node_id, "text": text, "data": data})
REPLACE:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") == "symbol":
            name = data.get("name", "")
            qname = data.get("qualified_name", "")
            doc = data.get("docstring", "")
            text = f"{name} {qname} {doc}".lower()
            symbols.append({"id": node_id, "text": text, "data": data})
```

```
FILE: paper/experiments/baselines.py
SEARCH:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") != "symbol":
            continue
        name = data.get("name", "")
        qname = data.get("qualified_name", "")
        doc = data.get("docstring", "")
        text = f"{name} {qname} {doc}".lower()
        symbols.append({"id": node_id, "text": text, "data": data})
REPLACE:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") == "symbol":
            name = data.get("name", "")
            qname = data.get("qualified_name", "")
            doc = data.get("docstring", "")
            text = f"{name} {qname} {doc}".lower()
            symbols.append({"id": node_id, "text": text, "data": data})
```

```
FILE: paper/experiments/baselines.py
SEARCH:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") != "symbol":
            continue
        name = data.get("name", "")
        qname = data.get("qualified_name", "")
        doc = data.get("docstring", "")
        text = f"{name} {qname} {doc}".lower()
        symbols.append({"id": node_id, "text": text, "data": data})
REPLACE:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") == "symbol":
            name = data.get("name", "")
            qname = data.get("qualified_name", "")
            doc = data.get("docstring", "")
            text = f"{name} {qname} {doc}".lower()
            symbols.append({"id": node_id, "text": text, "data": data})
```

```
FILE: paper/experiments/baselines.py
SEARCH:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") != "symbol":
            continue
        name = data.get("name", "")
        qname = data.get("qualified_name", "")
        doc = data.get("docstring", "")
        text = f"{name} {qname} {doc}".lower()
        symbols.append({"id": node_id, "text": text, "data": data})
REPLACE:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") == "symbol":
            name = data.get("name", "")
            qname = data.get("qualified_name", "")
            doc = data.get("docstring", "")
            text = f"{name} {qname} {doc}".lower()
            symbols.append({"id": node_id, "text": text, "data": data})
```

```
FILE: paper/experiments/baselines.py
SEARCH:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") != "symbol":
            continue
        name = data.get("name", "")
        qname = data.get("qualified_name", "")
        doc = data.get("docstring", "")
        text = f"{name} {qname} {doc}".lower()
        symbols.append({"id": node_id, "text": text, "data": data})
REPLACE:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") == "symbol":
            name = data.get("name", "")
            qname = data.get("qualified_name", "")
            doc = data.get("docstring", "")
            text = f"{name} {qname} {doc}".lower()
            symbols.append({"id": node_id, "text": text, "data": data})
```

```
FILE: paper/experiments/baselines.py
SEARCH:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") != "symbol":
            continue
        name = data.get("name", "")
        qname = data.get("qualified_name", "")
        doc = data.get("docstring", "")
        text = f"{name} {qname} {doc}".lower()
        symbols.append({"id": node_id, "text": text, "data": data})
REPLACE:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") == "symbol":
            name = data.get("name", "")
            qname = data.get("qualified_name", "")
            doc = data.get("docstring", "")
            text = f"{name} {qname} {doc}".lower()
            symbols.append({"id": node_id, "text": text, "data": data})
```

```
FILE: paper/experiments/baselines.py
SEARCH:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") != "symbol":
            continue
        name = data.get("name", "")
        qname = data.get("qualified_name", "")
        doc = data.get("docstring", "")
        text = f"{name} {qname} {doc}".lower()
        symbols.append({"id": node_id, "text": text, "data": data})
REPLACE:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") == "symbol":
            name = data.get("name", "")
            qname = data.get("qualified_name", "")
            doc = data.get("docstring", "")
            text = f"{name} {qname} {doc}".lower()
            symbols.append({"id": node_id, "text": text, "data": data})
```

```
FILE: paper/experiments/baselines.py
SEARCH:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") != "symbol":
            continue
        name = data.get("name", "")
        qname = data.get("qualified_name", "")
        doc = data.get("docstring", "")
        text = f"{name} {qname} {doc}".lower()
        symbols.append({"id": node_id, "text": text, "data": data})
REPLACE:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") == "symbol":
            name = data.get("name", "")
            qname = data.get("qualified_name", "")
            doc = data.get("docstring", "")
            text = f"{name} {qname} {doc}".lower()
            symbols.append({"id": node_id, "text": text, "data": data})
```

```
FILE: paper/experiments/baselines.py
SEARCH:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") != "symbol":
            continue
        name = data.get("name", "")
        qname = data.get("qualified_name", "")
        doc = data.get("docstring", "")
        text = f"{name} {qname} {doc}".lower()
        symbols.append({"id": node_id, "text": text, "data": data})
REPLACE:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") == "symbol":
            name = data.get("name", "")
            qname = data.get("qualified_name", "")
            doc = data.get("docstring", "")
            text = f"{name} {qname} {doc}".lower()
            symbols.append({"id": node_id, "text": text, "data": data})
```

```
FILE: paper/experiments/baselines.py
SEARCH:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") != "symbol":
            continue
        name = data.get("name", "")
        qname = data.get("qualified_name", "")
        doc = data.get("docstring", "")
        text = f"{name} {qname} {doc}".lower()
        symbols.append({"id": node_id, "text": text, "data": data})
REPLACE:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") == "symbol":
            name = data.get("name", "")
            qname = data.get("qualified_name", "")
            doc = data.get("docstring", "")
            text = f"{name} {qname} {doc}".lower()
            symbols.append({"id": node_id, "text": text, "data": data})
```

```
FILE: paper/experiments/baselines.py
SEARCH:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") != "symbol":
            continue
        name = data.get("name", "")
        qname = data.get("qualified_name", "")
        doc = data.get("docstring", "")
        text = f"{name} {qname} {doc}".lower()
        symbols.append({"id": node_id, "text": text, "data": data})
REPLACE:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") == "symbol":
            name = data.get("name", "")
            qname = data.get("qualified_name", "")
            doc = data.get("docstring", "")
            text = f"{name} {qname} {doc}".lower()
            symbols.append({"id": node_id, "text": text, "data": data})
```

```
FILE: paper/experiments/baselines.py
SEARCH:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") != "symbol":
            continue
        name = data.get("name", "")
        qname = data.get("qualified_name", "")
        doc = data.get("docstring", "")
        text = f"{name} {qname} {doc}".lower()
        symbols.append({"id": node_id, "text": text, "data": data})
REPLACE:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") == "symbol":
            name = data.get("name", "")
            qname = data.get("qualified_name", "")
            doc = data.get("docstring", "")
            text = f"{name} {qname} {doc}".lower()
            symbols.append({"id": node_id, "text": text, "data": data})
```

```
FILE: paper/experiments/baselines.py
SEARCH:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") != "symbol":
            continue
        name = data.get("name", "")
        qname = data.get("qualified_name", "")
        doc = data.get("docstring", "")
        text = f"{name} {qname} {doc}".lower()
        symbols.append({"id": node_id, "text": text, "data": data})
REPLACE:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") == "symbol":
            name = data.get("name", "")
            qname = data.get("qualified_name", "")
            doc = data.get("docstring", "")
            text = f"{name} {qname} {doc}".lower()
            symbols.append({"id": node_id, "text": text, "data": data})
```

```
FILE: paper/experiments/baselines.py
SEARCH:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") != "symbol":
            continue
        name = data.get("name", "")
        qname = data.get("qualified_name", "")
        doc = data.get("docstring", "")
        text = f"{name} {qname} {doc}".lower()
        symbols.append({"id": node_id, "text": text, "data": data})
REPLACE:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") == "symbol":
            name = data.get("name", "")
            qname = data.get("qualified_name", "")
            doc = data.get("docstring", "")
            text = f"{name} {qname} {doc}".lower()
            symbols.append({"id": node_id, "text": text, "data": data})
```

```
FILE: paper/experiments/baselines.py
SEARCH:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") != "symbol":
            continue
        name = data.get("name", "")
        qname = data.get("qualified_name", "")
        doc = data.get("docstring", "")
        text = f"{name} {qname} {doc}".lower()
        symbols.append({"id": node_id, "text": text, "data": data})
REPLACE:
    for node_id, data in graph.nodes(data=True):
        if data.get("type") == "symbol":
            name = data.get("name", "")
            qname = data.get("qualified_name", "")
           