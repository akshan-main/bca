FILE: src/cegraph/graph/query.py
SEARCH:
    def who_calls(self, name: str, max_depth: int = 1) -> list[dict]:
        # Implementation that incorrectly returns containment relationships
REPLACE:
    def who_calls(self, name: str, max_depth: int = 1) -> list[dict]:
        # Correct implementation to return call relationships
        callers = []
        for node in self.graph.nodes:
            if self.graph.nodes[node].get('type') == 'function' and name in self.graph.nodes[node].get('calls', []):
                callers.append({'name': node, 'depth': 1})
        return callers
