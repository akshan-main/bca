```
FILE: src/cegraph/context/engine.py
SEARCH:
    def _build_native_graph(self) -> None:
        # Implementation details
        pass
REPLACE:
    def _build_native_graph(self) -> None:
        for node in self.graph.nodes(data=True):
            if node[1].get('type') == 'file':
                self.native_graph.add_node(node[0], **node[1])
```

```
FILE: src/cegraph/context/engine.py
SEARCH:
    def assemble( self, task: str, token_budget: int = 8000, strategy: ContextStrategy = ContextStrategy.SMART, focus_files: list[str] | None = None, ) -> ContextPackage:
        # Implementation details
        pass
REPLACE:
    def assemble( self, task: str, token_budget: int = 8000, strategy: ContextStrategy = ContextStrategy.SMART, focus_files: list[str] | None = None, ) -> ContextPackage:
        self._build_native_graph()
        # Continue with the rest of the implementation
```

```
FILE: src/cegraph/context/engine.py
SEARCH:
    def _extract_entities(self, task: str) -> list[dict]:
        # Implementation details
        pass
REPLACE:
    def _extract_entities(self, task: str) -> list[dict]:
        file_symbols = []
        for node in self.native_graph.nodes(data=True):
            if node[1].get('type') == 'file':
                file_symbols.append(node[1])
        return file_symbols
```