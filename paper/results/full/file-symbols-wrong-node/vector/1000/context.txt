# src/cegraph/graph/query.py:231-246
    def get_file_symbols(self, file_path: str) -> list[dict]:
        """Get all symbols defined in a file."""
        file_node = f"{file_path}"
        if not self.graph.has_node(file_node):
            return []

        symbols = []
        for succ in self.graph.successors(file_node):
            data = self.graph.nodes.get(succ, {})
            if data.get("type") == "symbol":
                symbols.append({
                    "id": succ,
                    **{k: v for k, v in data.items() if k != "type"},
                })

        return sorted(symbols, key=lambda s: s.get("line_start", 0))

# src/cegraph/agent/loop.py:14-14
from typing import Any, AsyncIterator, Callable

# src/cegraph/config.py:8-8
from typing import Any

# src/cegraph/context/_native.py:20-20
from typing import Any

# src/cegraph/context/models.py:6-6
from typing import Any

# src/cegraph/github/diff_parser.py:14-14
from typing import Any

# src/cegraph/github/impact_bot.py:24-24
from typing import Any

# src/cegraph/github/renderer.py:13-13
from typing import Any

# src/cegraph/llm/anthropic_provider.py:6-6
from typing import Any, AsyncIterator

# src/cegraph/llm/base.py:6-6
from typing import Any, AsyncIterator

# src/cegraph/llm/openai_provider.py:6-6
from typing import Any, AsyncIterator

# src/cegraph/map/app.py:14-14
from typing import Any

# src/cegraph/mcp/server.py:22-22
from typing import Any

# src/cegraph/tools/definitions.py:9-9
from typing import Any

# src/cegraph/tools/registry.py:6-6
from typing import Any, Callable

# examples/demo.py:10-10
from cegraph.graph.query import GraphQuery

# paper/experiments/ablation.py:23-23
from cegraph.graph.query import GraphQuery

# paper/experiments/baselines.py:30-30
from cegraph.graph.query import GraphQuery

# paper/experiments/benchmark.py:57-57
from cegraph.graph.query import GraphQuery

# src/cegraph/context/engine.py:49-49
from cegraph.graph.query import GraphQuery

# src/cegraph/graph/__init__.py:5-5
from cegraph.graph.query import GraphQuery

# src/cegraph/tools/definitions.py:13-13
from cegraph.graph.query import GraphQuery

# tests/test_context.py:17-17
from cegraph.graph.query import GraphQuery

# tests/test_graph.py:11-11
from cegraph.graph.query import GraphQuery

# tests/test_mcp.py:11-11
from cegraph.graph.query import GraphQuery

# tests/test_tools.py:10-10
from cegraph.graph.query import GraphQuery

# src/cegraph/context/_native.py:269-276
    def topological_sort(self, nodes: list[int]) -> list[int]:
        """Topological sort a subset of nodes."""
        n = len(nodes)
        c_nodes = (ctypes.c_int32 * n)(*nodes)
        out_order = (ctypes.c_int32 * n)()

        count = self._lib.cag_topological_sort(self._handle, c_nodes, n, out_order)
        return [out_order[i] for i in range(count)]

# src/cegraph/github/renderer.py:151-166
def _render_file_tree(files: list[str]) -> list[str]:
    """Render a list of file paths as an ASCII tree."""
    if not files:
        return []

    # Build tree structure
    tree: dict = {}
    for fp in sorted(files):
        parts = fp.split("/")
        node = tree
        for part in parts:
            node = node.setdefault(part, {})

    lines: list[str] = []
    _render_tree_recursive(tree, "", lines, is_last=True, is_root=True)
    return lines

# src/cegraph/graph/query.py:162-183
    def what_calls(self, name: str) -> list[dict]:
        """Find all symbols called by the given symbol."""
        symbol_ids = self.find_symbol(name)
        results = []

        for sid in symbol_ids:
            for succ in self.graph.successors(sid):
                edge_data = self.graph.edges[sid, succ]
                if edge_data.get("kind") != "calls":
                    continue
                succ_data = self.graph.nodes.get(succ, {})
                if succ_data.get("type") != "symbol":
                    continue
                results.append({
                    "symbol_id": succ,
                    "name": succ_data.get("qualified_name", succ_data.get("name", "")),
                    "kind": succ_data.get("kind", ""),
                    "file_path": succ_data.get("file_path", ""),
                    "line": succ_data.get("line_start", 0),
                })

        return results

# src/cegraph/github/diff_parser.py:38-43
    def changed_line_ranges(self) -> list[tuple[int, int]]:
        """Get ranges of changed lines in the new file."""
        ranges = []
        for hunk in self.hunks:
            ranges.append((hunk.new_start, hunk.new_start + hunk.new_count))
        return ranges

# src/cegraph/graph/query.py:38-42
    def __init__(self, graph: nx.DiGraph, store: GraphStore | None = None) -> None:
        self.graph = graph
        self.store = store
        self._name_index: dict[str, list[str]] = {}
        self._build_index()

# src/cegraph/exceptions.py:16-17
class GraphError(CeGraphError):
    """Knowledge graph errors."""