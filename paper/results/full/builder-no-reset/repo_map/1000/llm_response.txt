```
FILE: src/cegraph/agent/loop.py
SEARCH:
class AgentLoop
    def __init__( self, llm: LLMProvider, tools: ToolRegistry, project_name: str = "", max_iterations: int = 15, on_step: Callable[[AgentStep], None] | None = None, on_approval_needed
REPLACE:
class AgentLoop
    def __init__( self, llm: LLMProvider, tools: ToolRegistry, project_name: str = "", max_iterations: int = 15, on_step: Callable[[AgentStep], None] | None = None, on_approval_needed
        self.nodes = set()
        self.edges = set()
```

```
FILE: src/cegraph/agent/loop.py
SEARCH:
def build_from_directory(self, directory: Path) -> None:
    # existing code
REPLACE:
def build_from_directory(self, directory: Path) -> None:
    self.nodes.clear()
    self.edges.clear()
    # existing code
```