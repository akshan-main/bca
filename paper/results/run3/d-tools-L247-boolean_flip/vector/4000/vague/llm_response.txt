```
FILE: pydantic_ai_slim/pydantic_ai/messages.py
SEARCH:
        if isinstance(part, ToolCallPart | BuiltinToolCallPart):
REPLACE:
        if isinstance(part, ToolCallPart) or isinstance(part, BuiltinToolCallPart):
```

```
FILE: pydantic_ai_slim/pydantic_ai/agent/abstract.py
SEARCH:
        return AGUIApp(
            agent=self,
            # Agent.iter parameters
REPLACE:
        return AGUIApp(
            agent=self,
            # Agent.iter parameters
            output_type=output_type,
            message_history=message_history,
            deferred_tool_results=deferred_tool_results,
            model=model,
            deps=deps,
            model_settings=model_settings,
            usage_limits=usage_limits,
            usage=usage,
            infer_name=infer_name,
            toolsets=toolsets,
            # Starlette
            debug=debug,
            routes=routes,
            middleware=middleware,
            exception_handlers=exception_handlers,
            on_startup=on_startup,
            on_shutdown=on_shutdown,
            lifespan=lifespan,
        )
```