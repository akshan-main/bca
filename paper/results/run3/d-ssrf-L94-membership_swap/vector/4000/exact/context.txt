# pydantic_ai_slim/pydantic_ai/_ssrf.py:23-37
_PRIVATE_NETWORKS: tuple[ipaddress.IPv4Network | ipaddress.IPv6Network, ...] = (
    # IPv4 private ranges
    ipaddress.IPv4Network('127.0.0.0/8'),  # Loopback
    ipaddress.IPv4Network('10.0.0.0/8'),  # Private
    ipaddress.IPv4Network('172.16.0.0/12'),  # Private
    ipaddress.IPv4Network('192.168.0.0/16'),  # Private
    ipaddress.IPv4Network('169.254.0.0/16'),  # Link-local (includes cloud metadata)
    ipaddress.IPv4Network('0.0.0.0/8'),  # "This" network
    ipaddress.IPv4Network('100.64.0.0/10'),  # CGNAT (RFC 6598), includes Alibaba Cloud metadata
    # IPv6 private ranges
    ipaddress.IPv6Network('::1/128'),  # Loopback
    ipaddress.IPv6Network('fe80::/10'),  # Link-local
    ipaddress.IPv6Network('fc00::/7'),  # Unique local address
    ipaddress.IPv6Network('2002::/16'),  # 6to4 (can embed private IPv4 addresses)
)

# pydantic_ai_slim/pydantic_ai/toolsets/abstract.py:105-110
    async def __aexit__(self, *args: Any) -> bool | None:
        """Exit the toolset context.

        This is where you can tear down network connections in a concrete implementation.
        """
        return None

# pydantic_ai_slim/pydantic_ai/toolsets/abstract.py:98-103
    async def __aenter__(self) -> Self:
        """Enter the toolset context.

        This is where you can set up network connections in a concrete implementation.
        """
        return self

# pydantic_ai_slim/pydantic_ai/models/__init__.py:867-916
    def _get_instructions(
        messages: Sequence[ModelMessage], model_request_parameters: ModelRequestParameters | None = None
    ) -> str | None:
        """Get instructions from the first ModelRequest found when iterating messages in reverse.

        In the case that a "mock" request was generated to include a tool-return part for a result tool,
        we want to use the instructions from the second-to-most-recent request (which should correspond to the
        original request that generated the response that resulted in the tool-return part).
        """
        instructions = None

        last_two_requests: list[ModelRequest] = []
        for message in reversed(messages):
            if isinstance(message, ModelRequest):
                last_two_requests.append(message)
                if len(last_two_requests) == 2:
                    break
                if message.instructions is not None:
                    instructions = message.instructions
                    break

        # If we don't have two requests, and we didn't already return instructions, there are definitely not any:
        if instructions is None and len(last_two_requests) == 2:
            most_recent_request = last_two_requests[0]
            second_most_recent_request = last_two_requests[1]

            # If we've gotten this far and the most recent request consists of only tool-return parts or retry-prompt parts,
            # we use the instructions from the second-to-most-recent request. This is necessary because when handling
            # result tools, we generate a "mock" ModelRequest with a tool-return part for it, and that ModelRequest will not
            # have the relevant instructions from the agent.

            # While it's possible that you could have a message history where the most recent request has only tool returns,
            # I believe there is no way to achieve that would _change_ the instructions without manually crafting the most
            # recent message. That might make sense in principle for some usage pattern, but it's enough of an edge case
            # that I think it's not worth worrying about, since you can work around this by inserting another ModelRequest
            # with no parts at all immediately before the request that has the tool calls (that works because we only look
            # at the two most recent ModelRequests here).

            # If you have a use case where this causes pain, please open a GitHub issue and we can discuss alternatives.

            if all(p.part_kind == 'tool-return' or p.part_kind == 'retry-prompt' for p in most_recent_request.parts):
                instructions = second_most_recent_request.instructions

        if model_request_parameters and (output_instructions := model_request_parameters.prompted_output_instructions):
            if instructions:
                instructions = '\n\n'.join([instructions, output_instructions])
            else:
                instructions = output_instructions

        return instructions

# examples/pydantic_ai_examples/ag_ui/api/agentic_generative_ui.py:6-6
from typing import Any, Literal

# examples/pydantic_ai_examples/chat_app.py:20-20
from typing import Annotated, Any, Literal, TypeVar

# examples/pydantic_ai_examples/slack_lead_qualifier/app.py:1-1
from typing import Any

# examples/pydantic_ai_examples/slack_lead_qualifier/modal.py:1-1
from typing import Any

# examples/pydantic_ai_examples/slack_lead_qualifier/models.py:1-1
from typing import Annotated, Any

# examples/pydantic_ai_examples/slack_lead_qualifier/slack.py:2-2
from typing import Any

# examples/pydantic_ai_examples/sql_gen.py:19-19
from typing import Annotated, Any, TypeAlias

# examples/pydantic_ai_examples/weather_agent.py:16-16
from typing import Any

# pydantic_ai_slim/pydantic_ai/_a2a.py:9-9
from typing import Any, Generic, TypeVar

# pydantic_ai_slim/pydantic_ai/_agent_graph.py:14-14
from typing import TYPE_CHECKING, Any, Generic, Literal, TypeGuard, cast

# pydantic_ai_slim/pydantic_ai/_cli/__init__.py:11-11
from typing import Any

# pydantic_ai_slim/pydantic_ai/_function_schema.py:12-12
from typing import TYPE_CHECKING, Any, Concatenate, cast, get_origin

# pydantic_ai_slim/pydantic_ai/_griffe.py:8-8
from typing import TYPE_CHECKING, Any, Literal, cast

# pydantic_ai_slim/pydantic_ai/_json_schema.py:7-7
from typing import Any, Literal

# pydantic_ai_slim/pydantic_ai/_output.py:9-9
from typing import TYPE_CHECKING, Any, Generic, Literal, cast, overload

# pydantic_ai_slim/pydantic_ai/_parts_manager.py:18-18
from typing import Any, TypeVar

# pydantic_ai_slim/pydantic_ai/_run_context.py:8-8
from typing import TYPE_CHECKING, Any, Generic

# pydantic_ai_slim/pydantic_ai/_system_prompt.py:6-6
from typing import Any, Generic, cast

# pydantic_ai_slim/pydantic_ai/_tool_manager.py:8-8
from typing import Any, Generic, Literal

# pydantic_ai_slim/pydantic_ai/_utils.py:16-26
from typing import (
    TYPE_CHECKING,
    Any,
    Generic,
    TypeAlias,
    TypeGuard,
    TypeVar,
    get_args,
    get_origin,
    overload,
)

# pydantic_ai_slim/pydantic_ai/ag_ui.py:12-12
from typing import Any

# pydantic_ai_slim/pydantic_ai/agent/__init__.py:12-12
from typing import TYPE_CHECKING, Any, ClassVar, overload

# pydantic_ai_slim/pydantic_ai/agent/abstract.py:9-9
from typing import TYPE_CHECKING, Any, Generic, TypeAlias, cast, overload

# pydantic_ai_slim/pydantic_ai/agent/wrapper.py:5-5
from typing import Any, overload

# pydantic_ai_slim/pydantic_ai/builtin_tools.py:6-6
from typing import Annotated, Any, Literal, Union

# pydantic_ai_slim/pydantic_ai/common_tools/duckduckgo.py:6-6
from typing_extensions import Any, TypedDict

# pydantic_ai_slim/pydantic_ai/common_tools/exa.py:11-11
from typing_extensions import Any, TypedDict

# pydantic_ai_slim/pydantic_ai/common_tools/tavily.py:5-5
from typing_extensions import Any, TypedDict

# pydantic_ai_slim/pydantic_ai/durable_exec/dbos/_agent.py:5-5
from typing import Any, Literal, cast, overload

# pydantic_ai_slim/pydantic_ai/durable_exec/dbos/_mcp.py:5-5
from typing import TYPE_CHECKING, Any

# pydantic_ai_slim/pydantic_ai/durable_exec/dbos/_model.py:6-6
from typing import Any

# pydantic_ai_slim/pydantic_ai/durable_exec/prefect/_agent.py:6-6
from typing import Any, overload

# pydantic_ai_slim/pydantic_ai/durable_exec/prefect/_cache_policies.py:2-2
from typing import Any, TypeGuard

# pydantic_ai_slim/pydantic_ai/durable_exec/prefect/_function_toolset.py:3-3
from typing import Any

# pydantic_ai_slim/pydantic_ai/durable_exec/prefect/_mcp_server.py:4-4
from typing import TYPE_CHECKING, Any

# pydantic_ai_slim/pydantic_ai/durable_exec/prefect/_model.py:6-6
from typing import Any

# pydantic_ai_slim/pydantic_ai/durable_exec/temporal/__init__.py:6-6
from typing import Any

# pydantic_ai_slim/pydantic_ai/durable_exec/temporal/_agent.py:8-8
from typing import Any, Literal, overload

# pydantic_ai_slim/pydantic_ai/durable_exec/temporal/_dynamic_toolset.py:5-5
from typing import Any, Literal

# pydantic_ai_slim/pydantic_ai/durable_exec/temporal/_function_toolset.py:4-4
from typing import Any, Literal

# pydantic_ai_slim/pydantic_ai/durable_exec/temporal/_mcp.py:5-5
from typing import Any, Literal

# pydantic_ai_slim/pydantic_ai/durable_exec/temporal/_model.py:9-9
from typing import Any, cast

# pydantic_ai_slim/pydantic_ai/durable_exec/temporal/_run_context.py:3-3
from typing import Any

# pydantic_ai_slim/pydantic_ai/durable_exec/temporal/_toolset.py:6-6
from typing import Annotated, Any, Literal

# pydantic_ai_slim/pydantic_ai/durable_exec/temporal/_workflow.py:2-2
from typing import Any

# pydantic_ai_slim/pydantic_ai/embeddings/__init__.py:5-5
from typing import Any, ClassVar, Literal, get_args

# pydantic_ai_slim/pydantic_ai/embeddings/bedrock.py:9-9
from typing import TYPE_CHECKING, Any, Literal, cast

# pydantic_ai_slim/pydantic_ai/embeddings/cohere.py:3-3
from typing import Any, Literal, cast

# pydantic_ai_slim/pydantic_ai/embeddings/instrumented.py:8-8
from typing import Any

# pydantic_ai_slim/pydantic_ai/embeddings/result.py:4-4
from typing import Any, Literal

# pydantic_ai_slim/pydantic_ai/embeddings/sentence_transformers.py:6-6
from typing import Any, cast

# pydantic_ai_slim/pydantic_ai/exceptions.py:5-5
from typing import TYPE_CHECKING, Any

# pydantic_ai_slim/pydantic_ai/ext/aci.py:4-4
from typing import Any

# pydantic_ai_slim/pydantic_ai/ext/langchain.py:3-3
from typing import Any, Protocol

# pydantic_ai_slim/pydantic_ai/format_prompt.py:8-8
from typing import Any, Literal

# pydantic_ai_slim/pydantic_ai/mcp.py:14-14
from typing import Annotated, Any, overload

# pydantic_ai_slim/pydantic_ai/messages.py:14-14
from typing import TYPE_CHECKING, Annotated, Any, Literal, TypeAlias, cast, overload

# pydantic_ai_slim/pydantic_ai/models/__init__.py:17-17
from typing import Any, Generic, Literal, TypeVar, get_args, overload

# pydantic_ai_slim/pydantic_ai/models/anthropic.py:8-8
from typing import Any, Literal, cast, overload

# pydantic_ai_slim/pydantic_ai/models/bedrock.py:10-10
from typing import TYPE_CHECKING, Any, Generic, Literal, cast, overload

# pydantic_ai_slim/pydantic_ai/models/cerebras.py:6-6
from typing import Any, Literal, cast

# pydantic_ai_slim/pydantic_ai/models/concurrency.py:8-8
from typing import Any

# pydantic_ai_slim/pydantic_ai/models/fallback.py:7-7
from typing import TYPE_CHECKING, Any

# pydantic_ai_slim/pydantic_ai/models/function.py:10-10
from typing import Any, TypeAlias

# pydantic_ai_slim/pydantic_ai/models/gemini.py:16-16
from typing import Annotated, Any, Literal, Protocol, cast

# pydantic_ai_slim/pydantic_ai/models/google.py:9-9
from typing import Any, Literal, cast, overload

# pydantic_ai_slim/pydantic_ai/models/groq.py:7-7
from typing import Any, Literal, cast, overload

# pydantic_ai_slim/pydantic_ai/models/huggingface.py:7-7
from typing import Any, Literal, cast, overload

# pydantic_ai_slim/pydantic_ai/models/instrumented.py:9-9
from typing import Any, Literal, cast

# pydantic_ai_slim/pydantic_ai/models/mcp_sampling.py:6-6
from typing import TYPE_CHECKING, Any, cast

# pydantic_ai_slim/pydantic_ai/models/mistral.py:7-7
from typing import Any, Literal, cast

# pydantic_ai_slim/pydantic_ai/models/openai.py:12-12
from typing import Any, Literal, cast, overload

# pydantic_ai_slim/pydantic_ai/models/openrouter.py:5-5
from typing import Annotated, Any, Literal, TypeAlias, cast

# pydantic_ai_slim/pydantic_ai/models/outlines.py:13-13
from typing import TYPE_CHECKING, Any, Literal, cast

# pydantic_ai_slim/pydantic_ai/models/test.py:9-9
from typing import Any, Literal

# pydantic_ai_slim/pydantic_ai/models/wrapper.py:7-7
from typing import Any

# pydantic_ai_slim/pydantic_ai/models/xai.py:9-9
from typing import Any, Literal, cast

# pydantic_ai_slim/pydantic_ai/output.py:5-5
from typing import Any, Generic, Literal

# pydantic_ai_slim/pydantic_ai/profiles/openai.py:7-7
from typing import Any, Literal

# pydantic_ai_slim/pydantic_ai/providers/__init__.py:9-9
from typing import Any, Generic, TypeVar

# pydantic_ai_slim/pydantic_ai/providers/bedrock.py:7-7
from typing import Any, Literal, overload

# pydantic_ai_slim/pydantic_ai/providers/gateway.py:8-8
from typing import TYPE_CHECKING, Any, Literal, overload

# pydantic_ai_slim/pydantic_ai/providers/outlines.py:3-3
from typing import Any

# pydantic_ai_slim/pydantic_ai/providers/sentence_transformers.py:3-3
from typing import Any

# pydantic_ai_slim/pydantic_ai/result.py:7-7
from typing import TYPE_CHECKING, Any, Generic, cast, overload

# pydantic_ai_slim/pydantic_ai/retries.py:39-39
from typing import TYPE_CHECKING, Any, cast

# pydantic_ai_slim/pydantic_ai/run.py:7-7
from typing import TYPE_CHECKING, Any, Generic, Literal, overload

# pydantic_ai_slim/pydantic_ai/tools.py:5-5
from typing import Annotated, Any, Concatenate, Generic, Literal, TypeAlias, cast

# pydantic_ai_slim/pydantic_ai/toolsets/_dynamic.py:5-5
from typing import Any, TypeAlias

# pydantic_ai_slim/pydantic_ai/toolsets/abstract.py:6-6
from typing import TYPE_CHECKING, Any, Generic, Literal, Protocol

# pydantic_ai_slim/pydantic_ai/toolsets/approval_required.py:5-5
from typing import Any

# pydantic_ai_slim/pydantic_ai/toolsets/combined.py:8-8
from typing import Any

# pydantic_ai_slim/pydantic_ai/toolsets/external.py:4-4
from typing import Any

# pydantic_ai_slim/pydantic_ai/toolsets/fastmcp.py:8-8
from typing import TYPE_CHECKING, Any, Literal

# pydantic_ai_slim/pydantic_ai/toolsets/function.py:5-5
from typing import Any, overload

# pydantic_ai_slim/pydantic_ai/toolsets/prefixed.py:4-4
from typing import Any

# pydantic_ai_slim/pydantic_ai/toolsets/renamed.py:4-4
from typing import Any

# pydantic_ai_slim/pydantic_ai/toolsets/wrapper.py:5-5
from typing import Any

# pydantic_ai_slim/pydantic_ai/ui/_adapter.py:9-17
from typing import (
    TYPE_CHECKING,
    Any,
    ClassVar,
    Generic,
    Protocol,
    cast,
    runtime_checkable,
)

# pydantic_ai_slim/pydantic_ai/ui/_event_stream.py:7-7
from typing import TYPE_CHECKING, Any, Generic, Literal, TypeAlias, TypeVar, cast

# pydantic_ai_slim/pydantic_ai/ui/ag_ui/_adapter.py:8-12
from typing import (
    TYPE_CHECKING,
    Any,
    cast,
)

# pydantic_ai_slim/pydantic_ai/ui/ag_ui/app.py:7-7
from typing import Any, Generic

# pydantic_ai_slim/pydantic_ai/ui/vercel_ai/_adapter.py:10-10
from typing import TYPE_CHECKING, Any, Literal, cast

# pydantic_ai_slim/pydantic_ai/ui/vercel_ai/_event_stream.py:7-7
from typing import Any, Literal

# pydantic_ai_slim/pydantic_ai/ui/vercel_ai/_utils.py:3-3
from typing import Any

# pydantic_ai_slim/pydantic_ai/ui/vercel_ai/request_types.py:8-8
from typing import Annotated, Any, Literal

# pydantic_ai_slim/pydantic_ai/ui/vercel_ai/response_types.py:8-8
from typing import Annotated, Any, Literal

# pydantic_ai_slim/pydantic_ai/usage.py:6-6
from typing import Annotated, Any

# pydantic_evals/pydantic_evals/_utils.py:10-10
from typing import TYPE_CHECKING, Any, TypeVar

# pydantic_evals/pydantic_evals/dataset.py:24-24
from typing import TYPE_CHECKING, Any, Generic, Literal, Union, cast

# pydantic_evals/pydantic_evals/evaluators/_base.py:7-7
from typing import Any

# pydantic_evals/pydantic_evals/evaluators/_run_evaluator.py:5-5
from typing import TYPE_CHECKING, Any

# pydantic_evals/pydantic_evals/evaluators/common.py:5-5
from typing import Any, Literal, cast

# pydantic_evals/pydantic_evals/evaluators/context.py:10-10
from typing import Any, Generic

# pydantic_evals/pydantic_evals/evaluators/evaluator.py:7-7
from typing import Any, Generic, cast

# pydantic_evals/pydantic_evals/evaluators/llm_as_a_judge.py:5-5
from typing import Any

# pydantic_evals/pydantic_evals/evaluators/report_common.py:4-4
from typing import Any, Literal, cast

# pydantic_evals/pydantic_evals/evaluators/report_evaluator.py:7-7
from typing import TYPE_CHECKING, Any, Generic, cast

# pydantic_evals/pydantic_evals/evaluators/spec.py:5-5
from typing import TYPE_CHECKING, Any, cast

# pydantic_evals/pydantic_evals/generation.py:11-11
from typing import Any

# pydantic_evals/pydantic_evals/otel/span_tree.py:9-9
from typing import TYPE_CHECKING, Any

# pydantic_evals/pydantic_evals/reporting/__init__.py:7-7
from typing import Any, Generic, Literal, Protocol, cast

# pydantic_graph/pydantic_graph/_utils.py:10-10
from typing import TYPE_CHECKING, Any, TypeAlias, TypeVar, get_args, get_origin

# pydantic_graph/pydantic_graph/beta/decision.py:13-13
from typing import TYPE_CHECKING, Any, Generic, get_origin

# pydantic_graph/pydantic_graph/beta/graph.py:14-14
from typing import TYPE_CHECKING, Any, Generic, Literal, TypeGuard, cast, get_args, get_origin, overload

# pydantic_graph/pydantic_graph/beta/graph_builder.py:15-15
from typing import Any, Generic, Literal, cast, get_origin, get_type_hints, overload

# pydantic_graph/pydantic_graph/beta/join.py:14-14
from typing import Any, Generic, Literal, cast, overload

# pydantic_graph/pydantic_graph/beta/node_types.py:10-10
from typing import Any, TypeGuard

# pydantic_graph/pydantic_graph/beta/paths.py:13-13
from typing import TYPE_CHECKING, Any, Generic, get_origin

# pydantic_graph/pydantic_graph/beta/step.py:12-12
from typing import Any, Generic, Protocol, cast, get_origin, overload

# pydantic_graph/pydantic_graph/beta/util.py:8-8
from typing import Any, Generic, cast, get_args, get_origin

# pydantic_graph/pydantic_graph/graph.py:10-10
from typing import Any, Generic, cast, overload

# pydantic_graph/pydantic_graph/mermaid.py:8-8
from typing import TYPE_CHECKING, Annotated, Any, Literal, TypeAlias

# pydantic_graph/pydantic_graph/nodes.py:7-7
from typing import Any, ClassVar, Generic, get_origin, get_type_hints

# pydantic_graph/pydantic_graph/persistence/__init__.py:7-7
from typing import TYPE_CHECKING, Annotated, Any, Generic, Literal

# pydantic_graph/pydantic_graph/persistence/_utils.py:8-8
from typing import Annotated, Any, Union

# pydantic_graph/pydantic_graph/persistence/file.py:9-9
from typing import Any

# pydantic_graph/pydantic_graph/persistence/in_mem.py:13-13
from typing import Any

# tests/conftest.py:17-17
from typing import TYPE_CHECKING, Any, TypeAlias, cast

# tests/evals/test_dataset.py:7-7
from typing import Any, Literal

# tests/evals/test_evaluator_base.py:6-6
from typing import TYPE_CHECKING, Any

# tests/evals/test_evaluator_common.py:4-4
from typing import TYPE_CHECKING, Any

# tests/evals/test_evaluator_context.py:3-3
from typing import Any

# tests/evals/test_evaluators.py:4-4
from typing import Any, cast

# tests/evals/test_report_evaluators.py:6-6
from typing import Any

# tests/evals/test_reports.py:3-3
from typing import Any

# tests/evals/test_utils.py:7-7
from typing import Any

# tests/example_modules/bank_database.py:5-5
from typing import Any

# tests/example_modules/fake_database.py:4-4
from typing import Any

# tests/example_modules/mcp_server.py:1-1
from typing import Any

# tests/example_modules/weather_service.py:4-4
from typing import Any

# tests/ext/test_langchain.py:2-2
from typing import Any

# tests/graph/beta/test_edge_cases.py:6-6
from typing import Any

# tests/graph/beta/test_graph_iteration.py:6-6
from typing import Any

# tests/graph/beta/test_node_and_step.py:3-3
from typing import Any

# tests/graph/beta/test_v1_v2_integration.py:6-6
from typing import Annotated, Any

# tests/json_body_serializer.py:7-7
from typing import TYPE_CHECKING, Any

# tests/mcp_server.py:3-3
from typing import Any

# tests/models/mock_async_stream.py:12-12
from typing import Any, Generic, TypeVar

# tests/models/mock_openai.py:6-6
from typing import Any, cast

# tests/models/mock_xai.py:13-13
from typing import Any, cast

# tests/models/test_anthropic.py:11-11
from typing import Annotated, Any, TypeVar, cast

# tests/models/test_bedrock.py:5-5
from typing import Any

# tests/models/test_cerebras.py:3-3
from typing import Any, cast

# tests/models/test_cohere.py:7-7
from typing import Any, cast

# tests/models/test_fallback.py:7-7
from typing import Any, Literal

# tests/models/test_google.py:12-12
from typing import Any

# tests/models/test_groq.py:9-9
from typing import Any, Literal, cast

# tests/models/test_huggingface.py:8-8
from typing import Any, Literal, cast

# tests/models/test_mcp_sampling.py:3-3
from typing import Any

# tests/models/test_mistral.py:8-8
from typing import Any, cast

# tests/models/test_model_names.py:4-4
from typing import Any, Literal, get_args

# tests/models/test_model_test.py:9-9
from typing import Annotated, Any, Literal

# tests/models/test_openai.py:10-10
from typing import Annotated, Any, Literal, cast

# tests/models/test_outlines.py:12-12
from typing import Any

# tests/models/test_xai.py:22-22
from typing import Any

# tests/models/xai_proto_cassettes.py:38-38
from typing import Any, Literal, Protocol, cast

# tests/parts_from_messages.py:1-1
from typing import Any

# tests/providers/test_gateway.py:3-3
from typing import Any, Literal

# tests/providers/test_provider_names.py:4-4
from typing import Any

# tests/test_ag_ui.py:10-10
from typing import Any

# tests/test_agent.py:9-9
from typing import Any, Generic, Literal, TypeVar, Union

# tests/test_cli.py:5-5
from typing import Any

# tests/test_concurrency.py:7-7
from typing import TYPE_CHECKING, Any

# tests/test_dbos.py:12-12
from typing import Any, Literal

# tests/test_embeddings.py:7-7
from typing import Any, get_args

# tests/test_examples.py:13-13
from typing import Any, cast

# tests/test_exceptions.py:4-4
from typing import Any

# tests/test_fastmcp.py:8-8
from typing import Any

# tests/test_format_as_xml.py:7-7
from typing import Any

# tests/test_function_schema.py:2-2
from typing import Any

# tests/test_history_processor.py:2-2
from typing import Any

# tests/test_json_body_serializer.py:1-1
from typing import Any

# tests/test_json_schema.py:6-6
from typing import Any

# tests/test_logfire.py:5-5
from typing import Any, Literal

# tests/test_mcp.py:9-9
from typing import Any

# tests/test_parts_manager.py:4-4
from typing import Any

# tests/test_streaming.py:10-10
from typing import Any

# tests/test_temporal.py:10-10
from typing import Any, Literal

# tests/test_tools.py:5-5
from typing import Annotated, Any, Literal

# tests/test_toolsets.py:6-6
from typing import Any, TypeVar

# tests/test_ui.py:6-6
from typing import Any

# tests/test_ui_web.py:8-8
from typing import Any

# tests/test_vercel_ai.py:5-5
from typing import Any, cast

# tests/typed_agent.py:8-8
from typing import Any, TypeAlias

# tests/typed_deps.py:2-2
from typing import Any

# tests/typed_graph.py:4-4
from typing import Any

# pydantic_evals/pydantic_evals/otel/span_tree.py:487-489
    def any(self, predicate: SpanQuery | SpanPredicate) -> bool:
        """Returns True if any node in the tree matches the predicate."""
        return self.first(predicate) is not None

# pydantic_ai_slim/pydantic_ai/toolsets/abstract.py:76-83
    def id(self) -> str | None:
        """An ID for the toolset that is unique among all toolsets registered with the same agent.

        If you're implementing a concrete implementation that users can instantiate more than once, you should let them optionally pass a custom ID to the constructor and return that here.

        A toolset needs to have an ID in order to be used in a durable execution environment like Temporal, in which case the ID will be used to identify the toolset's activities within the workflow.
        """
        raise NotImplementedError()

# pydantic_ai_slim/pydantic_ai/messages.py:681-703
class ToolReturn:
    """A structured return value for tools that need to provide both a return value and custom content to the model.

    This class allows tools to return complex responses that include:
    - A return value for actual tool return
    - Custom content (including multi-modal content) to be sent to the model as a UserPromptPart
    - Optional metadata for application use
    """

    return_value: ToolReturnContent
    """The return value to be used in the tool response."""

    _: KW_ONLY

    content: str | Sequence[UserContent] | None = None
    """The content to be sent to the model as a UserPromptPart."""

    metadata: Any = None
    """Additional data that can be accessed programmatically by the application but is not sent to the LLM."""

    kind: Literal['tool-return'] = 'tool-return'

    __repr__ = _utils.dataclasses_no_defaults_repr

# tests/test_ssrf.py:694-703
    async def test_multiple_ips_with_any_private_blocked(self) -> None:
        """Test that if any IP in the resolution is private, request is blocked."""
        with patch('pydantic_ai._ssrf.run_in_executor') as mock_executor:
            # DNS returns multiple IPs, one of which is private
            mock_executor.return_value = [
                (2, 1, 6, '', ('8.8.8.8', 0)),  # Public
                (10, 1, 6, '', ('::1', 0)),  # Private IPv6 loopback
            ]
            with pytest.raises(ValueError, match='Access to private/internal IP address'):
                await validate_and_resolve_url('http://attacker.com/path', allow_local=False)

# pydantic_ai_slim/pydantic_ai/messages.py:906-924
class BuiltinToolReturnPart(BaseToolReturnPart):
    """A tool return message from a built-in tool."""

    _: KW_ONLY

    provider_name: str | None = None
    """The name of the provider that generated the response.

    Required to be set when `provider_details` is set.
    """

    provider_details: dict[str, Any] | None = None
    """Additional data returned by the provider that can't be mapped to standard fields.

    This is used for data that is required to be sent back to APIs, as well as data users may want to access programmatically.
    When this field is set, `provider_name` is required to identify the provider that generated this data."""

    part_kind: Literal['builtin-tool-return'] = 'builtin-tool-return'
    """Part type identifier, this is available on all parts as a discriminator."""

# pydantic_ai_slim/pydantic_ai/models/openai.py:1030-1037
        def _map_response_builtin_part(self, item: BuiltinToolCallPart | BuiltinToolReturnPart) -> None:
            """Maps a built-in tool call or return part to the response context.

            This method serves as a hook that can be overridden by subclasses
            to implement custom logic for handling built-in tool parts.
            """
            # OpenAI doesn't return built-in tool calls
            pass

# pydantic_ai_slim/pydantic_ai/messages.py:553-566
    def identifier(self) -> str:
        """Identifier for the binary content, such as a unique ID.

        This identifier can be provided to the model in a message to allow it to refer to this file in a tool call argument,
        and the tool can look up the file in question by iterating over the message history and finding the matching `BinaryContent`.

        This identifier is only automatically passed to the model when the `BinaryContent` is returned by a tool.
        If you're passing the `BinaryContent` as a user message, it's up to you to include a separate text part with the identifier,
        e.g. "This is file <identifier>:" preceding the `BinaryContent`.

        It's also included in inline-text delimiters for providers that require inlining text documents, so the model can
        distinguish multiple files.
        """
        return self._identifier or _multi_modal_content_identifier(self.data)

# pydantic_evals/pydantic_evals/reporting/__init__.py:682-688
class RenderValueConfig(TypedDict, total=False):
    """A configuration for rendering a values in an Evaluation report."""

    value_formatter: str | Callable[[Any], str]
    diff_checker: Callable[[Any, Any], bool] | None
    diff_formatter: Callable[[Any, Any], str | None] | None
    diff_style: str

# tests/test_temporal.py:2579-2579
    values: list[int] = field(default_factory=list[int])

# tests/graph/beta/test_broadcast_and_spread.py:17-17
    values: list[int] = field(default_factory=list[int])