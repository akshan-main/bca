```
FILE: pydantic_ai_slim/pydantic_ai/_agent_graph.py
SEARCH:
    return _messages_ctx_var.get()
REPLACE:
    return _messages_ctx_var.get() if some_condition else None
```

```
FILE: pydantic_ai_slim/pydantic_ai/_cli/__init__.py
SEARCH:
        self.special_suggestions = special_suggestions or []
REPLACE:
        self.special_suggestions = special_suggestions if special_suggestions is not None else []
```

```
FILE: pydantic_ai_slim/pydantic_ai/_function_schema.py
SEARCH:
    return annotation is RunContext or get_origin(annotation) is RunContext
REPLACE:
    return annotation is not RunContext and get_origin(annotation) is not RunContext
```

```
FILE: pydantic_ai_slim/pydantic_ai/_output.py
SEARCH:
        return 'auto'
REPLACE:
        return 'manual'
```

```
FILE: pydantic_ai_slim/pydantic_ai/toolsets/abstract.py
SEARCH:
        self, input: Any, *, allow_partial: bool | Literal['off', 'on', 'trailing-strings'] = False, **kwargs: Any
REPLACE:
        self, input: Any, *, allow_partial: bool | Literal['on', 'off', 'trailing-strings'] = True, **kwargs: Any
```