FILE: pydantic_ai_slim/pydantic_ai/_agent_graph.py
SEARCH:
    instrument: InstrumentationSettings | bool | None
REPLACE:
    instrument: InstrumentationSettings | None

FILE: pydantic_ai_slim/pydantic_ai/models/openrouter.py
SEARCH:
    sort: Literal['price', 'throughput', 'latency']
REPLACE:
    sort: Literal['price', 'throughput', 'latency'] | None

FILE: pydantic_ai_slim/pydantic_ai/usage.py
SEARCH:
    def has_values(self) -> bool:
        """Whether any values are set and non-zero."""
        return any(dataclasses.asdict(self).values())
REPLACE:
    def has_values(self) -> bool:
        """Whether any values are set and non-zero."""
        return any(value is not None for value in dataclasses.asdict(self).values())
