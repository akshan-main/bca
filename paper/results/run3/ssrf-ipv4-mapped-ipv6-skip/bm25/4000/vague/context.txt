# pydantic_ai_slim/pydantic_ai/_ssrf.py:82-97
def is_private_ip(ip_str: str) -> bool:
    """Check if an IP address is in a private/internal range.

    Handles both IPv4 and IPv6 addresses, including IPv4-mapped IPv6 addresses.
    """
    try:
        ip = ipaddress.ip_address(ip_str)

        # Handle IPv4-mapped IPv6 addresses (e.g., ::ffff:192.168.1.1)
        if isinstance(ip, ipaddress.IPv6Address) and not ip.ipv4_mapped:
            ip = ip.ipv4_mapped

        return any(ip in network for network in _PRIVATE_NETWORKS)
    except ValueError:
        # Invalid IP address, treat as potentially dangerous
        return True

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# tests/mcp_server.py:7-17
from mcp.types import (
    Annotations,
    BlobResourceContents,
    CreateMessageResult,
    EmbeddedResource,
    ResourceLink,
    SamplingMessage,
    TextContent,
    TextResourceContents,
    ToolAnnotations,
)

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# examples/pydantic_ai_examples/ag_ui/__init__.py:14-14
from __future__ import annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# docs/.hooks/algolia.py:2-2
from __future__ import annotations as _annotations

# tests/mcp_server.py:7-17
from mcp.types import (
    Annotations,
    BlobResourceContents,
    CreateMessageResult,
    EmbeddedResource,
    ResourceLink,
    SamplingMessage,
    TextContent,
    TextResourceContents,
    ToolAnnotations,
)

# tests/test_ssrf.py:99-100
    def test_ipv4_mapped_ipv6_private(self, ip: str) -> None:
        assert is_private_ip(ip) is True

# pydantic_ai_slim/pydantic_ai/mcp.py:143-143
    annotations: ResourceAnnotations | None = None

# pydantic_ai_slim/pydantic_ai/mcp.py:103-124
class ResourceAnnotations:
    """Additional properties describing MCP entities.

    See the [resource annotations in the MCP specification](https://modelcontextprotocol.io/specification/2025-06-18/server/resources#annotations).
    """

    audience: list[mcp_types.Role] | None = None
    """Intended audience for this entity."""

    priority: Annotated[float, Field(ge=0.0, le=1.0)] | None = None
    """Priority level for this entity, ranging from 0.0 to 1.0."""

    __repr__ = _utils.dataclasses_no_defaults_repr

    @classmethod
    def from_mcp_sdk(cls, mcp_annotations: mcp_types.Annotations) -> ResourceAnnotations:
        """Convert from MCP SDK Annotations to ResourceAnnotations.

        Args:
            mcp_annotations: The MCP SDK annotations object.
        """
        return cls(audience=mcp_annotations.audience, priority=mcp_annotations.priority)

# pydantic_ai_slim/pydantic_ai/mcp.py:118-124
    def from_mcp_sdk(cls, mcp_annotations: mcp_types.Annotations) -> ResourceAnnotations:
        """Convert from MCP SDK Annotations to ResourceAnnotations.

        Args:
            mcp_annotations: The MCP SDK annotations object.
        """
        return cls(audience=mcp_annotations.audience, priority=mcp_annotations.priority)

# pydantic_ai_slim/pydantic_ai/models/openrouter.py:360-360
_OpenRouterAnnotation: TypeAlias = _OpenAIAnnotation | _OpenRouterFileAnnotation

# pydantic_ai_slim/pydantic_ai/models/openrouter.py:616-616
    annotations: list[_OpenRouterAnnotation] | None = None

# pydantic_ai_slim/pydantic_ai/models/openrouter.py:396-396
    annotations: list[_OpenRouterAnnotation] | None = None  # type: ignore[reportIncompatibleVariableOverride]

# tests/test_function_schema.py:171-178
def test_function_no_annotations():
    """Test function with no type annotations."""

    def func_no_annotations(ctx, x):  # type: ignore
        ...  # pragma: no cover

    # Without annotations, _takes_ctx should return False
    assert _takes_ctx(func_no_annotations) is False  # type: ignore

# tests/test_function_schema.py:181-186
def test_function_wrong_annotation_type():
    """Test function with wrong annotation type for first parameter."""

    def func_wrong_annotation(ctx: str, x: int) -> str: ...  # pragma: no cover

    assert _takes_ctx(func_wrong_annotation) is False

# pydantic_ai_slim/pydantic_ai/models/openai.py:1282-1282
responses_output_text_annotations_ta = TypeAdapter(list[responses.response_output_text.Annotation])

# tests/test_ssrf.py:110-111
    def test_ipv4_mapped_ipv6_public(self, ip: str) -> None:
        assert is_private_ip(ip) is False

# tests/test_ssrf.py:388-392
    async def test_6to4_address_blocked(self) -> None:
        """Test that 6to4 addresses (which can embed private IPv4) are blocked."""
        # 2002:c0a8:0101::1 embeds 192.168.1.1
        with pytest.raises(ValueError, match='Access to private/internal IP address'):
            await validate_and_resolve_url('http://[2002:c0a8:0101::1]/path', allow_local=False)

# pydantic_ai_slim/pydantic_ai/models/openrouter.py:349-357
class _OpenRouterFileAnnotation(BaseModel, frozen=True):
    """File annotation from OpenRouter.

    OpenRouter can return file annotations when processing uploaded files like PDFs.
    The schema is flexible since OpenRouter doesn't document the exact fields.
    """

    type: Literal['file']
    file: dict[str, Any] | None = None

# pydantic_ai_slim/pydantic_ai/models/openai.py:458-458
    openai_include_raw_annotations: bool

# pydantic_ai_slim/pydantic_ai/models/openrouter.py:356-356
    type: Literal['file']