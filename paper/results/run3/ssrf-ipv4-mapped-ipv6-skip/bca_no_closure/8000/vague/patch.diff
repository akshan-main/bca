FILE: pydantic_ai_slim/pydantic_ai/_ssrf.py
SEARCH:
    def is_cloud_metadata_ip(ip_str: str) -> bool:
        """Check if an IP address is a cloud metadata endpoint.

        These are always blocked for security reasons, even with allow_local=True.
        """
        return ip_str in _CLOUD_METADATA_IPS
REPLACE:
    def is_cloud_metadata_ip(ip_str: str) -> bool:
        """Check if an IP address is a cloud metadata endpoint.

        These are always blocked for security reasons, even with allow_local=True.
        """
        return ip_str in _CLOUD_METADATA_IPS or is_private_ip(ip_str)
