FILE: pydantic_ai_slim/pydantic_ai/messages.py
SEARCH:
    def base64(self) -> str:
        """Return the binary data as a base64-encoded string. Default encoding is UTF-8."""
        return base64.b64encode(self.data).decode()
REPLACE:
    def base64(self) -> str:
        """Return the binary data as a base64-encoded string. Default encoding is UTF-8."""
        if not isinstance(self.data, bytes):
            raise TypeError("Data must be bytes for base64 encoding.")
        return base64.b64encode(self.data).decode()
