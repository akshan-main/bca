```
FILE: pydantic_ai_slim/pydantic_ai/agent/__init__.py
SEARCH:
                if toolsets is not None:  # pragma: no cover
                    raise TypeError('`mcp_servers` and `toolsets` cannot be set at the same time.')
REPLACE:
                if toolsets is None:  # pragma: no cover
                    raise TypeError('`mcp_servers` and `toolsets` cannot be set at the same time.')
```

```
FILE: pydantic_ai_slim/pydantic_ai/embeddings/__init__.py
SEARCH:
        self._model = model if defer_model_check else infer_embedding_model(model)
REPLACE:
        self._model = model if not defer_model_check else infer_embedding_model(model)
```

```
FILE: pydantic_ai_slim/pydantic_ai/retries.py
SEARCH:
    if fallback_strategy is None:
REPLACE:
    if fallback_strategy is not None:
```

```
FILE: pydantic_ai_slim/pydantic_ai/_parts_manager.py
SEARCH:
                if not isinstance(existing_part, ToolCallPartDelta | ToolCallPart | BuiltinToolCallPart):
REPLACE:
                if isinstance(existing_part, ToolCallPartDelta | ToolCallPart | BuiltinToolCallPart):
```