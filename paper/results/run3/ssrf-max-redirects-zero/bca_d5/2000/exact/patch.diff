FILE: pydantic_ai_slim/pydantic_ai/_agent_graph.py
SEARCH:
    usage: _usage.RunUsage = dataclasses.field(default_factory=_usage.RunUsage)
REPLACE:
    usage: _usage.RunUsage = dataclasses.field(default_factory=lambda: _usage.RunUsage())

FILE: pydantic_ai_slim/pydantic_ai/models/xai.py
SEARCH:
    return {
        _XAI_MODEL_SETTINGS_MAPPING[key]: value
        for key, value in model_settings.items()
        if key in _XAI_MODEL_SETTINGS_MAPPING
    }
REPLACE:
    return {
        _XAI_MODEL_SETTINGS_MAPPING[key]: value
        for key, value in model_settings.items()
        if key in _XAI_MODEL_SETTINGS_MAPPING and value is not None
    }
