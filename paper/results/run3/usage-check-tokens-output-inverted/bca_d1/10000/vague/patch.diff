FILE: pydantic_ai_slim/pydantic_ai/_agent_graph.py
SEARCH:
        return End(self.final_result)
REPLACE:
        if self.final_result.output_tokens > self.final_result.output_tokens_limit:
            raise exceptions.UserError('Output token limit exceeded.')
        return End(self.final_result)

FILE: pydantic_ai_slim/pydantic_ai/_cli/__init__.py
SEARCH:
    output_tokens_limit: int | None = None
REPLACE:
    output_tokens_limit: int | None = 1000  # Set a default limit if not provided
