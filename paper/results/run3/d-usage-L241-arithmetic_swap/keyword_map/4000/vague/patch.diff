FILE: pydantic_ai_slim/pydantic_ai/agent/__init__.py
SEARCH:
        self._dynamic_toolsets.append(DynamicToolset(func_, per_run_step=per_run_step, id=id))
REPLACE:
        self._dynamic_toolsets.append(DynamicToolset(func_, per_run_step=not per_run_step, id=id))

FILE: pydantic_ai_slim/pydantic_ai/ui/ag_ui/app.py
SEARCH:
            return await AGUIAdapter[AgentDepsT, OutputDataT].dispatch_request(
REPLACE:
            return await AGUIAdapter[AgentDepsT, OutputDataT].dispatch_request(
                request,
                agent=agent,
                output_type=output_type,
                message_history=message_history,
                deferred_tool_results=deferred_tool_results,
                model=model,
                deps=deps,
                model_settings=model_settings,
                usage_limits=usage_limits,
                usage=usage,
                infer_name=infer_name,
                toolsets=toolsets,
                builtin_tools=builtin_tools,
                on_complete=on_complete,
            )
