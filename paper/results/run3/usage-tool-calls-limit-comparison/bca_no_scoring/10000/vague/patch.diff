FILE: pydantic_ai_slim/pydantic_ai/_agent_graph.py
SEARCH:
        if usage_limits.tool_calls_limit is not None:
            projected_usage = deepcopy(usage)
            projected_usage.tool_calls += len(tool_calls)
            usage_limits.check_before_tool_call(projected_usage)
REPLACE:
        if usage_limits.tool_calls_limit is not None:
            projected_usage = deepcopy(usage)
            projected_usage.tool_calls += len(tool_calls)
            usage_limits.check_before_tool_call(projected_usage)
            if projected_usage.tool_calls > usage_limits.tool_calls_limit:
                raise UsageLimitExceeded(f'Exceeded the tool_calls_limit of {usage_limits.tool_calls_limit} (tool_calls={projected_usage.tool_calls})')
