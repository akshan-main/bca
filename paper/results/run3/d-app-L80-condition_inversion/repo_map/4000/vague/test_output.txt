result = await _get_ui_html(html_source=custom_url)

tests/test_ui_web.py:467: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

html_source = 'https://my-internal-cdn.example.com/ui/index.html'

    async def _get_ui_html(html_source: str | Path | None = None) -> bytes:
        """Get UI HTML content from the specified source or default CDN.
    
        When html_source is provided, it is used directly.
        When html_source is None, fetches from the default CDN.
    
        Args:
            html_source: Path or URL for the chat UI HTML. Can be:
                - None: Uses the default CDN (cached locally)
                - A Path instance: Reads from the local file
                - A URL (http:// or https://): Fetches from the URL
                - A file path string: Reads from the local file
        """
        # Use default CDN with caching
        if html_source is None:
            cache_dir = _get_cache_dir()
            cache_file = cache_dir / f'{CHAT_UI_VERSION}.html'
    
            if cache_file.exists():
                return cache_file.read_bytes()
    
            async with httpx.AsyncClient() as client:
                response = await client.get(DEFAULT_HTML_URL)
                response.raise_for_status()
                content = response.content
    
            cache_file.write_bytes(content)
            return content
    
        # Handle Path instances
        if not isinstance(html_source, Path):
>           html_source = html_source.expanduser()
E           AttributeError: 'str' object has no attribute 'expanduser'

pydantic_ai_slim/pydantic_ai/ui/_web/app.py:81: AttributeError
=========================== short test summary info ============================
FAILED tests/test_ui_web.py::test_get_ui_html_custom_url - AttributeError: 's...
!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 1 failures !!!!!!!!!!!!!!!!!!!!!!!!!!!
========================= 1 failed, 26 passed in 0.97s =========================

/Users/akshankrithick/anaconda3/envs/vvenv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:247: PytestDeprecationWarning: The configuration option "asyncio_default_fixture_loop_scope" is unset.
The event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: "function", "class", "module", "package", "session"

  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))