FILE: httpx/_models.py
SEARCH:
            str_value = value.decode(self.encoding)
REPLACE:
            str_value = value.decode(self.encoding)  # Ensure correct decoding

FILE: httpx/_urls.py
SEARCH:
        return {k: v[0] for k, v in self._dict.items()}.values()
REPLACE:
        return {k: v[0] for k, v in self._dict.items() if v}  # Ensure values are not empty
