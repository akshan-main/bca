FILE: pydantic_evals/pydantic_evals/otel/span_tree.py
SEARCH:
        if (name_equals := query.get('name_equals')) and self.name != name_equals:
            return False
REPLACE:
        if (name_equals := query.get('name_equals')) and self.name == name_equals:
            return True

FILE: pydantic_evals/pydantic_evals/otel/span_tree.py
SEARCH:
        if (name_contains := query.get('name_contains')) and name_contains not in self.name:
            return False
REPLACE:
        if (name_contains := query.get('name_contains')) and name_contains in self.name:
            return True

FILE: pydantic_evals/pydantic_evals/otel/span_tree.py
SEARCH:
        if (name_matches_regex := query.get('name_matches_regex')) and not re.match(name_matches_regex, self.name):
            return False
REPLACE:
        if (name_matches_regex := query.get('name_matches_regex')) and re.match(name_matches_regex, self.name):
            return True

FILE: pydantic_evals/pydantic_evals/otel/span_tree.py
SEARCH:
        if (has_attributes := query.get('has_attributes')) and not all(
            self.attributes.get(key) == value for key, value in has_attributes.items()
        ):
            return False
REPLACE:
        if (has_attributes := query.get('has_attributes')) and all(
            self.attributes.get(key) == value for key, value in has_attributes.items()
        ):
            return True

FILE: pydantic_evals/pydantic_evals/otel/span_tree.py
SEARCH:
        if (has_attributes_keys := query.get('has_attribute_keys')) and not all(
            key in self.attributes for key in has_attributes_keys
        ):
            return False
REPLACE:
        if (has_attributes_keys := query.get('has_attribute_keys')) and all(
            key in self.attributes for key in has_attributes_keys
        ):
            return True

FILE: pydantic_evals/pydantic_evals/otel/span_tree.py
SEARCH:
        if (min_duration := query.get('min_duration')) is not None:
            if not isinstance(min_duration, timedelta):
                min_duration = timedelta(seconds=min_duration)
            if self.duration < min_duration:
                return False
REPLACE:
        if (min_duration := query.get('min_duration')) is not None:
            if not isinstance(min_duration, timedelta):
                min_duration = timedelta(seconds=min_duration)
            if self.duration >= min_duration:
                return True

FILE: pydantic_evals/pydantic_evals/otel/span_tree.py
SEARCH:
        if (max_duration := query.get('max_duration')) is not None:
            if not isinstance(max_duration, timedelta):
                max_duration = timedelta(seconds=max_duration)
            if self.duration > max_duration:
                return False
REPLACE:
        if (max_duration := query.get('max_duration')) is not None:
            if not isinstance(max_duration, timedelta):
                max_duration = timedelta(seconds=max_duration)
            if self.duration <= max_duration:
                return True

FILE: pydantic_evals/pydantic_evals/otel/span_tree.py
SEARCH:
        if (min_child_count := query.get('min_child_count')) and len(self.children) < min_child_count:
            return False
REPLACE:
        if (min_child_count := query.get('min_child_count')) and len(self.children) >= min_child_count:
            return True

FILE: pydantic_evals/pydantic_evals/otel/span_tree.py
SEARCH:
        if (max_child_count := query.get('max_child_count')) and len(self.children) > max_child_count:
            return False
REPLACE:
        if (max_child_count := query.get('max_child_count')) and len(self.children) <= max_child_count:
            return True

FILE: pydantic_evals/pydantic_evals/otel/span_tree.py
SEARCH:
        if (some_child_has := query.get('some_child_has')) and not any(
            child._matches_query(some_child_has) for child in self.children
        ):
            return False
REPLACE:
        if (some_child_has := query.get('some_child_has')) and any(
            child._matches_query(some_child_has) for child in self.children
        ):
            return True

FILE: pydantic_evals/pydantic_evals/otel/span_tree.py
SEARCH:
        if (all_children_have := query.get('all_children_have')) and not all(
            child._matches_query(all_children_have) for child in self.children
        ):
            return False
REPLACE:
        if (all_children_have := query.get('all_children_have')) and all(
            child._matches_query(all_children_have) for child in self.children
        ):
            return True

FILE: pydantic_evals/pydantic_evals/otel/span_tree.py
SEARCH:
        if (no_child_has := query.get('no_child_has')) and any(
            child._matches_query(no_child_has) for child in self.children
        ):
            return False
REPLACE:
        if (no_child_has := query.get('no_child_has')) and not any(
            child._matches_query(no_child_has) for child in self.children
        ):
            return True

FILE: pydantic_evals/pydantic_evals/otel/span_tree.py
SEARCH:
        if (min_descendant_count := query.get('min_descendant_count')) and len(descendants()) < min_descendant_count:
            return False
REPLACE:
        if (min_descendant_count := query.get('min_descendant_count')) and len(descendants()) >= min_descendant_count:
            return True

FILE: pydantic_evals/pydantic_evals/otel/span_tree.py
SEARCH:
        if (max_descendant_count := query.get('max_descendant_count')) and len(descendants()) > max_descendant_count:
            return False
REPLACE:
        if (max_descendant_count := query.get('max_descendant_count')) and len(descendants()) <= max_descendant_count:
            return True

FILE: pydantic_evals/pydantic_evals/otel/span_tree.py
SEARCH:
        if (some_descendant_has := query.get('some_descendant_has')) and not any(
            descendant._matches_query(some_descendant_has) for descendant in pruned_descendants()
        ):
            return False
REPLACE:
        if (some_descendant_has := query.get('some_descendant_has')) and any(
            descendant._matches_query(some_descendant_has) for descendant in pruned_descendants()
        ):
            return True

FILE: pydantic_evals/pydantic_evals/otel/span_tree.py
SEARCH:
        if (all_descendants_have := query.get('all_descendants_have')) and not all(
            descendant._matches_query(all_descendants_have) for descendant in pruned_descendants()
        ):
            return False
REPLACE:
        if (all_descendants_have := query.get('all_descendants_have')) and all(
            descendant._matches_query(all_descendants_have) for descendant in pruned_descendants()
        ):
            return True

FILE: pydantic_evals/pydantic_evals/otel/span_tree.py
SEARCH:
        if (no_descendant_has := query.get('no_descendant_has')) and any(
            descendant._matches_query(no_descendant_has) for descendant in pruned_descendants()
        ):
            return False
REPLACE:
        if (no_descendant_has := query.get('no_descendant_has')) and not any(
            descendant._matches_query(no_descendant_has) for descendant in pruned_descendants()
        ):
            return True

FILE: pydantic_evals/pydantic_evals/otel/span_tree.py
SEARCH:
        if (min_depth := query.get('min_depth')) and len(ancestors()) < min_depth:
            return False
REPLACE:
        if (min_depth := query.get('min_depth')) and len(ancestors()) >= min_depth:
            return True

FILE: pydantic_evals/pydantic_evals/otel/span_tree.py
SEARCH:
        if (max_depth := query.get('max_depth')) and len(ancestors()) > max_depth:
            return False
REPLACE:
        if (max_depth := query.get('max_depth')) and len(ancestors()) <= max_depth:
            return True

FILE: pydantic_evals/pydantic_evals/otel/span_tree.py
SEARCH:
        if (some_ancestor_has := query.get('some_ancestor_has')) and not any(
            ancestor._matches_query(some_ancestor_has) for ancestor in pruned_ancestors()
        ):
            return False
REPLACE:
        if (some_ancestor_has := query.get('some_ancestor_has')) and any(
            ancestor._matches_query(some_ancestor_has) for ancestor in pruned_ancestors()
        ):
            return True

FILE: pydantic_evals/pydantic_evals/otel/span_tree.py
SEARCH:
        if (all_ancestors_have := query.get('all_ancestors_have')) and not all(
            ancestor._matches_query(all_ancestors_have) for ancestor in pruned_ancestors()
        ):
            return False
REPLACE:
        if (all_ancestors_have := query.get('all_ancestors_have')) and all(
            ancestor._matches_query(all_ancestors_have) for ancestor in pruned_ancestors()
        ):
            return True

FILE: pydantic_evals/pydantic_evals/otel/span_tree.py
SEARCH:
        if (no_ancestor_has := query.get('no_ancestor_has')) and any(
            ancestor._matches_query(no_ancestor_has) for ancestor in pruned_ancestors()
        ):
            return False
REPLACE:
        if (no_ancestor_has := query.get('no_ancestor_has')) and not any(
            ancestor._matches_query(no_ancestor_has) for ancestor in pruned_ancestors()
        ):
            return True
