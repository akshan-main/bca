FILE: httpx/_client.py
SEARCH:
    if not response.has_redirect_location:
        return response
REPLACE:
    if response.has_redirect_location:
        request = self._build_redirect_request(request, response)
        history = history + [response]

FILE: httpx/_client.py
SEARCH:
                if follow_redirects:
                    response.read()
                else:
                    response.next_request = request
                    return response
REPLACE:
                if not follow_redirects:
                    response.next_request = request
                    return response
