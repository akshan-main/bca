FILE: httpx/_client.py
SEARCH:
        if transport is not None:
            return transport
REPLACE:
        if transport is not None and isinstance(transport, BaseTransport):
            return transport

FILE: httpx/_transports/default.py
SEARCH:
        if proxy is None:
            self._pool = httpcore.ConnectionPool(
REPLACE:
        if proxy is None or not isinstance(proxy, Proxy):
            self._pool = httpcore.ConnectionPool(
