```
FILE: pydantic_ai_slim/pydantic_ai/_function_schema.py
SEARCH:
    return annotation is RunContext or get_origin(annotation) is RunContext
REPLACE:
    return annotation is RunContext or (get_origin(annotation) is RunContext if get_origin(annotation) is not None else False)
```