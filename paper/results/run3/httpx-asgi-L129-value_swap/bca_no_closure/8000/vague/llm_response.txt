```
FILE: httpx/_auth.py
SEARCH:
    def auth_flow(self, request: Request) -> typing.Generator[Request, Response, None]:
        yield self._func(request)

REPLACE:
    def auth_flow(self, request: Request) -> typing.Generator[Request, Response, None]:
        request = self._func(request)
        yield request

FILE: httpx/_auth.py
SEARCH:
    def auth_flow(self, request: Request) -> typing.Generator[Request, Response, None]:
        request.headers["Authorization"] = self._auth_header
        yield request

REPLACE:
    def auth_flow(self, request: Request) -> typing.Generator[Request, Response, None]:
        request = request.copy()
        request.headers["Authorization"] = self._auth_header
        yield request

FILE: httpx/_auth.py
SEARCH:
    def auth_flow(self, request: Request) -> typing.Generator[Request, Response, None]:
        auth_info = self._netrc_info.authenticators(request.url.host)
        if auth_info is None or not auth_info[2]:
            # The netrc file did not have authentication credentials for this host.
            yield request
        else:
            # Build a basic auth header with credentials from the netrc file.
            request.headers["Authorization"] = self._build_auth_header(
                username=auth_info[0], password=auth_info[2]
            )
            yield request

REPLACE:
    def auth_flow(self, request: Request) -> typing.Generator[Request, Response, None]:
        request = request.copy()
        auth_info = self._netrc_info.authenticators(request.url.host)
        if auth_info is None or not auth_info[2]:
            # The netrc file did not have authentication credentials for this host.
            yield request
        else:
            # Build a basic auth header with credentials from the netrc file.
            request.headers["Authorization"] = self._build_auth_header(
                username=auth_info[0], password=auth_info[2]
            )
            yield request
```