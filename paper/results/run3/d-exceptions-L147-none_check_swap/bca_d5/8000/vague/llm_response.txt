```
FILE: pydantic_ai_slim/pydantic_ai/models/__init__.py
SEARCH:
        if params.output_mode == 'tool' and not self.profile.supports_tools:
            raise UserError('Tool output is not supported by this model.')
REPLACE:
        if params.output_mode == 'tool' and not self.profile.supports_tools and params.output_tools:
            raise UserError('Tool output is not supported by this model.')
```
