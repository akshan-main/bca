```
FILE: pydantic_ai_slim/pydantic_ai/usage.py
SEARCH:
        details: dict[str, int] = dataclasses.field(default_factory=dict[str, int])
REPLACE:
        details: Annotated[
            dict[str, int],
            # `details` can not be `None` any longer, but we still want to support deserializing model responses stored in a DB before this was changed
            BeforeValidator(lambda d: d or {}),
        ] = dataclasses.field(default_factory=dict[str, int])
```