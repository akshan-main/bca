if required:
                    field_info = FieldInfo.from_annotation(annotation)
                else:
                    field_info = FieldInfo.from_annotated_attribute(annotation, p.default)
                if field_info.description is None:
                    field_info.description = field_descriptions.get(field_name)
    
                fields[field_name] = td_schema = gen_schema._generate_td_field_schema(  # pyright: ignore[reportPrivateUsage]
                    field_name,
                    field_info,
                    decorators,
                    required=required,
                )
                # noinspection PyTypeChecker
                td_schema.setdefault('metadata', {})['is_model_like'] = is_model_like(annotation)
    
                if p.kind == Parameter.POSITIONAL_ONLY:
                    positional_fields.append(field_name)
                elif p.kind == Parameter.VAR_POSITIONAL:
                    var_positional_field = field_name
    
        if missing_param_descriptions:
            errors.append(f'Missing parameter descriptions for {", ".join(missing_param_descriptions)}')
    
        if errors:
            from .exceptions import UserError
    
            error_details = '\n  '.join(errors)
>           raise UserError(f'Error generating schema for {function.__qualname__}:\n  {error_details}')
E           pydantic_ai.exceptions.UserError: Error generating schema for test_multi_agent_usage_no_incr.<locals>.delegate_to_other_agent1:
E             First parameter of tools that take context must be annotated with RunContext[...]

pydantic_ai_slim/pydantic_ai/_function_schema.py:184: UserError
=========================== short test summary info ============================
FAILED tests/test_usage_limits.py::test_multi_agent_usage_no_incr - pydantic_...
!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 1 failures !!!!!!!!!!!!!!!!!!!!!!!!!!!
========================= 1 failed, 7 passed in 0.46s ==========================

/Users/akshankrithick/anaconda3/envs/vvenv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:247: PytestDeprecationWarning: The configuration option "asyncio_default_fixture_loop_scope" is unset.
The event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: "function", "class", "module", "package", "session"

  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))