FILE: pydantic_ai_slim/pydantic_ai/_parts_manager.py
SEARCH:
        if existing_thinking_part_and_index is None:
            if content is not None or signature is not None or provider_details is not None:
REPLACE:
        if existing_thinking_part_and_index is None:
            if content is not None and signature is not None and provider_details is not None:

FILE: pydantic_ai_slim/pydantic_ai/_parts_manager.py
SEARCH:
            if content is not None or signature is not None or provider_details is not None:
REPLACE:
            if content is not None and signature is not None and provider_details is not None:
