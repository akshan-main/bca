FILE: pydantic_ai_slim/pydantic_ai/agent/abstract.py
SEARCH:
        return _utils.get_event_loop().run_until_complete(
REPLACE:
        return _utils.get_event_loop().run_until_complete(
            self.run(input_data, usage=usage_limits)

FILE: tests/test_usage_limits.py
SEARCH:
    with pytest.raises(UsageLimitExceeded, match=re.escape('Exceeded the input_tokens_limit of 5 (input_tokens=59)')):
REPLACE:
    with pytest.raises(UsageLimitExceeded, match=re.escape('Exceeded the input_tokens_limit of 5 (input_tokens=59)')):
        await test_agent.run('Hello, this prompt exceeds the request tokens limit.', usage_limits=UsageLimits(input_tokens_limit=5))
