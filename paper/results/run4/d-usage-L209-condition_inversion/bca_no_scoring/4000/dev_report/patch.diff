FILE: tests/test_usage_limits.py
SEARCH:
with pytest.raises(UsageLimitExceeded, match=re.escape('Exceeded the input_tokens_limit of 5 (input_tokens=59)')):
    test_agent.run_sync(
        'Hello, this prompt exceeds the request tokens limit.', usage_limits=UsageLimits(input_tokens_limit=5)
    )
REPLACE:
with pytest.raises(UsageLimitExceeded, match=re.escape('Exceeded the output_tokens_limit of 5 (output_tokens=59)')):
    test_agent.run_sync(
        'Hello, this prompt exceeds the output tokens limit.', usage_limits=UsageLimits(output_tokens_limit=5)
    )
