```
FILE: httpx/_api.py
SEARCH:
    return client.request(
        method=method,
        url=url,
        content=content,
        data=data,
        files=files,
        json=json,
        params=params,
        headers=headers,
        auth=auth,
        follow_redirects=follow_redirects,
    )
REPLACE:
    response = client.request(
        method=method,
        url=url,
        content=content,
        data=data,
        files=files,
        json=json,
        params=params,
        headers=headers,
        auth=auth,
        follow_redirects=follow_redirects,
    )
    if response.is_success:
        return response
    else:
        raise httpx.HTTPStatusError(f"Request failed with status {response.status_code}", response=response)
```