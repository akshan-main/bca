```
FILE: pydantic_ai_slim/pydantic_ai/exceptions.py
SEARCH:
            if not isinstance(tool_retry.content, str)
REPLACE:
            if isinstance(tool_retry.content, str)
```

```
FILE: pydantic_ai_slim/pydantic_ai/exceptions.py
SEARCH:
    @staticmethod
    def _format_error_details(errors: list[pydantic_core.ErrorDetails], tool_name: str | None) -> str:
REPLACE:
    @staticmethod
    def _format_error_details(errors: str | list[pydantic_core.ErrorDetails], tool_name: str | None) -> str:
```

```
FILE: pydantic_ai_slim/pydantic_ai/exceptions.py
SEARCH:
        error_count = len(errors)
REPLACE:
        error_count = len(errors) if isinstance(errors, list) else 1
```