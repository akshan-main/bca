```
FILE: pydantic_ai_slim/pydantic_ai/exceptions.py
SEARCH:
def _format_error_details(errors: list[pydantic_core.ErrorDetails], tool_name: str | None) -> str:
REPLACE:
def _format_error_details(errors: str | list[pydantic_core.ErrorDetails], tool_name: str | None) -> str:
```
```
FILE: pydantic_ai_slim/pydantic_ai/exceptions.py
SEARCH:
        error_count = len(errors)
REPLACE:
        error_count = len(errors) if isinstance(errors, list) else 1
```
```
FILE: pydantic_ai_slim/pydantic_ai/exceptions.py
SEARCH:
        for e in errors:
REPLACE:
        for e in (errors if isinstance(errors, list) else [errors]):
```