FILE: pydantic_ai_slim/pydantic_ai/exceptions.py
SEARCH:
    def _format_error_details(errors: list[pydantic_core.ErrorDetails], tool_name: str | None) -> str:
REPLACE:
    def _format_error_details(errors: str | list[pydantic_core.ErrorDetails], tool_name: str | None) -> str:

FILE: pydantic_ai_slim/pydantic_ai/exceptions.py
SEARCH:
        error_count = len(errors)
REPLACE:
        error_count = 1 if isinstance(errors, str) else len(errors)

FILE: pydantic_ai_slim/pydantic_ai/exceptions.py
SEARCH:
        for e in errors:
            loc = '.'.join(str(x) for x in e['loc']) if e['loc'] else '__root__'
            lines.append(loc)
            lines.append(f'  {e["msg"]} [type={e["type"]}, input_value={e["input"]!r}]')
REPLACE:
        if isinstance(errors, str):
            lines.append('__root__')
            lines.append(f'  {errors} [type=string, input_value=None]')
        else:
            for e in errors:
                loc = '.'.join(str(x) for x in e['loc']) if e['loc'] else '__root__'
                lines.append(loc)
                lines.append(f'  {e["msg"]} [type={e["type"]}, input_value={e["input"]!r}]')
