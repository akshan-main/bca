```
FILE: pydantic_ai_slim/pydantic_ai/providers/openrouter.py
SEARCH:
        # Convert oneOf to anyOf for discriminated unions
        if 'oneOf' in schema and 'type' not in schema:
            schema['anyOf'] = schema.pop('oneOf')
REPLACE:
        # Convert oneOf to anyOf for discriminated unions
        if 'oneOf' in schema and 'type' not in schema:
            schema['anyOf'] = schema.pop('oneOf')
        # Handle nullable types
        if 'anyOf' in schema and any('null' in (sub.get('type') for sub in schema['anyOf'])):
            schema['type'] = 'string'
            schema['nullable'] = True
```