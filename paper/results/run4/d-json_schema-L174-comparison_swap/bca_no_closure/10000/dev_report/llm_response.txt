```
FILE: pydantic_ai_slim/pydantic_ai/_json_schema.py
SEARCH:
        return schema
REPLACE:
        if self.simplify_nullable_unions and 'anyOf' in schema:
            members = schema.pop('anyOf')
            if len(members) == 2 and {'type': 'null'} in members:
                non_null_schema = next(
                    (item for item in members if item != {'type': 'null'}),
                    None,
                )
                if non_null_schema:
                    return {**non_null_schema, 'nullable': True}
        return schema
```