FILE: httpx/_multipart.py
SEARCH:
        if isinstance(self.file, (str, bytes)):
            return len(headers) + len(to_bytes(self.file))
REPLACE:
        if isinstance(self.file, (str, bytes)):
            return len(headers) + len(to_bytes(self.file))
        if hasattr(self.file, 'seek') and hasattr(self.file, 'read'):
            return len(headers) + peek_filelike_length(self.file)
