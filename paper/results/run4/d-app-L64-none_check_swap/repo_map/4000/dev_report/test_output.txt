from functools import cached_property
    from typing import (
        TYPE_CHECKING,
        Any,
        cast,
    )
    
    from ... import ExternalToolset, ToolDefinition
    from ...messages import (
        AudioUrl,
        BinaryContent,
        BuiltinToolCallPart,
        BuiltinToolReturnPart,
        DocumentUrl,
        ImageUrl,
        ModelMessage,
        SystemPromptPart,
        TextPart,
        ToolCallPart,
        ToolReturnPart,
        UserPromptPart,
        VideoUrl,
    )
    from ...output import OutputDataT
    from ...tools import AgentDepsT
    from ...toolsets import AbstractToolset
    
    try:
        from ag_ui.core import (
            ActivityMessage,
            AssistantMessage,
            BaseEvent,
            BinaryInputContent,
            DeveloperMessage,
            Message,
            RunAgentInput,
            SystemMessage,
            TextInputContent,
            Tool as AGUITool,
            ToolMessage,
            UserMessage,
        )
    
        from .. import MessagesBuilder, UIAdapter, UIEventStream
        from ._event_stream import BUILTIN_TOOL_CALL_ID_PREFIX, AGUIEventStream
    except ImportError as e:  # pragma: no cover
>       raise ImportError(
            'Please install the `ag-ui-protocol` package to use AG-UI integration, '
            'you can use the `ag-ui` optional group — `pip install "pydantic-ai-slim[ag-ui]"`'
        ) from e
E       ImportError: Please install the `ag-ui-protocol` package to use AG-UI integration, you can use the `ag-ui` optional group — `pip install "pydantic-ai-slim[ag-ui]"`

pydantic_ai_slim/pydantic_ai/ui/ag_ui/_adapter.py:53: ImportError
=========================== short test summary info ============================
FAILED tests/test_ui_web.py::test_agent_to_web - ImportError: Please install ...
!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 1 failures !!!!!!!!!!!!!!!!!!!!!!!!!!!
============================== 1 failed in 0.58s ===============================

/Users/akshankrithick/anaconda3/envs/vvenv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:247: PytestDeprecationWarning: The configuration option "asyncio_default_fixture_loop_scope" is unset.
The event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: "function", "class", "module", "package", "session"

  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))