==============
__________________ TestConcurrencyLimiter.test_from_int_limit __________________

self = <tests.test_concurrency.TestConcurrencyLimiter object at 0x10506fc10>

    async def test_from_int_limit(self):
        """Test creating from simple int."""
>       limiter = ConcurrencyLimiter.from_limit(ConcurrencyLimit(max_running=5))

tests/test_concurrency.py:178: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
pydantic_ai_slim/pydantic_ai/concurrency.py:131: in from_limit
    return cls(max_running=limit, name=name, tracer=tracer)
pydantic_ai_slim/pydantic_ai/concurrency.py:104: in __init__
    self._limiter = anyio.CapacityLimiter(max_running)
../../anaconda3/envs/vvenv/lib/python3.11/site-packages/anyio/_core/_synchronization.py:496: in __new__
    return get_async_backend().create_capacity_limiter(total_tokens)
../../anaconda3/envs/vvenv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:2402: in create_capacity_limiter
    return CapacityLimiter(total_tokens)
../../anaconda3/envs/vvenv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:1936: in __init__
    self.total_tokens = total_tokens
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <anyio._backends._asyncio.CapacityLimiter object at 0x105015350>
value = ConcurrencyLimit(max_running=5, max_queued=None)

    @total_tokens.setter
    def total_tokens(self, value: float) -> None:
>       if not isinstance(value, int) and not math.isinf(value):
E       TypeError: must be real number, not ConcurrencyLimit

../../anaconda3/envs/vvenv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:1955: TypeError
=========================== short test summary info ============================
FAILED tests/test_concurrency.py::TestConcurrencyLimiter::test_from_int_limit
!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 1 failures !!!!!!!!!!!!!!!!!!!!!!!!!!!
========================= 1 failed, 5 passed in 0.84s ==========================

/Users/akshankrithick/anaconda3/envs/vvenv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:247: PytestDeprecationWarning: The configuration option "asyncio_default_fixture_loop_scope" is unset.
The event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: "function", "class", "module", "package", "session"

  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))