POST-HOC ANALYSIS RESULTS

Run: paper/results/run4

Results: 9800


==========================================================================================
Cost Analysis: Token Usage & Cost per Solved Task
  Model: gpt-4o-mini-2024-07-18
  Pricing: $0.15/M input, $0.6/M output
==========================================================================================

  --- Mean Cost per Attempt (USD) [DEV_REPORT queries] ---
  Method                 B=   2000  B=   4000  B=   8000  B=  10000
  ----------------------------------------------------------------------
  bca                     $0.00038   $0.00066   $0.00119   $0.00146
  bca_d1                  $0.00038   $0.00065   $0.00117   $0.00144
  bca_d5                  $0.00038   $0.00067   $0.00120   $0.00147
  bca_no_closure          $0.00038   $0.00066   $0.00120   $0.00147
  bca_no_scoring          $0.00040   $0.00067   $0.00122   $0.00149
  bm25                    $0.00051   $0.00080   $0.00134   $0.00167
  no_retrieval            $0.00011   $0.00011   $0.00011   $0.00011
  repo_map                $0.00041   $0.00072   $0.00130   $0.00155
  vector                  $0.00045   $0.00072   $0.00126   $0.00154

  --- Cost per Solved Task (USD, passing only) [DEV_REPORT queries] ---
  Method                 B=   2000  B=   4000  B=   8000  B=  10000    Solves
  --------------------------------------------------------------------------------
  bca                     $0.00038   $0.00064   $0.00118   $0.00145     161
  bca_d1                  $0.00037   $0.00063   $0.00114   $0.00142     169
  bca_d5                  $0.00038   $0.00063   $0.00119   $0.00145     148
  bca_no_closure          $0.00038   $0.00064   $0.00118   $0.00144     172
  bca_no_scoring          $0.00039   $0.00066   $0.00122   $0.00144     109
  bm25                    $0.00045   $0.00074   $0.00130   $0.00155     186
  no_retrieval            $0.00010   $0.00010   $0.00010   $0.00010      24
  repo_map                $0.00041   $0.00072   $0.00128   $0.00156     189
  vector                  $0.00043   $0.00069   $0.00125   $0.00151     226

  --- Total Benchmark Cost [DEV_REPORT queries] ---
  Total: $7.66 across 8820 attempts
    bca                 : $0.91 (980 attempts)
    bca_d1              : $0.89 (980 attempts)
    bca_d5              : $0.91 (980 attempts)
    bca_no_closure      : $0.91 (980 attempts)
    bca_no_scoring      : $0.93 (980 attempts)
    bm25                : $1.06 (980 attempts)
    no_retrieval        : $0.11 (980 attempts)
    repo_map            : $0.98 (980 attempts)
    vector              : $0.97 (980 attempts)


==========================================================================================
Post-Hoc Logistic Regression Router
==========================================================================================

  [DEV_REPORT queries]
    B=2000: n=86 solvable tasks
      Best single: vector (60.5%)
      Router LOO:  65.1%
      Oracle:      100.0%
      Gap closed:  11.8%
      Top features (by max |coef| across classes):
        retrieval_softmax_entropy           |coef|=0.887
        retrieval_top1_score                |coef|=0.849
        entity_count_mapped                 |coef|=0.793
        graph_node_count_log                |coef|=0.713
        retrieval_effective_candidates      |coef|=0.528
    B=4000: n=96 solvable tasks
      Best single: vector (58.3%)
      Router LOO:  57.3%
      Oracle:      100.0%
      Gap closed:  -2.5%
      Top features (by max |coef| across classes):
        query_identifier_density            |coef|=1.145
        retrieval_top1_score                |coef|=0.892
        retrieval_budget_utilization        |coef|=0.771
        graph_node_count_log                |coef|=0.730
        retrieval_effective_candidates      |coef|=0.404
    B=8000: n=106 solvable tasks
      Best single: vector (57.5%)
      Router LOO:  60.4%
      Oracle:      100.0%
      Gap closed:  6.7%
      Top features (by max |coef| across classes):
        retrieval_top1_score                |coef|=1.019
        entity_count_mapped                 |coef|=0.830
        graph_node_count_log                |coef|=0.752
        retrieval_budget_utilization        |coef|=0.699
        query_identifier_density            |coef|=0.516
    B=10000: n=102 solvable tasks
      Best single: bca_d1 (58.8%)
      Router LOO:  53.9%
      Oracle:      100.0%
      Gap closed:  -11.9%
      Top features (by max |coef| across classes):
        retrieval_budget_utilization        |coef|=0.849
        query_identifier_density            |coef|=0.812
        entity_count_mapped                 |coef|=0.728
        graph_node_count_log                |coef|=0.674
        retrieval_softmax_entropy           |coef|=0.478


==========================================================================================
Retrieval-Outcome Decoupling Analysis
  (Does finding the right file/symbol guarantee a correct fix?)
==========================================================================================

  [DEV_REPORT queries]

  --- File Hit → Pass Conversion Rate ---
  (Of attempts that found the target file, what % actually passed?)
  Method                 B=   2000  B=   4000  B=   8000  B=  10000
  ----------------------------------------------------------------------
  bca                          12%        15%        19%        24%
  bca_d1                       13%        13%        21%        25%
  bca_d5                       11%        13%        19%        21%
  bca_no_closure               12%        16%        21%        25%
  bca_no_scoring               10%        10%        12%        14%
  bm25                         20%        22%        24%        22%
  no_retrieval                 ---        ---        ---        ---
  repo_map                     21%        21%        19%        19%
  vector                       22%        24%        25%        23%

  --- Symbol Hit → Pass Conversion Rate ---
  (Of attempts that found the target symbol, what % actually passed?)
  Method                 B=   2000  B=   4000  B=   8000  B=  10000
  ----------------------------------------------------------------------
  bca                          14%        17%        20%        24%
  bca_d1                       15%        15%        22%        25%
  bca_d5                       13%        15%        20%        21%
  bca_no_closure               14%        18%        22%        26%
  bca_no_scoring               12%        13%        14%        14%
  bm25                         22%        24%        26%        23%
  no_retrieval                 ---        ---        ---        ---
  repo_map                     26%        27%        22%        22%
  vector                       27%        28%        29%        26%

  --- Passes WITHOUT Target File in Context ---
  (LLM solved without seeing the right file — memorization/hallucination)
  Method                 B=   2000  B=   4000  B=   8000  B=  10000
  ----------------------------------------------------------------------
  bca                         0/26       0/34       0/44       0/57
  bca_d1                      0/28       1/31       0/50       0/60
  bca_d5                      0/24       0/29       0/45       0/50
  bca_no_closure              0/27       0/36       0/49       1/60
  bca_no_scoring              0/23       1/24       0/29       0/33
  bm25                        1/40       1/46       1/52       1/48
  no_retrieval                 6/6        6/6        6/6        6/6
  repo_map                    0/46       0/51       0/46       0/46
  vector                      0/52       0/56       0/61       0/57


==========================================================================================
Context Efficiency Analysis
  (How efficiently does each method use its token budget?)
==========================================================================================

  --- Symbols per 1000 Tokens [DEV_REPORT queries] ---
  Method                 B=   2000  B=   4000  B=   8000  B=  10000
  ----------------------------------------------------------------------
  bca                          7.1        6.9        7.2        7.2
  bca_d1                       6.5        5.7        5.3        5.3
  bca_d5                       7.3        7.6        8.0        8.1
  bca_no_closure               7.3        7.5        7.9        8.1
  bca_no_scoring               9.0        8.2        8.3        8.2
  bm25                        13.4       11.8        9.5        9.2
  no_retrieval                 0.0        0.0        0.0        0.0
  repo_map                     2.8        2.2        1.4        1.2
  vector                      18.1       12.0        8.4        7.9

  --- Files per 1000 Tokens [DEV_REPORT queries] ---
  Method                 B=   2000  B=   4000  B=   8000  B=  10000
  ----------------------------------------------------------------------
  bca                          2.5        2.0        1.9        1.8
  bca_d1                       2.3        1.5        1.2        1.2
  bca_d5                       2.6        2.3        2.2        2.1
  bca_no_closure               2.5        2.0        2.1        2.1
  bca_no_scoring               2.6        2.2        2.1        2.0
  bm25                         8.5        6.7        4.6        4.2
  no_retrieval                 0.0        0.0        0.0        0.0
  repo_map                     2.0        1.3        0.8        0.7
  vector                      11.1        6.8        4.7        4.2

  --- Tokens per Symbol (context granularity) [DEV_REPORT queries] ---
  Method                 B=   2000  B=   4000  B=   8000  B=  10000
  ----------------------------------------------------------------------
  bca                        205.0      214.2      186.4      181.0
  bca_d1                     206.9      223.9      225.5      215.8
  bca_d5                     199.2      212.5      182.1      175.2
  bca_no_closure             204.2      212.2      181.9      174.4
  bca_no_scoring             146.8      164.6      142.7      144.4
  bm25                       116.4      128.1      145.1      141.4
  no_retrieval                 ---        ---        ---        ---
  repo_map                   409.2      558.8      899.9      952.1
  vector                      89.4      116.7      157.2      163.8

  --- Retrieval Confidence (lower entropy = more confident) [DEV_REPORT] ---
  Method                 B=   2000  B=   4000  B=   8000  B=  10000
  ----------------------------------------------------------------------
  bca                         3.38       3.98       4.30       4.31
  bca_d1                      3.37       3.99       4.29       4.31
  bca_d5                      3.40       3.98       4.30       4.31
  bca_no_closure              3.39       3.99       4.30       4.31
  bca_no_scoring              3.77       4.16       4.31       4.31
  bm25                        4.28       4.28       4.28       4.28
  no_retrieval                0.00       0.00       0.00       0.00
  repo_map                    0.00       0.00       0.00       0.00
  vector                      4.18       4.18       4.18       4.18


==========================================================================================
Seed-to-Mutation Distance Analysis (k-hop)
  (How far is the mutation from the closest seed symbol?)
==========================================================================================

  --- min_hops Distribution [DEV_REPORT queries] ---
  (BCA methods only; -1 = no path found)
    bca:
      0 (exact)           :  540 ( 55.1%)
      1-2 (near)          :  356 ( 36.3%)
      3-5 (mid)           :   84 (  8.6%)
      6+ (far)            :    0 (  0.0%)
      unreachable         :    0 (  0.0%)
    bca_d1:
      0 (exact)           :  540 ( 55.1%)
      1-2 (near)          :  356 ( 36.3%)
      3-5 (mid)           :   84 (  8.6%)
      6+ (far)            :    0 (  0.0%)
      unreachable         :    0 (  0.0%)
    bca_d5:
      0 (exact)           :  540 ( 55.1%)
      1-2 (near)          :  356 ( 36.3%)
      3-5 (mid)           :   84 (  8.6%)
      6+ (far)            :    0 (  0.0%)
      unreachable         :    0 (  0.0%)
    bca_no_closure:
      0 (exact)           :  540 ( 55.1%)
      1-2 (near)          :  356 ( 36.3%)
      3-5 (mid)           :   84 (  8.6%)
      6+ (far)            :    0 (  0.0%)
      unreachable         :    0 (  0.0%)
    bca_no_scoring:
      0 (exact)           :  540 ( 55.1%)
      1-2 (near)          :  356 ( 36.3%)
      3-5 (mid)           :   84 (  8.6%)
      6+ (far)            :    0 (  0.0%)
      unreachable         :    0 (  0.0%)

  --- Pass@1 by min_hops (BCA-SMART, d=3) [DEV_REPORT queries] ---
  Hop Bucket             B=   2000  B=   4000  B=   8000  B=  10000       N
  ------------------------------------------------------------------------------
  0 (exact)                   0.15       0.19       0.27       0.35     135
  1-2 (near)                  0.06       0.04       0.04       0.07      89
  3-5 (mid)                   0.05       0.19       0.14       0.19      21
  6+ (far)                     ---        ---        ---        ---       0
  unreachable                  ---        ---        ---        ---       0

  --- Closure Budget Consumption [DEV_REPORT queries] ---
  Method                  Mean Syms  Mean Toks   % Budget   Frontier
  -----------------------------------------------------------------
  bca                           0.3       10.3       0.2%       2135
  bca_d1                        0.8      134.5       1.7%        527
  bca_d5                        0.3        8.0       0.1%       3118
  bca_no_closure                0.0        0.0       0.0%       2135
  bca_no_scoring                0.3        9.1       0.1%       2135


==========================================================================================
Method Uniqueness: Sole-Solver Analysis
  (Tasks solvable by exactly one method — the router's value proposition)
==========================================================================================

  [DEV_REPORT, B=2000]  Solvable: 86/245  Multi-solver: 61  Sole-solver: 25
    bca                   : 2 unique solves
    bm25                  : 6 unique solves
    no_retrieval          : 1 unique solves
    repo_map              : 6 unique solves
    vector                : 10 unique solves

  [DEV_REPORT, B=4000]  Solvable: 96/245  Multi-solver: 70  Sole-solver: 26
    bca                   : 1 unique solves
    bca_d1                : 1 unique solves
    bca_d5                : 1 unique solves
    bca_no_closure        : 1 unique solves
    bca_no_scoring        : 1 unique solves
    bm25                  : 9 unique solves
    repo_map              : 6 unique solves
    vector                : 6 unique solves

  [DEV_REPORT, B=8000]  Solvable: 106/245  Multi-solver: 77  Sole-solver: 29
    bca                   : 1 unique solves
    bca_d1                : 2 unique solves
    bca_no_closure        : 1 unique solves
    bca_no_scoring        : 3 unique solves
    bm25                  : 6 unique solves
    repo_map              : 9 unique solves
    vector                : 7 unique solves

  [DEV_REPORT, B=10000]  Solvable: 102/245  Multi-solver: 81  Sole-solver: 21
    bca_d1                : 2 unique solves
    bca_no_closure        : 2 unique solves
    bca_no_scoring        : 1 unique solves
    bm25                  : 5 unique solves
    repo_map              : 4 unique solves
    vector                : 7 unique solves


==========================================================================================
Per-Repository Method Rankings
  (Does the best method differ between repos?)
==========================================================================================

  [DEV_REPORT queries]

  B=2000:
    Method                          httpx    pydantic-ai     Overall
    ----------------------------------------------------------------
    bca                              0.12           0.09        0.11
    bca_d1                           0.12           0.11        0.11
    bca_d5                           0.10           0.09        0.10
    bca_no_closure                   0.12           0.10        0.11
    bca_no_scoring                   0.11           0.08        0.09
    bm25                             0.15           0.18        0.16
    no_retrieval                     0.03           0.02        0.02
    repo_map                         0.16           0.21        0.19
    vector                           0.27           0.16        0.21

  B=4000:
    Method                          httpx    pydantic-ai     Overall
    ----------------------------------------------------------------
    bca                              0.16           0.12        0.14
    bca_d1                           0.13           0.12        0.13
    bca_d5                           0.11           0.12        0.12
    bca_no_closure                   0.17           0.12        0.15
    bca_no_scoring                   0.11           0.09        0.10
    bm25                             0.19           0.19        0.19
    no_retrieval                     0.03           0.02        0.02
    repo_map                         0.20           0.22        0.21
    vector                           0.28           0.18        0.23

  B=8000:
    Method                          httpx    pydantic-ai     Overall
    ----------------------------------------------------------------
    bca                              0.18           0.18        0.18
    bca_d1                           0.21           0.20        0.20
    bca_d5                           0.18           0.19        0.18
    bca_no_closure                   0.22           0.18        0.20
    bca_no_scoring                   0.13           0.11        0.12
    bm25                             0.21           0.22        0.21
    no_retrieval                     0.03           0.02        0.02
    repo_map                         0.20           0.18        0.19
    vector                           0.30           0.20        0.25

  B=10000:
    Method                          httpx    pydantic-ai     Overall
    ----------------------------------------------------------------
    bca                              0.21           0.25        0.23
    bca_d1                           0.21           0.27        0.24
    bca_d5                           0.16           0.24        0.20
    bca_no_closure                   0.22           0.27        0.24
    bca_no_scoring                   0.13           0.14        0.13
    bm25                             0.19           0.20        0.20
    no_retrieval                     0.03           0.02        0.02
    repo_map                         0.17           0.20        0.19
    vector                           0.27           0.20        0.23