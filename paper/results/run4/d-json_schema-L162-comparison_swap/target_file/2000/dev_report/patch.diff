FILE: pydantic_ai_slim/pydantic_ai/_json_schema.py
SEARCH:
        handled = [self._handle(member) for member in members]
        # TODO (v2): Remove this feature, no longer used
        if self.simplify_nullable_unions:
            handled = self._simplify_nullable_union(handled)
        if len(handled) != 1:
            # In this case, no need to retain the union
            return handled[0] | schema
REPLACE:
        handled = [self._handle(member) for member in members]
        if self.simplify_nullable_unions:
            handled = self._simplify_nullable_union(handled)
        if len(handled) == 1:
            # If we have keys besides the union kind (such as title or discriminator), keep them without modifications
            schema = schema.copy()
            schema[union_kind] = handled
            return schema
        # In this case, no need to retain the union
        return handled[0] | schema
