{
  "task_id": "d-parts_manager-L246-none_check_swap",
  "method": "vector",
  "budget": 10000,
  "query_type": "dev_report",
  "tokens_used": 10000,
  "symbols_selected": 44,
  "files_included": 22,
  "assembly_time_ms": 183.3,
  "llm_time_ms": 10593.6,
  "llm_input_tokens": 11531,
  "llm_output_tokens": 71,
  "tests_passed": false,
  "test_output": "search text not found in pydantic_ai_slim/pydantic_ai/_parts_manager.py",
  "patch": "FILE: pydantic_ai_slim/pydantic_ai/_parts_manager.py\nSEARCH:\n                existing_thinking_part_and_index = self._latest_part_if_of_type(ThinkingPart)\nREPLACE:\n                existing_thinking_part_and_index = self._latest_part_if_of_type(ThinkingPart) or (None, -1)\n",
  "error": "",
  "test_time_ms": 2.3,
  "failure_mode": "patch_apply_fail",
  "target_file_hit": true,
  "target_symbol_hit": true,
  "context_patch_overlap": 0.045,
  "patch_files_changed": 1,
  "patch_lines_changed": 1,
  "edit_distance_lines": 25,
  "entity_count_extracted": 20,
  "entity_count_mapped": 77,
  "query_identifier_density": 0.1263,
  "seed_symbol_keys": [
    "pydantic_ai_slim/pydantic_ai/models/__init__.py::ModelResponsePartsManager",
    "tests/test_parts_manager.py::ModelResponsePartsManager",
    "pydantic_ai_slim/pydantic_ai/_parts_manager.py::ModelResponsePartsManager",
    "tests/test_direct.py::PartStartEvent",
    "pydantic_ai_slim/pydantic_ai/models/__init__.py::PartStartEvent",
    "pydantic_ai_slim/pydantic_ai/ui/_event_stream.py::PartStartEvent",
    "pydantic_ai_slim/pydantic_ai/messages.py::PartStartEvent",
    "tests/models/test_anthropic.py::PartStartEvent",
    "tests/test_ag_ui.py::PartStartEvent",
    "tests/models/test_google.py::PartStartEvent",
    "tests/test_ui.py::PartStartEvent",
    "tests/test_vercel_ai.py::PartStartEvent",
    "tests/models/test_bedrock.py::PartStartEvent",
    "tests/models/test_xai.py::PartStartEvent",
    "tests/models/test_openrouter.py::PartStartEvent",
    "tests/test_temporal.py::PartStartEvent",
    "tests/test_parts_manager.py::PartStartEvent",
    "tests/models/test_instrumented.py::PartStartEvent",
    "pydantic_ai_slim/pydantic_ai/models/openai.py::PartStartEvent",
    "tests/test_streaming.py::PartStartEvent",
    "pydantic_ai_slim/pydantic_ai/__init__.py::PartStartEvent",
    "pydantic_ai_slim/pydantic_ai/_parts_manager.py::PartStartEvent",
    "tests/models/test_groq.py::PartStartEvent",
    "tests/test_parts_manager.py::test_handle_thinking_delta_no_vendor_id_with_existing_thinking_part",
    "pydantic_ai_slim/pydantic_ai/ui/vercel_ai/_event_stream.py::VercelAIEventStream.handle_thinking_delta",
    "pydantic_ai_slim/pydantic_ai/ui/ag_ui/_event_stream.py::AGUIEventStream.handle_thinking_delta",
    "pydantic_ai_slim/pydantic_ai/_parts_manager.py::ModelResponsePartsManager.handle_thinking_delta",
    "pydantic_ai_slim/pydantic_ai/ui/_event_stream.py::UIEventStream.handle_thinking_delta",
    "tests/test_ui.py::DummyUIEventStream.handle_thinking_delta",
    "pydantic_ai_slim/pydantic_ai/models/gemini.py::_function_call_part_from_call",
    "tests/test_parts_manager.py::_annotations",
    "tests/test_parts_manager.py::re",
    "tests/test_parts_manager.py::Any",
    "tests/test_parts_manager.py::pytest",
    "tests/test_parts_manager.py::snapshot",
    "tests/test_parts_manager.py::BuiltinToolCallPart",
    "tests/test_parts_manager.py::PartDeltaEvent",
    "tests/test_parts_manager.py::TextPart",
    "tests/test_parts_manager.py::TextPartDelta",
    "tests/test_parts_manager.py::ThinkingPart",
    "tests/test_parts_manager.py::ThinkingPartDelta",
    "tests/test_parts_manager.py::ToolCallPart",
    "tests/test_parts_manager.py::ToolCallPartDelta",
    "tests/test_parts_manager.py::UnexpectedModelBehavior",
    "tests/test_parts_manager.py::IsStr",
    "tests/test_parts_manager.py::test_handle_text_deltas",
    "tests/test_parts_manager.py::test_handle_dovetailed_text_deltas",
    "tests/test_parts_manager.py::test_handle_text_deltas_with_think_tags",
    "tests/test_parts_manager.py::test_handle_tool_call_deltas",
    "tests/test_parts_manager.py::test_handle_tool_call_deltas_without_args",
    "tests/test_parts_manager.py::test_handle_tool_call_deltas_without_vendor_id",
    "tests/test_parts_manager.py::test_handle_tool_call_part",
    "tests/test_parts_manager.py::test_handle_mixed_deltas_without_text_part_id",
    "tests/test_parts_manager.py::test_cannot_convert_from_text_to_tool_call",
    "tests/test_parts_manager.py::test_cannot_convert_from_tool_call_to_text",
    "tests/test_parts_manager.py::test_tool_call_id_delta",
    "tests/test_parts_manager.py::test_tool_call_id_delta_failure",
    "tests/test_parts_manager.py::test_apply_tool_delta_variants",
    "tests/test_parts_manager.py::test_handle_thinking_delta_wrong_part_type",
    "tests/test_parts_manager.py::test_handle_thinking_delta_new_part_with_vendor_id",
    "tests/test_parts_manager.py::test_handle_thinking_delta_no_content",
    "tests/test_parts_manager.py::test_handle_thinking_delta_no_content_or_signature",
    "tests/test_parts_manager.py::test_handle_thinking_delta_provider_details_callback",
    "tests/test_parts_manager.py::test_handle_thinking_delta_provider_details_callback_from_none",
    "tests/test_parts_manager.py::test_handle_part",
    "tests/test_parts_manager.py::test_get_part_by_vendor_id",
    "pydantic_ai_slim/pydantic_ai/messages.py::PartDeltaEvent.index",
    "pydantic_ai_slim/pydantic_ai/messages.py::PartEndEvent.index",
    "pydantic_ai_slim/pydantic_ai/messages.py::PartStartEvent.index",
    "tests/models/test_groq.py::MyTypedDict.first",
    "pydantic_evals/pydantic_evals/otel/span_tree.py::SpanTree.first",
    "tests/models/test_openai.py::MyTypedDict.first",
    "tests/models/test_huggingface.py::MyTypedDict.first",
    "tests/models/test_xai.py::MyTypedDict.first",
    "pydantic_ai_slim/pydantic_ai/_output.py::ObjectOutputProcessor.call",
    "pydantic_graph/pydantic_graph/beta/step.py::Step.call",
    "pydantic_ai_slim/pydantic_ai/_function_schema.py::FunctionSchema.call"
  ],
  "mutation_symbol_key": "pydantic_ai_slim/pydantic_ai/_parts_manager.py::ModelResponsePartsManager.handle_thinking_delta",
  "min_hops_seed_to_mutation": 0,
  "median_hops_seed_to_mutation": 3.0,
  "bca_closure_added_symbols": 0,
  "bca_closure_added_tokens": 0,
  "bca_frontier_visited": 0,
  "context_symbol_keys": [
    "pydantic_ai_slim/pydantic_ai/_function_schema.py::function_schema",
    "pydantic_ai_slim/pydantic_ai/_parts_manager.py::VendorId",
    "pydantic_ai_slim/pydantic_ai/_parts_manager.py::ManagedPart",
    "pydantic_ai_slim/pydantic_ai/_parts_manager.py::ModelResponsePartsManager",
    "pydantic_ai_slim/pydantic_ai/_parts_manager.py::ModelResponsePartsManager.handle_text_delta",
    "pydantic_ai_slim/pydantic_ai/_parts_manager.py::ModelResponsePartsManager.handle_thinking_delta",
    "pydantic_ai_slim/pydantic_ai/_parts_manager.py::ModelResponsePartsManager.handle_tool_call_delta",
    "pydantic_ai_slim/pydantic_ai/_parts_manager.py::ModelResponsePartsManager.handle_tool_call_part",
    "pydantic_ai_slim/pydantic_ai/_parts_manager.py::ModelResponsePartsManager.handle_part",
    "pydantic_ai_slim/pydantic_ai/_parts_manager.py::ModelResponsePartsManager._stop_tracking_vendor_id",
    "pydantic_ai_slim/pydantic_ai/_parts_manager.py::ModelResponsePartsManager._append_part",
    "pydantic_ai_slim/pydantic_ai/_parts_manager.py::ModelResponsePartsManager._handle_embedded_thinking_end",
    "pydantic_ai_slim/pydantic_ai/_thinking_part.py::split_content_into_text_and_thinking",
    "pydantic_ai_slim/pydantic_ai/direct.py::model_request",
    "pydantic_ai_slim/pydantic_ai/direct.py::model_request_stream",
    "pydantic_ai_slim/pydantic_ai/direct.py::model_request_stream_sync",
    "pydantic_ai_slim/pydantic_ai/direct.py::_prepare_model",
    "pydantic_ai_slim/pydantic_ai/direct.py::StreamedResponseSync",
    "pydantic_ai_slim/pydantic_ai/durable_exec/temporal/_agent.py::TemporalAgent.model",
    "pydantic_ai_slim/pydantic_ai/messages.py::ProviderDetailsDelta",
    "pydantic_ai_slim/pydantic_ai/messages.py::SystemPromptPart.content",
    "pydantic_ai_slim/pydantic_ai/messages.py::ToolReturn",
    "pydantic_ai_slim/pydantic_ai/messages.py::ToolReturn.content",
    "pydantic_ai_slim/pydantic_ai/messages.py::UserPromptPart.content",
    "pydantic_ai_slim/pydantic_ai/messages.py::BaseToolReturnPart.content",
    "pydantic_ai_slim/pydantic_ai/messages.py::ToolReturnPart",
    "pydantic_ai_slim/pydantic_ai/messages.py::BuiltinToolReturnPart",
    "pydantic_ai_slim/pydantic_ai/messages.py::RetryPromptPart.content",
    "pydantic_ai_slim/pydantic_ai/messages.py::ModelRequestPart",
    "pydantic_ai_slim/pydantic_ai/messages.py::ModelRequest",
    "pydantic_ai_slim/pydantic_ai/messages.py::ModelRequest.user_text_prompt",
    "pydantic_ai_slim/pydantic_ai/messages.py::TextPart",
    "pydantic_ai_slim/pydantic_ai/messages.py::TextPart.content",
    "pydantic_ai_slim/pydantic_ai/messages.py::ThinkingPart",
    "pydantic_ai_slim/pydantic_ai/messages.py::ThinkingPart.content",
    "pydantic_ai_slim/pydantic_ai/messages.py::FilePart.content",
    "pydantic_ai_slim/pydantic_ai/messages.py::ToolCallPart",
    "pydantic_ai_slim/pydantic_ai/messages.py::BuiltinToolCallPart",
    "pydantic_ai_slim/pydantic_ai/messages.py::ModelResponsePart",
    "pydantic_ai_slim/pydantic_ai/messages.py::ModelResponse",
    "pydantic_ai_slim/pydantic_ai/messages.py::ModelResponse.thinking",
    "pydantic_ai_slim/pydantic_ai/messages.py::ModelMessage",
    "pydantic_ai_slim/pydantic_ai/messages.py::TextPartDelta",
    "pydantic_ai_slim/pydantic_ai/messages.py::TextPartDelta.apply",
    "pydantic_ai_slim/pydantic_ai/messages.py::ThinkingPartDelta",
    "pydantic_ai_slim/pydantic_ai/messages.py::ThinkingPartDelta.apply",
    "pydantic_ai_slim/pydantic_ai/messages.py::ToolCallPartDelta",
    "pydantic_ai_slim/pydantic_ai/messages.py::ToolCallPartDelta.apply",
    "pydantic_ai_slim/pydantic_ai/messages.py::ModelResponsePartDelta",
    "pydantic_ai_slim/pydantic_ai/messages.py::PartStartEvent",
    "pydantic_ai_slim/pydantic_ai/messages.py::PartDeltaEvent",
    "pydantic_ai_slim/pydantic_ai/messages.py::PartEndEvent",
    "pydantic_ai_slim/pydantic_ai/messages.py::FinalResultEvent",
    "pydantic_ai_slim/pydantic_ai/messages.py::ModelResponseStreamEvent",
    "pydantic_ai_slim/pydantic_ai/messages.py::FunctionToolCallEvent",
    "pydantic_ai_slim/pydantic_ai/messages.py::FunctionToolResultEvent",
    "pydantic_ai_slim/pydantic_ai/messages.py::FunctionToolResultEvent.content",
    "pydantic_ai_slim/pydantic_ai/messages.py::AgentStreamEvent",
    "pydantic_ai_slim/pydantic_ai/models/function.py::DeltaThinkingPart.content",
    "pydantic_ai_slim/pydantic_ai/models/xai.py::_get_builtin_tool_name",
    "pydantic_ai_slim/pydantic_ai/models/xai.py::_parse_tool_args",
    "pydantic_ai_slim/pydantic_ai/models/xai.py::_build_mcp_tool_call_args",
    "pydantic_ai_slim/pydantic_ai/models/xai.py::_create_tool_call_part",
    "pydantic_ai_slim/pydantic_ai/toolsets/function.py::FunctionToolset.add_function",
    "pydantic_ai_slim/pydantic_ai/ui/_event_stream.py::SSE_CONTENT_TYPE",
    "pydantic_ai_slim/pydantic_ai/ui/_event_stream.py::EventT",
    "pydantic_ai_slim/pydantic_ai/ui/_event_stream.py::UIEventStream",
    "pydantic_ai_slim/pydantic_ai/ui/_event_stream.py::UIEventStream.content_type",
    "pydantic_ai_slim/pydantic_ai/ui/_event_stream.py::UIEventStream.encode_event",
    "pydantic_ai_slim/pydantic_ai/ui/_event_stream.py::UIEventStream.handle_text_start",
    "pydantic_ai_slim/pydantic_ai/ui/_event_stream.py::UIEventStream.handle_text_delta",
    "pydantic_ai_slim/pydantic_ai/ui/_event_stream.py::UIEventStream.handle_text_end",
    "pydantic_ai_slim/pydantic_ai/ui/_event_stream.py::UIEventStream.handle_thinking_start",
    "pydantic_ai_slim/pydantic_ai/ui/_event_stream.py::UIEventStream.handle_thinking_delta",
    "pydantic_ai_slim/pydantic_ai/ui/_event_stream.py::UIEventStream.handle_thinking_end",
    "pydantic_ai_slim/pydantic_ai/ui/_event_stream.py::UIEventStream.handle_tool_call_delta",
    "pydantic_ai_slim/pydantic_ai/ui/_event_stream.py::UIEventStream.handle_final_result",
    "pydantic_ai_slim/pydantic_ai/ui/_event_stream.py::UIEventStream.handle_function_tool_call",
    "pydantic_ai_slim/pydantic_ai/ui/_event_stream.py::UIEventStream.handle_function_tool_result",
    "pydantic_ai_slim/pydantic_ai/ui/_event_stream.py::UIEventStream.handle_run_result",
    "pydantic_ai_slim/pydantic_ai/ui/ag_ui/_event_stream.py::AGUIEventStream.content_type",
    "pydantic_ai_slim/pydantic_ai/ui/ag_ui/_event_stream.py::AGUIEventStream.handle_text_start",
    "pydantic_ai_slim/pydantic_ai/ui/ag_ui/_event_stream.py::AGUIEventStream.handle_text_delta",
    "pydantic_ai_slim/pydantic_ai/ui/ag_ui/_event_stream.py::AGUIEventStream.handle_text_end",
    "pydantic_ai_slim/pydantic_ai/ui/ag_ui/_event_stream.py::AGUIEventStream.handle_thinking_start",
    "pydantic_ai_slim/pydantic_ai/ui/ag_ui/_event_stream.py::AGUIEventStream.handle_thinking_delta",
    "pydantic_ai_slim/pydantic_ai/ui/ag_ui/_event_stream.py::AGUIEventStream.handle_thinking_end",
    "pydantic_ai_slim/pydantic_ai/ui/ag_ui/_event_stream.py::AGUIEventStream.handle_tool_call_delta",
    "pydantic_ai_slim/pydantic_ai/ui/ag_ui/_event_stream.py::AGUIEventStream.handle_function_tool_result",
    "pydantic_ai_slim/pydantic_ai/ui/vercel_ai/_event_stream.py::VercelAIEventStream.handle_run_result",
    "pydantic_ai_slim/pydantic_ai/ui/vercel_ai/_event_stream.py::VercelAIEventStream.handle_text_start",
    "pydantic_ai_slim/pydantic_ai/ui/vercel_ai/_event_stream.py::VercelAIEventStream.handle_text_delta",
    "pydantic_ai_slim/pydantic_ai/ui/vercel_ai/_event_stream.py::VercelAIEventStream.handle_text_end",
    "pydantic_ai_slim/pydantic_ai/ui/vercel_ai/_event_stream.py::VercelAIEventStream.handle_thinking_start",
    "pydantic_ai_slim/pydantic_ai/ui/vercel_ai/_event_stream.py::VercelAIEventStream.handle_thinking_delta",
    "pydantic_ai_slim/pydantic_ai/ui/vercel_ai/_event_stream.py::VercelAIEventStream.handle_thinking_end",
    "pydantic_ai_slim/pydantic_ai/ui/vercel_ai/_event_stream.py::VercelAIEventStream.handle_tool_call_delta",
    "pydantic_ai_slim/pydantic_ai/ui/vercel_ai/_event_stream.py::VercelAIEventStream.handle_function_tool_result",
    "tests/models/test_anthropic.py::test_anthropic_tool_with_thinking",
    "tests/models/test_bedrock.py::test_bedrock_anthropic_tool_with_thinking",
    "tests/models/test_groq.py::chunk",
    "tests/test_parts_manager.py::test_handle_thinking_delta_no_vendor_id_with_existing_thinking_part",
    "tests/test_ui.py::DummyUIEventStream.handle_text_start",
    "tests/test_ui.py::DummyUIEventStream.handle_text_delta",
    "tests/test_ui.py::DummyUIEventStream.handle_text_end",
    "tests/test_ui.py::DummyUIEventStream.handle_thinking_start",
    "tests/test_ui.py::DummyUIEventStream.handle_thinking_delta",
    "tests/test_ui.py::DummyUIEventStream.handle_thinking_end",
    "tests/test_ui.py::DummyUIEventStream.handle_tool_call_delta",
    "tests/test_ui.py::DummyUIEventStream.handle_final_result",
    "tests/test_ui.py::DummyUIEventStream.handle_function_tool_call",
    "tests/test_ui.py::DummyUIEventStream.handle_function_tool_result",
    "tests/test_ui.py::DummyUIEventStream.handle_run_result"
  ],
  "mutation_symbol_lines": 82,
  "mutation_symbol_kind": "method",
  "mutation_file_symbols": 42,
  "graph_node_count": 18010,
  "retrieval_top1_top2_gap": 0.026842,
  "retrieval_softmax_entropy": 4.2781,
  "retrieval_softmax_tau": 0.195776,
  "retrieval_effective_candidates": 19.4,
  "retrieval_top5_ratio": 0.8451,
  "retrieval_within95_count": 1,
  "retrieval_scored_symbols": 50,
  "retrieval_top1_score": 0.31359,
  "retrieval_top5_mean_score": 0.265,
  "retrieval_budget_utilization": 1.0,
  "retrieval_file_concentration": 0.2273,
  "repo_name": "pydantic-ai",
  "category": "parts_manager",
  "mutation_type": "none_check_swap",
  "source": "discovered"
}