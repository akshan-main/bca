existing_thinking_part_and_index = existing_part, part_index
    
        if existing_thinking_part_and_index is None:
            if content is None or signature is not None or provider_details is not None:
                # There is no existing thinking part that should be updated, so create a new one
                # Resolve provider_details if it's a callback (with None since there's no existing part)
                resolved_details: dict[str, Any] | None
                resolved_details = provider_details(None) if callable(provider_details) else provider_details
                if content is None and signature is None and provider_details is None:
                    raise UnexpectedModelBehavior(
                        'Cannot create a ThinkingPart with no content, signature, or provider_details'
                    )
                part = ThinkingPart(
                    content=content or '',
                    id=id,
                    signature=signature,
                    provider_name=provider_name,
                    provider_details=resolved_details,
                )
                new_part_index = self._append_part(part, vendor_part_id)
                yield PartStartEvent(index=new_part_index, part=part)
            else:
>               raise UnexpectedModelBehavior(
                    'Cannot create a ThinkingPart with no content, signature, or provider_details'
                )
E               pydantic_ai.exceptions.UnexpectedModelBehavior: Cannot create a ThinkingPart with no content, signature, or provider_details

pydantic_ai_slim/pydantic_ai/_parts_manager.py:243: UnexpectedModelBehavior
=========================== short test summary info ============================
FAILED tests/test_parts_manager.py::test_handle_thinking_delta_no_vendor_id_with_existing_thinking_part
!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 1 failures !!!!!!!!!!!!!!!!!!!!!!!!!!!
========================= 1 failed, 25 passed in 0.78s =========================

/Users/akshankrithick/anaconda3/envs/vvenv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:247: PytestDeprecationWarning: The configuration option "asyncio_default_fixture_loop_scope" is unset.
The event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: "function", "class", "module", "package", "session"

  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))