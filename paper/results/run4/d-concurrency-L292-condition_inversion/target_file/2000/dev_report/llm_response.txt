```
FILE: pydantic_ai_slim/pydantic_ai/concurrency.py
SEARCH:
            self._waiting_count += 1
REPLACE:
            self._waiting_count += 1
            if self._max_queued is not None:
                self._waiting_count = min(self._waiting_count, self._max_queued)
```