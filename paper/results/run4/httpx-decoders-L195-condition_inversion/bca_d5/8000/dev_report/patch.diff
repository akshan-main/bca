FILE: httpx/_models.py
SEARCH:
        if not hasattr(self, "_content"):
            assert isinstance(self.stream, typing.AsyncIterable)
            self._content = b"".join([part async for part in self.stream])
REPLACE:
        if not hasattr(self, "_content"):
            if isinstance(self.stream, typing.AsyncIterable) and not self.stream:
                self._content = b""
            else:
                assert isinstance(self.stream, typing.AsyncIterable)
                self._content = b"".join([part async for part in self.stream])

FILE: httpx/_models.py
SEARCH:
        if not hasattr(self, "_content"):
            assert isinstance(self.stream, typing.Iterable)
            self._content = b"".join(self.stream)
REPLACE:
        if not hasattr(self, "_content"):
            if isinstance(self.stream, typing.Iterable) and not self.stream:
                self._content = b""
            else:
                assert isinstance(self.stream, typing.Iterable)
                self._content = b"".join(self.stream)
