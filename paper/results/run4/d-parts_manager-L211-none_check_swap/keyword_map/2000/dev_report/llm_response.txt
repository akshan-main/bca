```
FILE: pydantic_ai_slim/pydantic_ai/_parts_manager.py
SEARCH:
            existing_thinking_part_and_index = self._latest_part_if_of_type(ThinkingPart)
REPLACE:
            existing_thinking_part_and_index = self._latest_part_if_of_type(ThinkingPart) if self._latest_part_if_of_type(ThinkingPart) is not None else (None, None)
```