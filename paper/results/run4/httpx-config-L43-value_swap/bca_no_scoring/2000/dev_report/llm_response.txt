```
FILE: httpx/_config.py
SEARCH:
    def create_ssl_context(verify: bool = True) -> ssl.SSLContext:
        ctx = ssl.create_default_context()
        ctx.check_hostname = verify
        if verify:
            ctx.verify_mode = ssl.CERT_REQUIRED
        else:
            ctx.verify_mode = ssl.CERT_NONE
REPLACE:
    def create_ssl_context(verify: bool = True) -> ssl.SSLContext:
        ctx = ssl.create_default_context()
        ctx.check_hostname = verify
        if verify:
            ctx.verify_mode = ssl.CERT_REQUIRED
        else:
            ctx.verify_mode = ssl.CERT_NONE if not ctx.check_hostname else ssl.CERT_OPTIONAL
```