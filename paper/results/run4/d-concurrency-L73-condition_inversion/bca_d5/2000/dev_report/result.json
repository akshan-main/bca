{
  "task_id": "d-concurrency-L73-condition_inversion",
  "method": "bca_d5",
  "budget": 2000,
  "query_type": "dev_report",
  "tokens_used": 1962,
  "symbols_selected": 8,
  "files_included": 2,
  "assembly_time_ms": 173.7,
  "llm_time_ms": 2547.4,
  "llm_input_tokens": 2297,
  "llm_output_tokens": 115,
  "tests_passed": false,
  "test_output": "test timeout",
  "patch": "FILE: tests/test_concurrency.py\nSEARCH:\n    async def wait(self) -> None:\n        async with self._lock:\n            self._count += 1\n            if self._count >= self._parties:\n                self._event.set()\n        await self._event.wait()\nREPLACE:\n    async def wait(self) -> None:\n        async with self._lock:\n            self._count += 1\n            if self._count >= self._parties:\n                self._event.set()\n            else:\n                await self._event.wait()\n",
  "error": "",
  "test_time_ms": 60024.0,
  "failure_mode": "timeout",
  "target_file_hit": true,
  "target_symbol_hit": true,
  "context_patch_overlap": 0.5,
  "patch_files_changed": 1,
  "patch_lines_changed": 7,
  "edit_distance_lines": 40,
  "entity_count_extracted": 28,
  "entity_count_mapped": 59,
  "query_identifier_density": 0.1683,
  "seed_symbol_keys": [
    "tests/test_concurrency.py::TestConcurrencyLimitedModel",
    "tests/test_concurrency.py::TestConcurrencyLimitedModel.test_basic_concurrency_limit",
    "pydantic_ai_slim/pydantic_ai/models/gemini.py::_function_call_part_from_call",
    "tests/test_concurrency.py::annotations",
    "tests/test_concurrency.py::importlib.util",
    "tests/test_concurrency.py::TYPE_CHECKING",
    "tests/test_concurrency.py::Any",
    "tests/test_concurrency.py::anyio",
    "tests/test_concurrency.py::pytest",
    "tests/test_concurrency.py::Agent",
    "tests/test_concurrency.py::ConcurrencyLimit",
    "tests/test_concurrency.py::ConcurrencyLimiter",
    "tests/test_concurrency.py::ConcurrencyLimitExceeded",
    "tests/test_concurrency.py::get_concurrency_context",
    "tests/test_concurrency.py::TestModel",
    "tests/test_concurrency.py::logfire_installed",
    "tests/test_concurrency.py::pytestmark",
    "tests/test_concurrency.py::AsyncBarrier",
    "tests/test_concurrency.py::AsyncBarrier.__init__",
    "tests/test_concurrency.py::AsyncBarrier.wait",
    "tests/test_concurrency.py::TestConcurrencyLimiter",
    "tests/test_concurrency.py::TestConcurrencyLimiter.test_basic_acquisition",
    "tests/test_concurrency.py::TestConcurrencyLimiter.test_nowait_acquisition",
    "tests/test_concurrency.py::TestConcurrencyLimiter.test_waiting_count_tracking",
    "tests/test_concurrency.py::TestConcurrencyLimiter.test_backpressure_raises",
    "tests/test_concurrency.py::TestConcurrencyLimiter.test_backpressure_race_condition",
    "tests/test_concurrency.py::TestConcurrencyLimiter.test_from_int_limit",
    "tests/test_concurrency.py::TestConcurrencyLimiter.test_from_limiter_config",
    "tests/test_concurrency.py::TestConcurrencyLimiter.test_properties",
    "tests/test_concurrency.py::TestGetConcurrencyContext",
    "tests/test_concurrency.py::TestGetConcurrencyContext.test_returns_context_when_provided",
    "tests/test_concurrency.py::TestGetConcurrencyContext.test_returns_null_context_when_none",
    "tests/test_concurrency.py::TestAgentConcurrency",
    "tests/test_concurrency.py::TestAgentConcurrency.test_agent_concurrency_limit",
    "tests/test_concurrency.py::TestAgentConcurrency.test_agent_concurrency_backpressure",
    "tests/test_concurrency.py::TestAgentConcurrency.test_agent_no_limit_by_default",
    "tests/test_concurrency.py::TestAgentConcurrency.test_agent_with_int_concurrency",
    "tests/test_concurrency.py::TestAgentConcurrency.test_agent_with_limiter_concurrency",
    "tests/test_concurrency.py::TestConcurrencyLimitedModel.test_with_int_limiter",
    "tests/test_concurrency.py::TestConcurrencyLimitedModel.test_with_concurrency_limit",
    "tests/test_concurrency.py::TestConcurrencyLimitedModel.test_with_shared_limiter",
    "tests/test_concurrency.py::TestConcurrencyLimitedModel.test_shared_limiter_limits_across_models",
    "tests/test_concurrency.py::TestConcurrencyLimitedModel.test_limit_model_concurrency_helper",
    "tests/test_concurrency.py::TestConcurrencyLimitedModel.test_model_properties_delegated",
    "tests/test_concurrency.py::TestAgentWithSharedLimiter",
    "tests/test_concurrency.py::TestAgentWithSharedLimiter.test_agent_with_shared_limiter",
    "tests/test_concurrency.py::TestConcurrencyLimiterName",
    "tests/test_concurrency.py::TestConcurrencyLimiterName.test_limiter_with_name",
    "tests/test_concurrency.py::TestConcurrencyLimiterName.test_limiter_without_name",
    "tests/test_concurrency.py::TestConcurrencyLimiterName.test_from_limit_with_name",
    "tests/test_concurrency.py::TestConcurrencyLimiterName.test_named_limiter_waiting_adds_limiter_name_attribute",
    "tests/test_concurrency.py::TestConcurrencyLimiterName.test_unnamed_limiter_waiting_uses_source_in_span_name",
    "tests/test_concurrency.py::TestConcurrencyLimiterName.test_limiter_with_max_queued_includes_attribute_in_span",
    "tests/test_concurrency.py::TestConcurrencyLimiterWithTracer",
    "tests/test_concurrency.py::TestConcurrencyLimiterWithTracer.test_custom_tracer_is_stored",
    "tests/test_concurrency.py::TestConcurrencyLimiterWithTracer.test_from_limit_with_tracer",
    "tests/test_concurrency.py::TestConcurrencyLimitedModelMethods",
    "tests/test_concurrency.py::TestConcurrencyLimitedModelMethods.test_count_tokens",
    "tests/test_concurrency.py::TestConcurrencyLimitedModelMethods.test_request_stream"
  ],
  "mutation_symbol_key": "pydantic_ai_slim/pydantic_ai/models/concurrency.py::ConcurrencyLimitedModel.__init__",
  "min_hops_seed_to_mutation": 2,
  "median_hops_seed_to_mutation": 4.0,
  "bca_closure_added_symbols": 0,
  "bca_closure_added_tokens": 0,
  "bca_frontier_visited": 4894,
  "context_symbol_keys": [
    "pydantic_ai_slim/pydantic_ai/models/gemini.py::GeminiModel.__init__",
    "pydantic_ai_slim/pydantic_ai/models/gemini.py::_GeminiFunctionCallPart",
    "pydantic_ai_slim/pydantic_ai/models/gemini.py::_function_call_part_from_call",
    "pydantic_ai_slim/pydantic_ai/models/gemini.py::_GeminiFunctionCall",
    "pydantic_ai_slim/pydantic_ai/models/gemini.py::_GeminiFunction",
    "tests/test_concurrency.py::logfire_installed",
    "tests/test_concurrency.py::AsyncBarrier",
    "tests/test_concurrency.py::AsyncBarrier.__init__",
    "tests/test_concurrency.py::AsyncBarrier.wait",
    "tests/test_concurrency.py::TestConcurrencyLimiter.test_backpressure_raises",
    "tests/test_concurrency.py::TestConcurrencyLimiter.test_backpressure_race_condition",
    "tests/test_concurrency.py::TestAgentConcurrency",
    "tests/test_concurrency.py::TestAgentConcurrency.test_agent_concurrency_limit",
    "tests/test_concurrency.py::TestAgentConcurrency.test_agent_concurrency_backpressure",
    "tests/test_concurrency.py::TestAgentConcurrency.test_agent_no_limit_by_default",
    "tests/test_concurrency.py::TestAgentConcurrency.test_agent_with_int_concurrency",
    "tests/test_concurrency.py::TestAgentConcurrency.test_agent_with_limiter_concurrency"
  ],
  "mutation_symbol_lines": 19,
  "mutation_symbol_kind": "method",
  "mutation_file_symbols": 28,
  "graph_node_count": 18010,
  "retrieval_top1_top2_gap": 0.003,
  "retrieval_softmax_entropy": 2.9704,
  "retrieval_softmax_tau": 1.315,
  "retrieval_effective_candidates": 7.84,
  "retrieval_top5_ratio": 0.9869,
  "retrieval_within95_count": 6,
  "retrieval_scored_symbols": 8,
  "retrieval_top1_score": 1.355,
  "retrieval_top5_mean_score": 1.3372,
  "retrieval_budget_utilization": 0.981,
  "retrieval_file_concentration": 0.0,
  "repo_name": "pydantic-ai",
  "category": "concurrency",
  "mutation_type": "condition_inversion",
  "source": "discovered"
}