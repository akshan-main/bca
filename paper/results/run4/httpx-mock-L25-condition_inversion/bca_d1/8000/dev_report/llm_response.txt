```
FILE: httpx/_transports/mock.py
SEARCH:
        if isinstance(response, Response):  # pragma: no cover
            raise TypeError("Cannot use an async handler in a sync Client")
REPLACE:
        if isinstance(response, Response) and not asyncio.iscoroutinefunction(self.handler):  # pragma: no cover
            raise TypeError("Cannot use an async handler in a sync Client")
```