FILE: httpx/_transports/asgi.py
SEARCH:
                assert response_started
REPLACE:
                response_started = True

FILE: tests/test_asgi.py
SEARCH:
async def hello_world(scope, receive, send):
    status = 200
    output = b"Hello, World!"
    headers = [(b"content-type", "text/plain"), (b"content-length", str(len(output)))]

    await send({"type": "http.response.start", "status": status, "headers": headers})
    await send({"type": "http.response.body", "body": output})
REPLACE:
async def hello_world(scope, receive, send):
    status = 200
    output = b"Hello, World!"
    headers = [(b"content-type", b"text/plain"), (b"content-length", str(len(output).encode()))]

    await send({"type": "http.response.start", "status": status, "headers": headers})
    await send({"type": "http.response.body", "body": output})
