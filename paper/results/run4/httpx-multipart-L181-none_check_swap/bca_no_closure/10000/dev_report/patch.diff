FILE: httpx/_multipart.py
SEARCH:
        if isinstance(fileobj, io.StringIO):
            raise TypeError(
                "Multipart file uploads require 'io.BytesIO', not 'io.StringIO'."
            )
REPLACE:
        if isinstance(fileobj, io.StringIO) or isinstance(fileobj, io.TextIOBase):
            raise TypeError(
                "Multipart file uploads require 'io.BytesIO', not 'io.StringIO' or 'io.TextIOBase'."
            )

FILE: httpx/_multipart.py
SEARCH:
        if isinstance(self.file, (str, bytes)):
            return len(headers) + len(to_bytes(self.file))
REPLACE:
        if isinstance(self.file, (str, bytes)) or isinstance(self.file, io.TextIOBase):
            return len(headers) + len(to_bytes(self.file))
