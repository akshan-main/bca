FILE: httpx/_content.py
SEARCH:
def encode_multipart_data(
    data: RequestData, files: RequestFiles, boundary: bytes | None
) -> tuple[dict[str, str], MultipartStream]:
REPLACE:
def encode_multipart_data(
    data: RequestData, files: RequestFiles, boundary: bytes | None
) -> tuple[dict[str, str], MultipartStream]:
    headers = {}
    headers["Content-Length"] = str(len(data))  # Add this line to set Content-Length

FILE: tests/models/test_requests.py
SEARCH:
    assert request.headers["Content-Length"] == "8"
REPLACE:
    assert request.headers["Content-Length"] == str(len(request.content))
