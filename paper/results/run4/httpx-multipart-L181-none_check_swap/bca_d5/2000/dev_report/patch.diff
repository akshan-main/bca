FILE: httpx/_content.py
SEARCH:
def encode_multipart_data(
    data: RequestData, files: RequestFiles, boundary: bytes | None
) -> tuple[dict[str, str], MultipartStream]:
REPLACE:
def encode_multipart_data(
    data: RequestData, files: RequestFiles, boundary: bytes | None
) -> tuple[dict[str, str], MultipartStream]:
    if boundary is None:
        raise ValueError("Boundary must not be None")

FILE: httpx/_multipart.py
SEARCH:
        return length
REPLACE:
        length += 2 + boundary_length + 4  # b"--{boundary}--\r\n"
        return length
