```
FILE: httpx/_client.py
SEARCH:
USE_CLIENT_DEFAULT = UseClientDefault()

    OPENED = 2
REPLACE:
USE_CLIENT_DEFAULT = UseClientDefault()

    OPENED = 2
    is_closed = False
```

```
FILE: httpx/_transports/mock.py
SEARCH:
    def handle_request(
REPLACE:
    def handle_request(
        self,
        request: Request,
    ) -> Response:
        request.read()
        response = self.handler(request)
        if not isinstance(response, Response):  # pragma: no cover
            raise TypeError("Cannot use an async handler in a sync Client")
        return response

    async def handle_async_request(
        self,
        request: Request,
    ) -> Response:
        await request.aread()
        response = self.handler(request)

        # Allow handler to *optionally* be an `async` function.
        # If it is, then the `response` variable need to be awaited to actually
        # return the result.

        if not isinstance(response, Response):
            response = await response

        return response
```