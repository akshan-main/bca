FILE: pydantic_ai_slim/pydantic_ai/_parts_manager.py
SEARCH:
        existing_text_part_and_index: tuple[TextPart, int] | None = None
REPLACE:
        existing_text_part_and_index: tuple[TextPart, int] | None = None
        existing_thinking_part_and_index: tuple[ThinkingPart, int] | None = None

FILE: pydantic_ai_slim/pydantic_ai/_parts_manager.py
SEARCH:
                existing_part = self._parts[part_index]
REPLACE:
                existing_part = self._parts[part_index]
                if isinstance(existing_part, ThinkingPart):
                    existing_thinking_part_and_index = existing_part, part_index

FILE: pydantic_ai_slim/pydantic_ai/_parts_manager.py
SEARCH:
            yield from self._handle_embedded_thinking_content(
REPLACE:
            if existing_thinking_part_and_index is not None:
                yield from self._handle_embedded_thinking_content(
