============================= test session starts ==============================
platform darwin -- Python 3.11.11, pytest-8.3.5, pluggy-1.5.0
rootdir: /Users/akshankrithick/projects/pydantic-ai
configfile: pyproject.toml
plugins: respx-0.22.0, mock-3.15.1, recording-0.13.4, xdist-3.8.0, timeout-2.4.0, order-1.3.0, anyio-4.8.0, rerunfailures-15.1, inline-snapshot-0.31.1, hypothesis-6.148.2, asyncio-1.3.0, rich-0.2.0, cov-7.0.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 34 items

tests/test_builtin_tools.py ssssssssssssssssssssssssssssss.F

=================================== FAILURES ===================================
_________________ test_url_context_tool_backward_compatibility _________________

    def test_url_context_tool_backward_compatibility():
        """Test that old payloads with 'url_context' kind can be deserialized."""
        adapter = TypeAdapter(AbstractBuiltinTool)
    
        # Test 1: Old payload with url_context should deserialize to UrlContextTool (which is deprecated)
        old_payload = {'kind': 'url_context', 'max_uses': 5, 'enable_citations': True}
>       with pytest.warns(DeprecationWarning, match='Use `WebFetchTool` instead.'):
E       Failed: DID NOT WARN. No warnings of type (<class 'DeprecationWarning'>,) were emitted.
E        Emitted warnings: [].

tests/test_builtin_tools.py:84: Failed
=========================== short test summary info ============================
FAILED tests/test_builtin_tools.py::test_url_context_tool_backward_compatibility
!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 1 failures !!!!!!!!!!!!!!!!!!!!!!!!!!!
=================== 1 failed, 1 passed, 30 skipped in 0.37s ====================

/Users/akshankrithick/anaconda3/envs/vvenv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:247: PytestDeprecationWarning: The configuration option "asyncio_default_fixture_loop_scope" is unset.
The event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: "function", "class", "module", "package", "session"

  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))