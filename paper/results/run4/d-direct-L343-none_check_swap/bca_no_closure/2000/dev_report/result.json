{
  "task_id": "d-direct-L343-none_check_swap",
  "method": "bca_no_closure",
  "budget": 2000,
  "query_type": "dev_report",
  "tokens_used": 1953,
  "symbols_selected": 18,
  "files_included": 11,
  "assembly_time_ms": 133.1,
  "llm_time_ms": 1866.6,
  "llm_input_tokens": 2292,
  "llm_output_tokens": 69,
  "tests_passed": false,
  "test_output": "search text not found in tests/test_direct.py",
  "patch": "FILE: tests/test_direct.py\nSEARCH:\n                with stream_sync:\n                    with pytest.raises(RuntimeError, match='Stream failed to initialize within timeout'):\n>                   stream_sync.get()\nREPLACE:\n                with stream_sync as stream:\n                    with pytest.raises(RuntimeError, match='Stream failed to initialize within timeout'):\n                        stream.get()\n",
  "error": "",
  "test_time_ms": 1.4,
  "failure_mode": "patch_apply_fail",
  "target_file_hit": true,
  "target_symbol_hit": true,
  "context_patch_overlap": 0.091,
  "patch_files_changed": 1,
  "patch_lines_changed": 3,
  "edit_distance_lines": -1,
  "entity_count_extracted": 23,
  "entity_count_mapped": 168,
  "query_identifier_density": 0.1316,
  "seed_symbol_keys": [
    "pydantic_ai_slim/pydantic_ai/_agent_graph.py::NoneType",
    "examples/pydantic_ai_examples/slack_lead_qualifier/agent.py::NoneType",
    "pydantic_ai_slim/pydantic_ai/agent/abstract.py::NoneType",
    "examples/pydantic_ai_examples/evals/example_02_add_custom_evaluators.py::NoneType",
    "pydantic_graph/pydantic_graph/beta/graph_builder.py::NoneType",
    "examples/pydantic_ai_examples/evals/example_04_compare_models.py::NoneType",
    "examples/pydantic_ai_examples/evals/example_01_generate_dataset.py::NoneType",
    "examples/pydantic_ai_examples/evals/example_03_unit_testing.py::NoneType",
    "pydantic_ai_slim/pydantic_ai/agent/__init__.py::NoneType",
    "tests/test_ssrf.py::AsyncMock",
    "tests/models/test_mcp_sampling.py::AsyncMock",
    "tests/test_tenacity.py::AsyncMock",
    "tests/test_embeddings.py::AsyncMock",
    "tests/test_ui_web.py::AsyncMock",
    "tests/test_toolsets.py::AsyncMock",
    "tests/models/test_openai.py::AsyncMock",
    "tests/test_mcp.py::AsyncMock",
    "tests/test_direct.py::AsyncMock",
    "pydantic_ai_slim/pydantic_ai/direct.py::StreamedResponseSync",
    "tests/test_direct.py::StreamedResponseSync",
    "tests/graph/test_graph.py::GraphRuntimeError",
    "pydantic_graph/pydantic_graph/exceptions.py::GraphRuntimeError.message",
    "pydantic_graph/pydantic_graph/__init__.py::GraphRuntimeError",
    "pydantic_graph/pydantic_graph/exceptions.py::GraphRuntimeError",
    "tests/graph/test_persistence.py::GraphRuntimeError",
    "pydantic_graph/pydantic_graph/exceptions.py::GraphRuntimeError.__init__",
    "tests/models/test_fallback.py::ModelResponse",
    "tests/test_a2a.py::ModelResponse",
    "tests/models/test_mcp_sampling.py::ModelResponse",
    "tests/test_vercel_ai.py::ModelResponse",
    "tests/models/test_gemini.py::ModelResponse",
    "pydantic_ai_slim/pydantic_ai/models/xai.py::ModelResponse",
    "pydantic_ai_slim/pydantic_ai/models/instrumented.py::ModelResponse",
    "tests/models/test_gemini_vertex.py::ModelResponse",
    "tests/test_cli.py::ModelResponse",
    "pydantic_ai_slim/pydantic_ai/models/gemini.py::ModelResponse",
    "tests/models/test_model_function.py::ModelResponse",
    "tests/test_ag_ui.py::ModelResponse",
    "pydantic_ai_slim/pydantic_ai/models/bedrock.py::ModelResponse",
    "pydantic_ai_slim/pydantic_ai/_a2a.py::ModelResponse",
    "pydantic_ai_slim/pydantic_ai/durable_exec/prefect/_model.py::ModelResponse",
    "pydantic_ai_slim/pydantic_ai/_cli/__init__.py::ModelResponse",
    "tests/test_streaming.py::ModelResponse",
    "tests/models/test_cohere.py::ModelResponse",
    "tests/models/test_openai.py::ModelResponse",
    "tests/test_usage_limits.py::ModelResponse",
    "pydantic_ai_slim/pydantic_ai/models/test.py::ModelResponse",
    "tests/test_messages.py::ModelResponse",
    "pydantic_ai_slim/pydantic_ai/messages.py::ModelResponse",
    "tests/models/test_huggingface.py::ModelResponse",
    "tests/test_dbos.py::ModelResponse",
    "examples/pydantic_ai_examples/chat_app.py::ModelResponse",
    "pydantic_ai_slim/pydantic_ai/models/google.py::ModelResponse",
    "tests/models/test_mistral.py::ModelResponse",
    "pydantic_ai_slim/pydantic_ai/models/huggingface.py::ModelResponse",
    "tests/models/test_instrumented.py::ModelResponse",
    "tests/models/test_model_test.py::ModelResponse",
    "tests/test_logfire.py::ModelResponse",
    "tests/models/test_bedrock.py::ModelResponse",
    "pydantic_ai_slim/pydantic_ai/ui/vercel_ai/_adapter.py::ModelResponse",
    "tests/test_examples.py::ModelResponse",
    "tests/test_history_processor.py::ModelResponse",
    "tests/test_temporal.py::ModelResponse",
    "pydantic_ai_slim/pydantic_ai/models/wrapper.py::ModelResponse",
    "pydantic_ai_slim/pydantic_ai/models/groq.py::ModelResponse",
    "pydantic_ai_slim/pydantic_ai/models/__init__.py::ModelResponse",
    "pydantic_ai_slim/pydantic_ai/models/outlines.py::ModelResponse",
    "tests/models/test_anthropic.py::ModelResponse",
    "tests/models/test_groq.py::ModelResponse",
    "tests/models/test_outlines.py::ModelResponse",
    "tests/test_tools.py::ModelResponse",
    "tests/test_agent.py::ModelResponse",
    "tests/evals/test_evaluators.py::ModelResponse",
    "pydantic_ai_slim/pydantic_ai/__init__.py::ModelResponse",
    "tests/test_direct.py::ModelResponse",
    "tests/models/test_xai.py::ModelResponse",
    "tests/models/test_deepseek.py::ModelResponse",
    "tests/models/test_google.py::ModelResponse",
    "tests/test_prefect.py::ModelResponse",
    "pydantic_ai_slim/pydantic_ai/durable_exec/dbos/_model.py::ModelResponse",
    "pydantic_ai_slim/pydantic_ai/models/mistral.py::ModelResponse",
    "pydantic_ai_slim/pydantic_ai/models/cohere.py::ModelResponse",
    "tests/test_validation_context.py::ModelResponse",
    "pydantic_ai_slim/pydantic_ai/models/openai.py::ModelResponse",
    "tests/models/test_openrouter.py::ModelResponse",
    "pydantic_ai_slim/pydantic_ai/durable_exec/temporal/_model.py::ModelResponse",
    "pydantic_ai_slim/pydantic_ai/ui/_messages_builder.py::ModelResponse",
    "pydantic_ai_slim/pydantic_ai/models/function.py::ModelResponse",
    "tests/models/test_model_settings.py::ModelResponse",
    "pydantic_ai_slim/pydantic_ai/models/mcp_sampling.py::ModelResponse",
    "pydantic_ai_slim/pydantic_ai/models/concurrency.py::ModelResponse",
    "pydantic_ai_slim/pydantic_ai/models/anthropic.py::ModelResponse",
    "tests/test_mcp.py::ModelResponse",
    "tests/models/test_model_settings.py::test_direct_model_request_merges_model_settings",
    "tests/test_direct.py::test_model_request_stream_sync_timeout",
    "tests/test_direct.py::test_model_request_stream_sync_without_context_manager",
    "tests/test_direct.py::test_model_request_stream_sync_exception_in_stream",
    "tests/test_streaming.py::test_streamed_text_stream_sync",
    "tests/test_direct.py::model_request_stream_sync",
    "pydantic_ai_slim/pydantic_ai/direct.py::model_request_stream_sync",
    "tests/test_direct.py::test_model_request_stream_sync",
    "tests/test_direct.py::test_model_request_stream_sync_intermediate_get",
    "pydantic_ai_slim/pydantic_ai/agent/abstract.py::AbstractAgent.run_stream_sync",
    "tests/test_temporal.py::test_pydantic_ai_plugin_with_pydantic_payload_converter_unchanged",
    "tests/test_temporal.py::WorkflowWithAgents.__pydantic_ai_agents__",
    "pydantic_ai_slim/pydantic_ai/durable_exec/temporal/_workflow.py::PydanticAIWorkflow.__pydantic_ai_agents__",
    "tests/test_temporal.py::test_pydantic_ai_plugin_no_converter_returns_pydantic_data_converter",
    "tests/test_temporal.py::test_pydantic_ai_plugin_with_default_payload_converter_replaced",
    "pydantic_ai_slim/pydantic_ai/durable_exec/prefect/_cache_policies.py::DEFAULT_PYDANTIC_AI_CACHE_POLICY",
    "tests/test_temporal.py::test_pydantic_ai_plugin_with_custom_pydantic_subclass_unchanged",
    "tests/conftest.py::pydantic_ai.models",
    "tests/test_temporal.py::WorkflowWithAgentsWithoutPydanticAIWorkflow.__pydantic_ai_agents__",
    "tests/test_temporal.py::uninstrument_pydantic_ai",
    "tests/test_temporal.py::test_pydantic_ai_plugin_with_non_pydantic_converter_warns",
    "pydantic_ai_slim/pydantic_ai/durable_exec/prefect/_types.py::DEFAULT_PYDANTIC_AI_CACHE_POLICY",
    "pydantic_ai_slim/pydantic_ai/_cli/__init__.py::PYDANTIC_AI_HOME",
    "tests/models/test_outlines.py::pydantic_ai_parameters",
    "docs/.hooks/snippets.py::PYDANTIC_AI_EXAMPLES_ROOT",
    "tests/conftest.py::pydantic_ai.models.ALLOW_MODEL_REQUESTS",
    "tests/test_temporal.py::test_pydantic_ai_plugin_with_non_pydantic_converter_preserves_codec",
    "pydantic_ai_slim/pydantic_ai/durable_exec/prefect/__init__.py::DEFAULT_PYDANTIC_AI_CACHE_POLICY",
    "tests/test_temporal.py::test_passing_agents_through_workflow_without_pydantic_ai_workflow",
    "tests/test_temporal.py::test_pydantic_ai_plugin_preserves_custom_payload_codec",
    "pydantic_ai_slim/pydantic_ai/direct.py::StreamedResponseSync._context_entered",
    "tests/test_direct.py::asyncio",
    "tests/test_direct.py::re",
    "tests/test_direct.py::contextmanager",
    "tests/test_direct.py::timezone",
    "tests/test_direct.py::patch",
    "tests/test_direct.py::pytest",
    "tests/test_direct.py::snapshot",
    "tests/test_direct.py::Agent",
    "tests/test_direct.py::_prepare_model",
    "tests/test_direct.py::model_request",
    "tests/test_direct.py::model_request_stream",
    "tests/test_direct.py::model_request_sync",
    "tests/test_direct.py::FinalResultEvent",
    "tests/test_direct.py::ModelMessage",
    "tests/test_direct.py::ModelRequest",
    "tests/test_direct.py::PartDeltaEvent",
    "tests/test_direct.py::PartEndEvent",
    "tests/test_direct.py::PartStartEvent",
    "tests/test_direct.py::TextPart",
    "tests/test_direct.py::TextPartDelta",
    "tests/test_direct.py::ToolCallPart",
    "tests/test_direct.py::ModelRequestParameters",
    "tests/test_direct.py::InstrumentedModel",
    "tests/test_direct.py::TestModel",
    "tests/test_direct.py::ToolDefinition",
    "tests/test_direct.py::RequestUsage",
    "tests/test_direct.py::IsDatetime",
    "tests/test_direct.py::IsNow",
    "tests/test_direct.py::IsStr",
    "tests/test_direct.py::pytestmark",
    "tests/test_direct.py::test_model_request",
    "tests/test_direct.py::test_model_request_tool_call",
    "tests/test_direct.py::test_model_request_sync",
    "tests/test_direct.py::test_model_request_stream",
    "tests/test_direct.py::set_instrument_default",
    "tests/test_direct.py::test_prepare_model",
    "examples/pydantic_ai_examples/data_analyst.py::AnalystAgentDeps.get",
    "tests/example_modules/fake_database.py::FakeTable.get",
    "pydantic_ai_slim/pydantic_ai/result.py::AgentStream.get",
    "pydantic_ai_slim/pydantic_ai/durable_exec/dbos/_model.py::DBOSStreamedResponse.get",
    "pydantic_ai_slim/pydantic_ai/durable_exec/temporal/_model.py::TemporalStreamedResponse.get",
    "pydantic_ai_slim/pydantic_ai/durable_exec/prefect/_model.py::PrefectStreamedResponse.get",
    "pydantic_ai_slim/pydantic_ai/direct.py::StreamedResponseSync.get",
    "pydantic_ai_slim/pydantic_ai/models/__init__.py::StreamedResponse.get"
  ],
  "mutation_symbol_key": "pydantic_ai_slim/pydantic_ai/direct.py::StreamedResponseSync._ensure_stream_ready",
  "min_hops_seed_to_mutation": 1,
  "median_hops_seed_to_mutation": 5.0,
  "bca_closure_added_symbols": 0,
  "bca_closure_added_tokens": 0,
  "bca_frontier_visited": 4323,
  "context_symbol_keys": [
    "pydantic_ai_slim/pydantic_ai/direct.py::STREAM_INITIALIZATION_TIMEOUT",
    "pydantic_ai_slim/pydantic_ai/direct.py::model_request",
    "pydantic_ai_slim/pydantic_ai/direct.py::model_request_sync",
    "pydantic_ai_slim/pydantic_ai/direct.py::model_request_stream",
    "pydantic_ai_slim/pydantic_ai/direct.py::model_request_stream_sync",
    "pydantic_ai_slim/pydantic_ai/direct.py::_prepare_model",
    "pydantic_ai_slim/pydantic_ai/direct.py::StreamedResponseSync",
    "pydantic_ai_slim/pydantic_ai/durable_exec/dbos/_model.py::DBOSStreamedResponse.__init__",
    "pydantic_ai_slim/pydantic_ai/durable_exec/dbos/_model.py::DBOSModel.__init__",
    "pydantic_ai_slim/pydantic_ai/durable_exec/prefect/_model.py::PrefectStreamedResponse.__init__",
    "pydantic_ai_slim/pydantic_ai/durable_exec/prefect/_model.py::PrefectModel.__init__",
    "pydantic_ai_slim/pydantic_ai/durable_exec/temporal/_model.py::TemporalStreamedResponse.__init__",
    "pydantic_ai_slim/pydantic_ai/durable_exec/temporal/_model.py::TemporalModel.__init__",
    "pydantic_ai_slim/pydantic_ai/models/__init__.py::ModelRequestParameters",
    "pydantic_ai_slim/pydantic_ai/models/__init__.py::Model",
    "pydantic_ai_slim/pydantic_ai/models/__init__.py::Model.__init__",
    "pydantic_ai_slim/pydantic_ai/models/__init__.py::StreamedResponse",
    "pydantic_ai_slim/pydantic_ai/result.py::StreamedRunResult.__init__",
    "pydantic_ai_slim/pydantic_ai/result.py::StreamedRunResultSync.__init__",
    "pydantic_ai_slim/pydantic_ai/result.py::FinalResult",
    "pydantic_graph/pydantic_graph/exceptions.py::GraphSetupError.__init__",
    "pydantic_graph/pydantic_graph/exceptions.py::GraphBuildingError.__init__",
    "pydantic_graph/pydantic_graph/exceptions.py::GraphValidationError.__init__",
    "pydantic_graph/pydantic_graph/exceptions.py::GraphRuntimeError",
    "pydantic_graph/pydantic_graph/exceptions.py::GraphRuntimeError.__init__",
    "pydantic_graph/pydantic_graph/exceptions.py::GraphNodeStatusError.__init__",
    "tests/models/test_model_settings.py::test_direct_model_request_merges_model_settings",
    "tests/test_direct.py::test_model_request",
    "tests/test_direct.py::test_model_request_tool_call",
    "tests/test_direct.py::test_model_request_sync",
    "tests/test_direct.py::test_model_request_stream_sync",
    "tests/test_direct.py::test_model_request_stream",
    "tests/test_direct.py::test_model_request_stream_sync_timeout",
    "tests/test_direct.py::set_instrument_default",
    "tests/test_direct.py::test_prepare_model"
  ],
  "mutation_symbol_lines": 12,
  "mutation_symbol_kind": "method",
  "mutation_file_symbols": 48,
  "graph_node_count": 18010,
  "retrieval_top1_top2_gap": 0.02,
  "retrieval_softmax_entropy": 4.156,
  "retrieval_softmax_tau": 1.18,
  "retrieval_effective_candidates": 17.83,
  "retrieval_top5_ratio": 0.9667,
  "retrieval_within95_count": 4,
  "retrieval_scored_symbols": 18,
  "retrieval_top1_score": 1.455,
  "retrieval_top5_mean_score": 1.4066,
  "retrieval_budget_utilization": 0.9765,
  "retrieval_file_concentration": 0.0,
  "repo_name": "pydantic-ai",
  "category": "direct_api",
  "mutation_type": "none_check_swap",
  "source": "discovered"
}