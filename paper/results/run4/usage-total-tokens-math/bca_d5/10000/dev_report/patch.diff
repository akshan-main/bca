FILE: pydantic_ai_slim/pydantic_ai/models/test.py
SEARCH:
        if model_request_parameters.builtin_tools:
            raise UserError('TestModel does not support built-in tools')
REPLACE:
        if model_request_parameters.builtin_tools:
            raise UserError('TestModel does not support built-in tools')
        if model_request_parameters.total_tokens_limit is not None and model_request_parameters.total_tokens_limit < self.input_tokens + self.output_tokens:
            raise UsageLimitExceeded(f'Exceeded the total_tokens_limit of {model_request_parameters.total_tokens_limit} (total_tokens={self.input_tokens + self.output_tokens})')
