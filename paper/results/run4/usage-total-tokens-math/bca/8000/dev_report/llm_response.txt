```
FILE: pydantic_ai_slim/pydantic_ai/models/test.py
SEARCH:
            return ModelResponse(
                parts=[
                    ToolCallPart(name, self.gen_tool_args(args), tool_call_id=f'pyd_ai_tool_call_id__{name}')
                    for name, args in tool_calls
                ],
                model_name=self._model_name,
            )
REPLACE:
            total_input_tokens = sum(self.gen_tool_args(args) for name, args in tool_calls)
            total_output_tokens = 0  # Assuming no output tokens for tool calls
            total_tokens = total_input_tokens + total_output_tokens
            
            if total_tokens > model_request_parameters.total_tokens_limit:
                raise UsageLimitExceeded(f'Exceeded the total_tokens_limit of {model_request_parameters.total_tokens_limit} (total_tokens={total_tokens})')

            return ModelResponse(
                parts=[
                    ToolCallPart(name, self.gen_tool_args(args), tool_call_id=f'pyd_ai_tool_call_id__{name}')
                    for name, args in tool_calls
                ],
                model_name=self._model_name,
            )
```